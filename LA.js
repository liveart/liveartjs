!function(e){function t(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=579)}({216:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=jQuery("#liveart-authorization-popup");(0,L.clearValidationErrors)(e),e.modal("show")}function n(e){if(null==e||13==e.keyCode){var t=jQuery("#liveart-authorization-email-input").val();if((0,L.isEmailValid)(t))D.controlsModel.userEmail(t),userInteract({authorize:D.controlsModel.userEmail()}),jQuery("#liveart-authorization-popup").modal("hide");else{var o=jQuery("#liveart-authorization-popup .email-controls"),r=x.default.translateUI("INVALID_EMAIL_FORMAT");(0,L.showValidationError)(o,r),jQuery("#liveart-authorization-email-input").focus()}}}function i(){var e=jQuery("#liveart-change-user-email-input").val();if((0,L.isEmailValid)(e))userInteract({authorize:e}),jQuery("#liveart-change-user-popup").modal("hide"),C();else{var t=jQuery("#liveart-change-user-popup .email-controls"),o=x.default.translateUI("INVALID_EMAIL_FORMAT");(0,L.showValidationError)(t,o),jQuery("#liveart-change-user-email-input").focus()}}function s(){l(),jQuery("#liveart-confirm-dpu-exceeded-popup").modal("show")}function l(){jQuery("#dpu-exceed-confirmed").prop("checked",!1),D.controlsModel.dpuExceedConfirmed(!1),c()}function c(){var e=jQuery("#dpu-exceed-confirmed").prop("checked");D.controlsModel.dpuExceedConfirmed(e),e?jQuery("#dpu-exceeded-confirm").removeAttr("disabled"):jQuery("#dpu-exceeded-confirm").attr("disabled","disabled")}function u(){D.controlsModel.dpuExceedConfirmed()&&(jQuery("#liveart-confirm-dpu-exceeded-popup").modal("hide"),userInteract({placeOrder:!0,dpuExceedConfirmed:D.controlsModel.dpuExceedConfirmed()}))}function d(){D.controlsModel.dpuExceedConfirmed(!1),jQuery("#place-order-btn").button("reset")}function f(){jQuery("#dpu-exceeded-info-popup").modal("show")}function p(){var e=jQuery("#liveart-auth-and-save-dialog");(0,L.clearValidationErrors)(e),e.modal("show")}function b(e){if((0,L.clearValidationErrors)(jQuery("#liveart-auth-and-save-dialog")),null==e||13==e.keyCode){var t=jQuery("#liveart-auth-and-save-email-input").val(),o=jQuery("#liveart-auth-and-save-name-input").val();if(!(0,L.isDesignNameValid)(o)){var r=jQuery("#liveart-auth-and-save-dialog .design-name-controls"),a=x.default.translateUI("INVALID_DESIGN_NAME");return(0,L.showValidationError)(r,a),void jQuery("#liveart-auth-and-save-name-input").focus()}if(!(0,L.isEmailValid)(t)){var n=jQuery("#liveart-auth-and-save-dialog .email-controls"),i=x.default.translateUI("INVALID_EMAIL_FORMAT");return(0,L.showValidationError)(n,i),void jQuery("#liveart-auth-and-save-email-input").focus()}userInteract({authorize:t,saveDesign:o}),jQuery("#liveart-auth-and-save-dialog").modal("hide"),D.controlsModel.isCompact()&&liveartUI.closeActiveTab()}}function m(){var e=jQuery("#liveart-save-design-popup");(0,L.clearValidationErrors)(e),e.modal("show")}function h(e){if(null==e||13==e.keyCode){var t=jQuery("#liveart-save-design-name-input").val();if(!(0,L.isDesignNameValid)(t)){var o=jQuery("#liveart-save-design-popup .design-name-controls"),r=x.default.translateUI("INVALID_DESIGN_NAME");return(0,L.showValidationError)(o,r),void jQuery("#liveart-save-design-name-input").focus()}userInteract({saveDesign:t}),jQuery("#liveart-save-design-popup").modal("hide"),D.controlsModel.isCompact()&&liveartUI.closeActiveTab()}}function v(){jQuery("#liveart-designs-list-popup").modal("show")}function g(){D.controlsModel.isCompact()||liveartUI.showTextForm()}function O(){D.controlsModel.isCompact()||liveartUI.showGraphicsForm()}function y(){D.controlsModel.isCompact()||liveartUI.showUploadedGraphicsForm()}function I(e){null!=e&&13!=e.keyCode||null!=D.controlsModel.selectedDesign()&&(jQuery("#liveart-designs-list-popup").modal("hide"),liveartUI.closeActiveTab(),userInteract({loadDesign:D.controlsModel.selectedDesign().id}))}function E(){jQuery("#quote-popup").modal("hide"),userInteract({shareDesign:""})}function k(){jQuery("#liveart-share-link-popup .alert").hide(),jQuery("#liveart-share-link-popup").modal("show")}function C(){jQuery("#quote-popup").modal("hide"),userInteract({loadDesign:""})}function S(e){var t="";e&&e.title&&(t=e.title),jQuery("#liveart-auth-and-save-name-input").val(t),jQuery("#liveart-save-design-name-input").val(t)}function P(){if(jQuery("#place-order-btn").hasClass("disabled"))return!1;userInteract({placeOrder:!0,dpuExceedConfirmed:D.controlsModel.dpuExceedConfirmed()})}function _(e){e&&D.controlsModel.redirectUrl&&window.location.assign(D.controlsModel.redirectUrl().replace("${design_id}",e)),jQuery("#place-order-btn").button("reset")}function T(){jQuery("#liveart-share-link-popup .alert").hide();try{jQuery("#liveart-share-link-input").select(),document.execCommand("copy")?jQuery("#liveart-share-link-popup .alert-success").show():jQuery("#liveart-share-link-popup .alert-danger").show()}catch(e){jQuery("#liveart-share-link-popup .alert-danger").show()}}function w(){jQuery("#quote-popup").modal("hide"),userInteract({saveDesign:""})}function A(){jQuery("#liveart-designs-list-popup").modal("hide");var e=jQuery("#liveart-change-user-popup");(0,L.clearValidationErrors)(e),e.modal("show")}function N(){jQuery("#place-order-btn").button("reset"),jQuery("#get-quote-btn").removeClass("active"),liveartUI.closeActiveTab()}function U(){jQuery("#quote-popup").modal("show")}Object.defineProperty(t,"__esModule",{value:!0}),t.showAuthDialog=a,t.onAuthDialogSubmit=n,t.onChangeUserDialogSubmit=i,t.showDPUExceededDialog=s,t.blockConfirmDPUExceeded=l,t.updateConfirmDPUExceeded=c,t.onConfirmDPUExceeded=u,t.onCancelDPUExceeded=d,t.onDPUexceeded=f,t.showAuthAndSaveDialog=p,t.onAuthAndSaveDialogSubmit=b,t.showSaveDesignDialog=m,t.onSaveDesignDialogSubmit=h,t.showLoadDesignDialog=v,t.openTextForm=g,t.openGraphicsForm=O,t.openUploadGraphicsForm=y,t.onLoadDesignDialogSubmit=I,t.onShareDesign=E,t.showShareLink=k,t.onLoadDesign=C,t.setCurrentDesign=S,t.onPlaceOrder=P,t.placeOrderHandler=_,t.copyShareLink=T,t.onSaveDesign=w,t.changeUser=A,t.onPlaceOrderFail=N,t.proceedQuote=U;var L=o(582),D=o(96),j=o(43),x=r(j);r(o(217)),jQuery("#liveart-authorization-popup").on("hidden",function(){jQuery("#place-order-btn").button("reset")}),jQuery("#liveart-auth-and-save-dialog").on("hidden",function(){jQuery("#place-order-btn").button("reset")}),jQuery("ul.liveart-list-view > li#add-graphics > a").on("show.bs.tab",function(){D.controlsModel.onGraphicMenuOpen()})},217:function(e,t,o){"use strict";function r(e){var t={processColors:!1,colorCount:0},o=(0,a.setProperties)(e,t),r=o.processColors,n=o.colorCount,i=this;i.processColors=ko.observable(r),i.colorCount=ko.observable(n),i.colorsList=ko.observableArray([]),i.maxColorsLimit=ko.observable(!1),i.showAlert=ko.computed(function(){return!i.processColors()&&i.maxColorsLimit()}),i.MAX_COLORS=8,i.decreaseQuantity=function(){i.colorCount(i.colorCount()-1)},i.increaseQuantity=function(){i.colorCount(i.colorCount()+1)},i.colorCount.subscribe(function(e){e>i.MAX_COLORS&&i.colorCount(i.MAX_COLORS),e<1&&i.colorCount(1)}),i.selectPrintedColors=function(e){if(!i.processColors()){i.maxColorsLimit(!1);var t=i.colorsList.indexOf(e.value);t>-1?i.colorsList.splice(t,1):i.colorsList().length<i.MAX_COLORS?i.colorsList.push(e.value):i.maxColorsLimit(!0)}},i.fromObject=function(e){(0,a.isNullOrUndefined)(e)||((0,a.isNullOrUndefined)(e.processColors)||i.processColors(e.processColors),(0,a.isNullOrUndefined)(e.colorCount)||i.colorCount(e.colorCount),(0,a.isNullOrUndefined)(e.colorsList)||i.colorsList(e.colorsList),(0,a.isNullOrUndefined)(e.maxColorsLimit)||i.maxColorsLimit(e.maxColorsLimit))},i.toObject=function(){var e={};return e.processColors=i.processColors(),e.colorCount=i.colorCount(),e.colorsList=i.colorsList(),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},218:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={hexValue:"#000000",name:c.default.translateUI("BLACK"),colorizeList:[]},o=(0,n.setProperties)(e,t),r=o.updateHandler,a=o.hexValue,i=o.name,l=o.colorizeList,u=this;u.hexValue=ko.observable(a),u.name=ko.observable(i),u.colorizeList=ko.observableArray(l),u.updateHandler=r,u.suppressUpdate=!1,u.fromObject=function(e){if(!(0,n.isNullOrUndefined)(e)){if(e.length===u.colorizeList().length)u.colorizeList().forEach(function(t,o){t.fromObject(e[o])});else{for(var t=[],o=void 0,r=0;r<e.length;r++){var a=new s.default({updateHandler:u.updateHandler});a.fromObject(e[r]),0===r&&(o=a),r>0&&(e[r-1].name==e[r].name?(a.compactUI(!0),o.compactSkip(o.compactSkip()+1)):o=a),t.push(a)}u.colorizeList(t)}u.suppressUpdate=!1}},u.toColorizeList=function(){for(var e=[],t=0;t<u.colorizeList().length;t++){var o=u.colorizeList()[t];e.push({name:o.name(),color:o.value(),query:o.query(),styleAttr:o.styleAttr()})}return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=o(7),i=o(219),s=r(i),l=o(43),c=r(l)},219:function(e,t,o){"use strict";function r(e){var t={id:"",value:"#000000",name:i.default.translateUI("BLACK"),colors:[]},o=(0,a.setProperties)(e,t),r=o.updateHandler,n=o.value,s=o.name,l=o.colors,c=o.id,u=o.query,d=o.styleAttr,f=o.compactUI,p=(o.compactSkip,this);p.id=ko.observable(c),p.value=ko.observable(n),p.name=ko.observable(s),p.hidePantones=ko.observable(!1),p.query=ko.observable(u),p.styleAttr=ko.observable(d),p.colors=ko.observableArray(l),p.updateHandler=r,p.suppressUpdate=!1,p.compactUI=ko.observable(f),p.compactSkip=ko.observable(0),p.value.subscribe(function(e){p.updateHandler&&!p.suppressUpdate&&r()}),p.computeClass=ko.pureComputed(function(){var e=[];return e.push(p.compactUI()?"inline":"block"),p.compactSkip()>0&&e.push("block-reduce-"+p.compactSkip()),e.join(" ")}),p.fromObject=function(e){(0,a.isNullOrUndefined)(e)||(p.suppressUpdate=!0,(0,a.isNullOrUndefined)(e.id)||p.id(e.id),(0,a.isNullOrUndefined)(e.name)||p.name(e.name),(0,a.isNullOrUndefined)(e.color)||p.value(e.color),(0,a.isNullOrUndefined)(e.query)||p.query(e.query),(0,a.isNullOrUndefined)(e.styleAttr)||p.styleAttr(e.styleAttr),(0,a.isNullOrUndefined)(e.colors)||p.colors(e.colors),(0,a.isNullOrUndefined)(e.hidePantones)?p.hidePantones(!1):p.hidePantones(e.hidePantones),p.suppressUpdate=!1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7),n=o(43),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},220:function(e,t,o){"use strict";function r(e){var t={width:0,height:0,label:"",patternLabel:"${width}x${height}${unit}"},o=(0,a.setProperties)(e,t),r=o.width,i=o.height,s=o.label,l=this;l.width=ko.observable(r),l.height=ko.observable(i),l.label=ko.observable(s),l.widthInput=ko.observable(r),l.heightInput=ko.observable(i),l.sizeLabel=ko.computed(function(){if(l.label())return l.label();var e="";return n.controlsModel&&(e=n.controlsModel.unitLabel()),t.patternLabel.replace("${width}",l.width()).replace("${height}",l.height()).replace("${unit}",e)}),l.fromObject=function(e){(0,a.isNullOrUndefined)(e)||((0,a.isNullOrUndefined)(e.width)||l.width(e.width),(0,a.isNullOrUndefined)(e.height)||l.height(e.height),!(0,a.isNullOrUndefined)(e.editableAreaUnits)&&e.editableAreaUnits.length>=2&&(l.width(e.editableAreaUnits[0]),l.height(e.editableAreaUnits[1])),(0,a.isNullOrUndefined)(e.label)||l.label(e.label),l.widthInput(l.width()),l.heightInput(l.height()))},l.notEmpty=ko.computed(function(){return 0!==l.width()&&0!==l.height()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7),n=o(96)},221:function(e,t,o){"use strict";function r(e){var t={id:"",name:""},o=(0,a.setProperties)(e,t),r=o.id,n=o.name,i=this;i.id=ko.observable(r),i.name=ko.observable(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},222:function(e,t,o){"use strict";function r(e){var t={id:"",name:"",type:"",variations:[]},o=(0,a.setProperties)(e,t),r=o.id,n=o.name,i=o.type,s=o.variations,l=this;l.id=ko.observable(r),l.name=ko.observable(n),l.type=ko.observable(i),l.variations=ko.observable(s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},35:function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(o=window)}e.exports=o},41:function(e,t,o){(function(t){(function(){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function n(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function i(e){return new Promise(function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}})}function s(e){var t=new FileReader,o=i(t);return t.readAsArrayBuffer(e),o}function l(e){var t=new FileReader,o=i(t);return t.readAsText(e),o}function c(e){for(var t=new Uint8Array(e),o=new Array(t.length),r=0;r<t.length;r++)o[r]=String.fromCharCode(t[r]);return o.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&O(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!y(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?n(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return I.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var o=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var o=e.split("="),r=o.shift().replace(/\+/g," "),a=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}}),t}function m(e){var t=new a;return e.split(/\r?\n/).forEach(function(e){var o=e.split(":"),r=o.shift().trim();if(r){var a=o.join(":").trim();t.append(r,a)}}),t}function h(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],O=function(e){return e&&DataView.prototype.isPrototypeOf(e)},y=ArrayBuffer.isView||function(e){return e&&g.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,r){e=t(e),r=o(r);var a=this.map[e];this.map[e]=a?a+","+r:r},a.prototype.delete=function(e){delete this.map[t(e)]},a.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},a.prototype.set=function(e,r){this.map[t(e)]=o(r)},a.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,o){e.push(o)}),r(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,o){e.push([o,t])}),r(e)},v.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var I=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},h.error=function(){var e=new h(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];h.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new h(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=p,e.Response=h,e.fetch=function(e,t){return new Promise(function(o,r){var a=new p(e,t),n=new XMLHttpRequest;n.onload=function(){var e={status:n.status,statusText:n.statusText,headers:m(n.getAllResponseHeaders()||"")};e.url="responseURL"in n?n.responseURL:e.headers.get("X-Request-URL");var t="response"in n?n.response:n.responseText;o(new h(t,e))},n.onerror=function(){r(new TypeError("Network request failed"))},n.ontimeout=function(){r(new TypeError("Network request failed"))},n.open(a.method,a.url,!0),"include"===a.credentials&&(n.withCredentials=!0),"responseType"in n&&v.blob&&(n.responseType="blob"),a.headers.forEach(function(e,t){n.setRequestHeader(t,e)}),n.send(void 0===a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this),e.exports=t.fetch}).call(t)}).call(t,o(35))},43:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={dictionary:{DESIGN_SAVED_MESSAGE:"Design '%title%' saved successfully!",FAIL_TO_LOAD_CONFIG_MESSAGE:"Failed to load config: '%url%'",FAIL_TO_LOAD_PRODUCT_LIST_MESSAGE:"Cannot load product list: empty or non-valid JSON",FAIL_TO_LOAD_PRODUCT:"Cannot load default product.",FAIL_TO_LOAD_FONT_LIST_MESSAGE:"Cannot load font list: empty or non-valid JSON",FAIL_TO_LOAD_COLOR_LIST_MESSAGE:"Cannot load color list: empty or non-valid JSON",FAIL_TO_LOAD_GRAPHIC_LIST_MESSAGE:"Cannot load graphic list: empty or non-valid JSON",FAIL_TO_LOAD_TEXT_EFFECT_LIST_MESSAGE:"Cannot load text effects list: empty or non-valid JSON",FAIL_TO_LOAD_CONFIG_PART_MESSAGE:"Cannot load %key%: empty or non-valid JSON",FAIL_TO_LOAD_PRODUCT_MESSAGE:"Failed to load product '%name%'",FAIL_TO_LOAD_BACKGROUND_MESSAGE:"Failed to load background '%url%'",FAIL_TO_LOAD_PRODUCT_MASK_MESSAGE:"Failed to load product mask '%url%'.",FAIL_TO_LOAD_PRODUCT_GRAPHIC_MESSAGE:"Failed to load graphic '%url%'.",FAIL_TO_LOAD_FONT_MESSAGE:"Error loading font: %fontFamily%.",FAIL_TO_LOAD_DESIGN:"Failed to load design",FAIL_TO_LOAD_DESIGN_TEMPLATE:"Failed to load design template",FAIL_TO_LOAD_DESIGN_LIST:"Failed to load designs list",FAIL_TO_SAVE_DESIGN:"Failed to save design",FAIL_TO_SHARE_DESIGN:"Failed to share design",FAIL_TO_PLACE_ORDER:"Failed to order design",FAIL_TO_OPEN_PRINT_POPUP:"Failed to open print pop-up. Please ensure pop-ups are always allowed for this site.<br/>Note: Cancel page reload (if browser requires such)",NO_FONT_INFO_MESSAGE:"No font info: \n%fontFamily%",NO_FONT_VECTOR_INFO_MESSAGE:"No font vector info: \n%fontFamily%",REGISTERING_FONT_ERROR_MESSAGE:"Error registering font: \n%fontFamily%",LOADING_FONT_ERROR_MESSAGE:"Fail to load font: \n%fontFamily%",QUOTE_ERROR_MESSAGE:"Failed to load quote: %message%",QUOTE_INVALID_RESPONSE_ERROR_MESSAGE:"Failed to load quote! Response is invalid.",WRONG_PRODUCT_ID_ERROR_MESSAGE:"Wrong product ID: %id%.",ORDER_PLACED_SUCCESSFULLY_MESSAGE:"Added to cart successfully!",DESIGN_LOADED_MESSAGE:"Design '%title%' loaded successfully!",DESIGN_WITHOUT_TITLE_LOADED_MESSAGE:"Design loaded successfully!",SAVING_DESIGN_MESSAGE:"Saving design...",SHARING_DESIGN_MESSAGE:"Sharing design...",PLACING_ORDER_MESSAGE:"Adding to cart...",DESIGN_WITHOUT_TITLE_REMOVED_MESSAGE:"Design removed successfully!",DESIGN_REMOVED_MESSAGE:"Design '%title%' removed successfully!",LOADING_COLORS_MESSAGE:"Loading colors...",LOADING_FONTS_MESSAGE:"Loading fonts...",LOADING_EFFECTS_MESSAGE:"Loading effects...",LOADING_PRODUCTS_MESSAGE:"Loading products...",LOADING_GRAPHICS_MESSAGE:"Loading graphics...",LOADING_SOCIAL_MESSAGE:"Loading social configuration...",LOADING_DESIGN_MESSAGE:"Loading design...",LOADING_MESSAGE:"Loading...",LOADED_MESSAGE:"Loaded",LOADING_CONFIGURATION_MESSAGE:"Loading configuration...",SAVING_DESIGN_IDEA_MESSAGE:"Saving Design Idea...",FAIL_TO_SAVE_DESIGN_IDEA_MESSAGE:"Failed to save Design Idea",LOADING_TEMPLATES_LIST_MESSAGE:"Loading Templates List...",FAIL_TO_LOAD_TEMPLATES_LIST_MESSAGE:"Failed to load Templates List",LOADING_PRODUCT_MESSAGE:"Loading product...",LOADING_IMAGE_MESSAGE:"Loading image...",UPLOADING_IMAGE_MESSAGE:"Uploading image...",LOADING_TEXT_MESSAGE:"Rendering text...",UPDATING_OBJECT_MESSAGE:"Updating...",REPLACING_IMAGE_MESSAGE:"Replacing image...",CLEARING_DESIGN_MESSAGE:"Clearing design...",SAVING_TEMPLATE_MESSAGE:"Saving template...",LOADING_DESIGN_LIST_MESSAGE:"Loading designs list...",LOADING_PRINT_MESSAGE:"Print preview preparing...",LOADING_TEMPLATE:"Loading template...",LOADING_DESIGN_IDEA:"Loading design idea...",IMAGE_TOO_LARGE:"Image is too large. Make sure it does not exceed %limit% MB limit.",IMAGE_TYPE_NOT_SUPPORTED:'Image type is not supported. Only "jpg", "jpeg", "svg", "gif", "bmp", "png" are supported.',INCONSISTENT_DESIGNER_MODE_ALERT:"Inconsistent mode configuration:\nTo load %currentMode% mode - %description%",INCONSISTENT_DESIGNER_MODE_ALERT_CREATE_DESCRIPTION:"do not pass design_id.",INCONSISTENT_DESIGNER_MODE_ALERT_EDIT_DESCRIPTION:"design_id is required and design type should be %modeLabel%.",INVALID_DESIGNER_MODE_VALUE:"Incorrect Designer mode. Current mode: %currentMode%. Possible values: [%values%].",PREMADE_TEMPLATE_LABEL:"Premade Template",DESIGN_IDEA_LABEL:"Design Idea",MINIMUM_DIMENSTION_TOOLTIP:"minimum %dimension% is %value%",MINIMUM_SIDE_WIDTH_TOOLTIP:"minimum %side% length is %value%",MAXIMUM_DIMENSTION_TOOLTIP:"maximum %dimension% is %value%",MAXIMUM_SIDE_WIDTH_TOOLTIP:"maximum %side% length is %value%",WIDTH_DIMENSION:"width",HEIGHT_DIMENSION:"height",LONG_SIDE:"long side",SHORT_SIDE:"short side",MINIMUM_STEP:"minimum step is %value%",INVALID_VALUE:"Invalid value",MINIMUM_ORDER_QUANTITY:"Minimum order quantity <br/> for %name% is %minQuantity%",ALL_CATEGORIES:"All Categories",SEARCH:"Search",NO_OBJECTS:"no objects",NO_LETTERINGS:"no letterings",ONE_LETTERING:"one lettering",LETTERINGS_COUNT:"%count% letterings",IMAGES_COUNT:"%count% images",NO_IMAGES:"no images",ONE_IMAGE:"one image",NO_COLORS:"no colors",PROCESS_COLORS:"process colors",ONE_COLOR:"one color",COLORS_COUNT:"%count% colors",UPLOADING_ERROR_MESSAGE:"Uploading image error",FAIL_TO_SIGN_IN:"Could not signin: %error%",NO_PHOTOS_IN_SOCIAL_NETWORK:"No photos in %network%",INSTAGRAM:"Instagram",FACEBOOK:"Facebook",FLICKR:"Flickr",GOOGLE:"Google",CLEAR_DESIGN_CONFIRMATION:"Are you sure to clear design?",INVALID_EMAIL_FORMAT:"Invalid email format",INVALID_DESIGN_NAME:"Invalid design name",REMOVE_DESIGN_CONFIRMATION:"Are you sure to remove '%title%'?",UNLOAD_WARNING:"By exiting this page all design changes will be lost. This window might also popup as a hickup - then just skip it and continue to have fun!",CHOOSE_COLORS:"Please choose colors or click checkbox",EXPAND:"Expand",COLLAPSE:"Collapse",BACK:"Back",OK:"OK",YES:"Yes",NO:"No",NAME_ADDED:"Name is added",NUMBER_ADDED:"Number is added",PREMADE_TEMPLATES_TITLE:"Select Premade template",DESIGN_IDEAS_TITLE:"Select Design idea",REPLACE_ARTWORK_TITLE:"Replace Artwork",EDIT_ARTWORK_TITLE:"Edit Artwork",NONE:"None",BLACK:"Black",TRANSPARENT:"Transparent"},translateUI:function(e,t){var o=e;if(e in this.dictionary&&(o=this.dictionary[e]),t)for(var r in t)t.hasOwnProperty(r)&&(o=o.replace("%"+r+"%",t[r]));return o},firstLetterUppercase:function(e){return e.length?e.charAt(0).toUpperCase()+e.slice(1):e},update:function(e){for(var t in e)t in laTranslation.dictionary&&(laTranslation.dictionary[t]=e[t])}}},579:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}o(580),o(581);var a=o(216),n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(a),i=o(583),s=r(i),l=o(43),c=r(l),u=o(600),d=r(u),f=o(96);Object.assign.call(self,self,n),self.laTranslation=c.default,d.default.defineHandlers(ko.bindingHandlers);var p=new s.default;f.GlobalsResolver.setControlsModel(p),ko.applyBindings(p),self.controlsUpdateHandler=function(e){p.update(e)},self.API_VERSION=1,self.userInteract=function(e){p.suppressUpdate||self.liveArt.userInteract(e,self.API_VERSION)},self.colorCountDialog=p.colorCountDialog,window.uiHelpers={confirm:p.confirm,alert:p.alert,showActionDialog:p.actionDialog},o(619)},580:function(e,t,o){"use strict";var r=o(96),a=o(43),n=function(e){return e&&e.__esModule?e:{default:e}}(a);jQuery("#liveart-authorization-popup").on("hidden",function(){jQuery("#place-order-btn").button("reset")}),jQuery("#liveart-auth-and-save-dialog").on("hidden",function(){jQuery("#place-order-btn").button("reset")}),window.onbeforeunload=function(){if(r.controlsModel.designHasChanges())return n.default.translateUI("UNLOAD_WARNING")},jQuery.fn.colorPicker.defaults.container=jQuery("#liveart-isolate-container"),document.getElementById("canvas-container").addEventListener("contextmenu",function(e){e.preventDefault();var t=document.getElementById("liveart-version-buildtime"),o=function(){var o=document.getElementById("canvas-container"),r=o.getBoundingClientRect(),a=t.getBoundingClientRect(),n=Math.max(5,e.clientX-r.left),i=Math.max(5,e.clientY-r.top);return n+a.width+5>r.width&&(n=r.width-a.width-5),i+a.height+5>r.height&&(i=r.height-a.height-5),{left:n,top:i}}();return t.style.display="block",t.style.left=o.left+"px",t.style.top=o.top+"px",t.innerHTML=function(){function e(e){return e&&e.length&&0!==e.indexOf("{{_")}var t=[],o=r.controlsModel.liveArtInfo();return o?(e(o.version)&&t.push("<b>LiveArt v.</b>"+r.controlsModel.liveArtInfo().version),e(o.buildTime)&&t.push("<b>Build time:</b> "+o.buildTime),e(o.trialEnd)&&t.push("<b>Trial expires:</b> "+o.trialEnd),t.join("<br/>")):""}(),!1},!1),jQuery(document).click(function(e){jQuery("#liveart-content").is(":visible")&&jQuery(".version-buildtime").hide()}),jQuery(".modal").on("hidden.bs.modal",function(){userInteract({userCanceled:!0})}),jQuery(window).resize(function(){jQuery(window).width()<liveartUI.minDesktopViewWidth?r.controlsModel.isCompact(!0):r.controlsModel.isCompact(!1)})},581:function(e,t,o){"use strict";var r=o(7);self.liveartUI.laUpdateSliderRange=function(e,t,o){var a=jQuery(e),n=o(),i=Number(ko.utils.unwrapObservable((0,r.isNullOrUndefined)(n.rangeStart)?50:n.rangeStart)),s=Number(ko.utils.unwrapObservable((0,r.isNullOrUndefined)(n.rangeEnd)?150:n.rangeEnd)),l={range:{min:[i],max:[s]}};a.noUiSlider(l,!0)},self.liveartUI.validationError=function(e,t){e.is(":hidden")||e.hasClass("has-error")||(e.tooltipster({theme:["tooltipster-borderless","tooltipster-borderless-small"],content:t,trigger:"manual"}),e.addClass("has-error"),e.tooltipster("show"))},self.liveartUI.validationSuccess=function(e){e.hasClass("has-error")&&(e.tooltipster("destroy"),e.removeClass("has-error"))}},582:function(e,t,o){"use strict";function r(e){return/^([a-zA-Z0-9_.\-])+@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+/.test(e)}function a(e){return e&&""!==e}function n(e,t){e.addClass("has-error"),e.find(".error-text").text(t),e.find(".validation-error").show()}function i(e){e&&(e.find(".has-error").removeClass("has-error"),e.find(".validation-error").hide())}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmailValid=r,t.isDesignNameValid=a,t.showValidationError=n,t.clearValidationErrors=i},583:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){function e(){userInteract({selectedProductColorize:b.selectedProductColorVO().toColorizeList()})}function t(){var e=b.selectedProductVO().minQuantity(),t=0,o=jQuery.map(b.quantities(),function(e){return t+=e.quantity(),e.toObject()});if(t<e){jQuery("#place-order-btn").addClass("disabled");var r=B.default.translateUI("MINIMUM_ORDER_QUANTITY",{name:b.selectedProductVO().name(),minQuantity:e});jQuery("#place-order-wrapper[data-toggle='tooltip']").tooltip("enable").attr("data-original-title",r)}else jQuery("#place-order-btn").removeClass("disabled"),jQuery("#place-order-wrapper[data-toggle='tooltip']").tooltip("disable");userInteract({updateQuantities:o})}function o(e){var t=jQuery.map(b.namesNumbers(),function(e){return e.toObject()});userInteract({updateNamesNumbers:t})}function r(){"text"!=b.selectedObjectType()||b.suppressTextUpdate||userInteract({updateText:b.selectedLetteringVO().toObject()})}function a(){b.isCompact()&&liveartUI.closeActiveTab(),userInteract({updateGraphics:b.selectedGraphicsFormatVO().toObject()})}function i(e){var t=e.id===controlsModel.selectedObjectPropertiesVO().id();liveartUI.isFormActive("admin")||t||("text"===e.type?Q.openTextForm():"svg"!==e.type&&"image"!==e.type||Q.openGraphicsForm())}function l(e,t){b.suppressTextUpdate=!0,null==e||t?(b.selectedObjectType(t?"multi":"none"),b.selectedLetteringVO().text(""),b.selectedLetteringVO().isNames(!1),b.selectedLetteringVO().isNumbers(!1),b.selectedObjectDPUExceeded(!1),b.showTextEffects&&b.resetTextEffect(null),liveartUI.updateLazyLoadContainer(null,!0),b.adminRestrictions().restoreDefaultState()):(e.id!==controlsModel.selectedObjectPropertiesVO().id()&&jQuery.fn.colorPicker.hidePalette(),b.selectedGraphicsFormatVO().fromObject(e),"text"===e.type?(b.selectedObjectType(e.type),b.selectedLetteringVO().fromObject(e),b.setTextEffect(),b.selectedObjectDPUExceeded(!1)):"svg"!==e.type&&"image"!==e.type||(b.selectedObjectType("graphics"),b.selectedGraphicsFormatVO().fromObject(e),b.selectedObjectDPUExceeded(e.dpuExceeded)),i(e),b.adminRestrictions().fromObject(e.restrictions)),b.selectedObjectPropertiesVO().fromObject(e),b.suppressTextUpdate=!1,b.replaceRequired(!1),setTimeout(function(){var t=document.createEvent("Event");t.initEvent("liveart-object-selected",!0,!1),t.value=e,document.dispatchEvent(t)},200)}function u(e,t){return e.indexOf(t)>-1}function f(e,t){u(e,t)&&delete e[e.indexOf(t)]}var b=this;b.isCompact=ko.observable(jQuery(window).width()<liveartUI.minDesktopViewWidth),b.MAX_SEARCH_RESULTS_LENGTH=994,b.getExpandTooltipText=function(e){return jQuery(e).parents().hasClass("large-tab")?"COLLAPSE":"EXPAND"},b.showProductSelector=ko.observable(!1),b.selectedProductVO=ko.observable(new _.default),b.selectProduct=function(e){e.id!=b.selectedProductVO().id()&&b.selectedProductVO().fromObject(e),liveartUI.closeActiveTab()},b.selectedProductVO().id.subscribe(function(e){b.isCompact()&&liveartUI.closeActiveTab(),userInteract({selectedProductId:e})}),b.currentLocations=ko.observableArray([]),b.setCurrentLocations=function(e){b.currentLocations(e)},b.selectedProductColorVO=ko.observable(new s.default({updateHandler:e})),b.selectedProductColorVO().hexValue.subscribe(function(e){b.selectedProductColorVO().suppressUpdate||userInteract({selectedProductColor:e})}),b.showProductColorPicker=ko.computed(function(){return b.selectedProductVO().colors().length>0&&!b.selectedProductVO().multicolor()}),b.showChangeSizeAndColorTab=ko.computed(function(){var e=b.selectedProductVO().editableAreaSizes().length>1,t=0===b.selectedProductVO().editableAreaSizes().length&&b.selectedProductVO().resizable(),o=e||t,r=b.selectedProductVO().colors().length>0&&!b.selectedProductVO().multicolor(),a=b.selectedProductVO().multicolor()&&b.selectedProductColorVO().colorizeList().length>0,n=r||a,i=b.selectedProductVO().options().length>0;return o||n||i}),b.showSizeLabel=ko.computed(function(){return b.selectedProductVO().resizable()&&1!==b.selectedProductVO().editableAreaSizes().length}),b.preloadFonts=function(){for(var e=jQuery('<div id="liveart-fonts-preloader-container"></div>').appendTo("#liveart-isolate-container"),t=b.fonts(),o=void 0,r=0;r<t.length;r++)jQuery('<p style="font-family:'+t[r].fontFamily+'">'+t[r].fontFamily+"</div>").appendTo(e),t[r].boldAllowed&&(o="font-weight: bold;",jQuery('<p style="font-family:'+t[r].fontFamily+"; "+o+'">'+t[r].fontFamily+"</div>").appendTo(e)),t[r].italicAllowed&&(o="font-style: italic;",jQuery('<p style="font-family:'+t[r].fontFamily+"; "+o+'">'+t[r].fontFamily+"</div>").appendTo(e)),t[r].boldAllowed&&t[r].italicAllowed&&(o="font-weight: bold; font-style: italic;",jQuery('<p style="font-family:'+t[r].fontFamily+"; "+o+'">'+t[r].fontFamily+"</div>").appendTo(e))},b.selectedProductSizeVO=ko.observable(new S.default),b.editableAreaRestrictRotation=ko.observable(!1),b.switchedDimensions=ko.observable(!1),b.disableSizeInputs=ko.computed(function(){return!(!b.selectedProductVO().resizable()||!b.selectedProductVO().locations()[0]||"disable"!==b.selectedProductVO().locations()[0].sizeInputs)}),b.visibleSizeInputs=ko.computed(function(){return!b.selectedProductVO().resizable()||!(b.selectedProductVO().locations()[0]&&"hide"===b.selectedProductVO().locations()[0].sizeInputs||1===b.selectedProductVO().editableAreaSizes().length)}),b.selectedProductVO().id.subscribe(function(){b.selectedProductVO().resizable()&&b.selectedProductVO().locations()[0]&&b.selectedProductVO().locations()[0].editableAreaUnitsRestrictRotation?b.editableAreaRestrictRotation(b.selectedProductVO().locations()[0].editableAreaUnitsRestrictRotation):b.editableAreaRestrictRotation(!1)}),b.selectedProductSizeVO().widthInput.subscribe(function(e){b.changeProductSize(!0,e)}),b.selectedProductSizeVO().heightInput.subscribe(function(e){b.changeProductSize(!1,e)}),b.changeProductSize=function(e,t){var o=0;b.selectedProductVO().locations()[0].editableAreaUnitsRange&&(o=b.selectedProductVO().locations()[0].editableAreaUnitsRange[e?0:1][2]);var r=e?liveartUI.productDimensionsWidth:liveartUI.productDimensionsHeight;liveartUI.validationSuccess(r);var a=e?B.default.translateUI("WIDTH_DIMENSION"):B.default.translateUI("HEIGHT_DIMENSION"),n=Number(b.selectedProductSizeVO().width())>Number(b.selectedProductSizeVO().height()),i=(e?n:!n)?B.default.translateUI("LONG_SIDE"):B.default.translateUI("SHORT_SIDE");if(!t||isNaN(t)){var s=B.default.translateUI("INVALID_VALUE");liveartUI.validationError(r,s)}else{var l=e?parseFloat(t):Number(b.selectedProductSizeVO().width()),c=e?Number(b.selectedProductSizeVO().height()):parseFloat(t),u=b.validateSizes(l,c),d=e?u.width:u.height,f=e?c:l,p=e?u.height:u.width;if(t<d||f>p){var m="",h=d+b.unitLabel();m=b.editableAreaRestrictRotation()?B.default.translateUI("MINIMUM_DIMENSTION_TOOLTIP",{dimension:a,value:h}):B.default.translateUI("MINIMUM_SIDE_WIDTH_TOOLTIP",{side:i,value:h}),m=B.default.firstLetterUppercase(m),liveartUI.validationError(r,m)}else if(t>d||f<p){var v="",g=d+b.unitLabel();v=b.editableAreaRestrictRotation()?B.default.translateUI("MAXIMUM_DIMENSTION_TOOLTIP",{dimension:a,value:g}):B.default.translateUI("MAXIMUM_SIDE_WIDTH_TOOLTIP",{side:i,value:g}),v=B.default.firstLetterUppercase(v),liveartUI.validationError(r,v)}else if(o>0&&t%o!=0){var O=o+b.unitLabel(),y=B.default.translateUI("MINIMUM_STEP",{value:O});y=B.default.firstLetterUppercase(y),liveartUI.validationError(r,y)}else{var I=e?b.selectedProductSizeVO().width:b.selectedProductSizeVO().height;I(t),userInteract({selectedProductSize:{width:b.selectedProductSizeVO().width(),height:b.selectedProductSizeVO().height()}})}}},b.selectedProductDimensionsSwap=function(){var e=b.selectedProductSizeVO().width();b.selectedProductSizeVO().width(b.selectedProductSizeVO().height()),b.selectedProductSizeVO().height(e),b.switchedDimensions(!b.switchedDimensions()),b.selectedProductSizeVO().widthInput(b.selectedProductSizeVO().width()),b.selectedProductSizeVO().heightInput(b.selectedProductSizeVO().height()),userInteract({selectedProductSize:{width:b.selectedProductSizeVO().width(),height:b.selectedProductSizeVO().height()}})},b.selectedProductWidthInputBlur=function(){b.selectedProductSizeVO().widthInput()!=b.selectedProductSizeVO().width()&&b.selectedProductSizeVO().widthInput(b.selectedProductSizeVO().width())},b.selectedProductHeightInputBlur=function(){b.selectedProductSizeVO().heightInput()!=b.selectedProductSizeVO().height()&&b.selectedProductSizeVO().heightInput(b.selectedProductSizeVO().height())},b.selectProductSize=function(e){b.selectedProductSizeVO().width(e.width()),b.selectedProductSizeVO().height(e.height()),b.selectedProductSizeVO().label(e.sizeLabel()),userInteract({selectedProductSize:{width:b.selectedProductSizeVO().width(),height:b.selectedProductSizeVO().height(),label:b.selectedProductSizeVO().label()}})},b.selectedProductLocation=ko.observable(),b.selectProductLocation=function(e){b.selectedProductLocation(e.name),liveartUI.closeActiveTab()},b.selectedProductLocation.subscribe(function(e){userInteract({selectedProductLocation:e})}),b.productColor=ko.computed(function(){return b.selectedProductVO().colors().length>0?b.selectedProductVO().colors():b.colors?b.colors():void 0}),b.productRootCategory=ko.observable(new k.default({id:"root"})),b.productSelectedCategories=ko.observableArray(),b.productCurrentCategory=ko.computed(function(){if(!b.productSelectedCategories()||b.productSelectedCategories().length<1)return new k.default;var e=b.productSelectedCategories().length-1;return b.productSelectedCategories()[e]}),b.productList=[],b.extractProducts=function(e){for(var t=e.categories(),o=0;o<t.length;o++){var r=t[o];b.extractProducts(r)}var a=e.products();if(a)for(var n=0;n<a.length;n++)b.productList.push(a[n])},b.productRootCategory().categories.subscribe(function(e){b.productList=[],b.extractProducts(b.productRootCategory())}),b.parseProducts=function(e){var t=ko.utils.arrayMap(e,function(e){return new k.default(e)});b.productRootCategory().categories(t),b.productSelectedCategories([b.productRootCategory()])},b.needsRecolor=function(){return!0},b.requestProductChange=function(e){if(e.isProduct())return void(e.id()&&(userInteract({requestProductChange:e.id()}),liveartUI.closeActiveTab()));b.productSelectedCategories.push(e)},b.selectProductItem=function(e){if(e.isProduct())return void(e.id()&&(""!==e.colorGroup()&&b.needsRecolor(e.colorGroup())?(b.showRecolorPopup(!0),b.productItemWaitingConfirmation(e)):b.selectProduct(e.obj())));b.productSelectedCategories.push(e)},b.openProductCategory=function(e){if(e&&e.id)if(b.productRootCategory().id()==e.id)b.productSelectedCategories([b.productRootCategory()]);else{if(!b.productRootCategory())return;var t=b.findCategory(e.id,b.productRootCategory().children());t.length>0&&b.productSelectedCategories([b.productRootCategory()].concat(t))}},b.findCategory=function(e,t){for(var o=null,r=0,a=[];!o&&0==a.length&&r<t.length;)t[r].isCategory()&&(t[r].id()==e?o=t[r]:(a=b.findCategory(e,t[r].children()),a.length>0&&(o=t[r]))),r++;return o?[o].concat(a):[]},b.backProductsItem=function(){!b.productSelectedCategories()||b.productSelectedCategories().length<1||b.productSelectedCategories.pop()},b.searchFinished=ko.observable(!0),b.productsSearchQuery=ko.observable(""),b.productsSearchResult=ko.observableArray(),b.productSearchPartFinished=function(e){return b.productsSearchResult.notifySubscribers(),liveartUI.updateLazyLoadContainer(),e==b.productsSearchQuery().toLowerCase()&&b.productsSearchResult().length<b.MAX_SEARCH_RESULTS_LENGTH},b.productItemProcessor=function(e,t){if(t&&e==b.productsSearchQuery().toLowerCase()){for(var o=e.split(" "),r=!0,a=0;a<o.length;a++){var n=o[a];n.length&&(r=r&&t.name.toLowerCase().indexOf(n)>-1)}r&&b.productsSearchResult().length<b.MAX_SEARCH_RESULTS_LENGTH&&b.productsSearchResult().push(new k.default(t))}},b.productsSearchQuery.subscribe(function(e){b.productsSearchResult([]),b.productSelectedCategories([b.productRootCategory()]),e&&e.length&&b.search(e,b.productList,100,b.productItemProcessor,b.productSearchPartFinished)}),b.clearProductsSearch=function(){b.productsSearchQuery("")},b.productBreadcrumbsRender=function(){var e=b.productSelectedCategories().slice(0),t=(0,n.buildBreadcrumbsString)(e,B.default.translateUI("ALL_CATEGORIES"));return b.productsSearchQuery().length>0&&(t=B.default.translateUI("SEARCH")),t},b.currentProducts=ko.computed(function(){var e=b.productsSearchQuery().toLowerCase(),t=b.productsSearchResult();return e.length>0?t:b.productCurrentCategory().children()}),b.showProductsWasNotFound=ko.computed(function(){var e=b.productsSearchQuery().length>0,t=0==b.currentProducts().length;return e&&t&&b.searchFinished()}),b.showSpecifyProductsQuery=ko.computed(function(){var e=b.productsSearchQuery().length>0,t=b.currentProducts().length>=b.MAX_SEARCH_RESULTS_LENGTH;return e&&t}),b.showProductSearchPreloader=ko.computed(function(){return!b.searchFinished()&&0===b.currentProducts().length}),b.prices=ko.observableArray(),b.data=ko.observableArray(),b.sizes=ko.observableArray(),b.quantities=ko.observableArray(),b.quantities.subscribe(function(e){t()}),b.canRemoveSize=ko.computed(function(){return b.selectedProductVO().sizes().length>0&&b.quantities().length>1}),b.addQuantityBaseOnSize=function(e){var o=new L.default({size:e,quantity:1,changeHandler:t});return b.quantities.push(o),o},b.addQuantity=function(){var e=b.selectedProductVO().sizes().length>0?b.selectedProductVO().sizes()[0]:"";return b.addQuantityBaseOnSize(e)},b.removeQuantity=function(e,t){var o=parseInt(e.quantity()),r=-o;b.changeQuantity(e,r,t,{ignoreTotal:!1,removeZero:!0})},b.increaseQuantity=function(e){b.changeQuantity(e,1)},b.decreaseQuantity=function(e,t,o){b.changeQuantity(e,-1,t,o)},b.changeQuantity=function(e,t){var o=parseInt(e.quantity()),r=o+t;e.quantity(r)},b.getQuantity=function(){var e=jQuery.map(b.quantities(),function(e){return e.quantity()>0?e.toObject():void 0});b.addAlert(JSON.stringify(e),"info")},b.totalQuantity=ko.computed(function(){var e=0;return ko.utils.arrayForEach(b.quantities(),function(t){e+=t.quantity()}),e}),b.addNameNumberObj=function(e){liveartUI.resetFocusToTextTab=!1,0==b.namesNumbers().length&&jQuery("#add-names-form").addClass("expanded"),b.isCompact()&&jQuery("#add-names-info").show(),"name"==e?(jQuery("#add-names-info").text(B.default.translateUI("NAME_ADDED")),userInteract({addNameObj:b.selectedLetteringVO().toNamesNumbersObject()})):(jQuery("#add-names-info").text(B.default.translateUI("NUMBER_ADDED")),userInteract({addNumberObj:b.selectedLetteringVO().toNamesNumbersObject()})),setTimeout(function(){jQuery("#names-number-table input").first().focus()},200)},b.removeMobileNamesNumbersTooltip=function(){jQuery("#add-names-info").hide()},b.namesNumbers=ko.observableArray(),b.namesNumbers.subscribe(function(e){o()}),b.canRemoveNameNumber=ko.computed(function(){return b.namesNumbers().length>1}),b.addNameNumber=function(){var e=b.selectedProductVO().sizes().length>0?b.selectedProductVO().sizes()[0]:"",t=new v.default({size:e,changeHandler:o});b.namesNumbers.push(t)},b.removeNameNumber=function(e){b.namesNumbers.remove(e)},b.removeAllNameNumbers=function(){if(null!=b.namesNumbers&&b.selectedProductVO().namesNumbersEnabled())for(;b.namesNumbers().length>0;){var e=b.namesNumbers()[0];b.removeNameNumber(e)}},b.isValidNameNumber=function(e){var t=e.name(),o=!1;t&&(o=!!t.match(/\S/)&&t.match(/\S/).length>0);var r=e.number(),a=!1;return r&&(a=!!r.match(/\S/)&&r.match(/\S/).length>0),o||a},b.fonts=ko.observableArray(),b.selectedFont=ko.computed(function(){for(var e=b.fonts(),t=0;t<e.length;t++)if(b.selectedLetteringVO().formatVO().fontFamily()==e[t].fontFamily)return e[t];return{name:"",fontFamily:"",boldAllowed:!0,italicAllowed:!0}}),b.selectFont=function(e){var t=b.selectedLetteringVO().formatVO();t.fontFamily(e.fontFamily),e.boldAllowed||t.bold(!1),e.italicAllowed||t.italic(!1)},b.showRecolorPopup=ko.observable(!1),b.productItemWaitingConfirmation=ko.observable(""),b.cancelRecolor=function(){b.showRecolorPopup(!1),b.productItemWaitingConfirmation("")},b.confirmRecolor=function(){b.showRecolorPopup(!1);var e=b.productItemWaitingConfirmation();b.selectProduct(e.obj()),b.productItemWaitingConfirmation("")},b.colors=ko.observableArray(),b.strokeColors=ko.observableArray(),b.getColors=function(e){return"stroke"!==ko.utils.unwrapObservable(e).toLowerCase()?b.colors:b.strokeColors},b.graphicRootCategory=ko.observable(new c.default({id:"root"})),b.graphicCatalogBreadcrumbs=ko.observableArray(),b.graphicCurrentCategory=ko.computed(function(){if(!b.graphicCatalogBreadcrumbs()||b.graphicCatalogBreadcrumbs().length<1)return new c.default;var e=b.graphicCatalogBreadcrumbs().length-1;return b.graphicCatalogBreadcrumbs()[e]}),b.graphicCatalogLoaded=function(e){var t=ko.utils.arrayMap(e,function(e){return new c.default(e)});b.graphicRootCategory().categories(t),b.graphicCatalogBreadcrumbs([b.graphicRootCategory()])},b.graphicsList=[],b.extractGraphics=function(e){for(var t=e.categories(),o=0;o<t.length;o++){var r=t[o];b.extractGraphics(r)}var a=e.graphics();if(a)for(var n=0;n<a.length;n++)b.graphicsList.push(a[n])},b.graphicRootCategory().categories.subscribe(function(e){b.graphicsList=[],b.extractGraphics(b.graphicRootCategory())}),b.replaceRequired=ko.observable(!1),b.showImageAddedInfo=ko.observable(!1),b.selectGraphicItem=function(e){if(e.isImage())return void(e.id()&&(b.isCompact()&&b.showImageAddedInfo(!0),b.replaceRequired()?userInteract({replaceGraphics:e.id()}):userInteract({addGraphics:e.id()})));b.graphicCatalogBreadcrumbs.push(e)},b.removeMobileAddedGraphicsTooltip=function(){b.showImageAddedInfo(!1)},b.backGraphicItem=function(){!b.graphicCatalogBreadcrumbs()||b.graphicCatalogBreadcrumbs().length<1||b.graphicCatalogBreadcrumbs.pop()},b.graphicSelectedSubcategory=ko.computed(function(){return!b.graphicCatalogBreadcrumbs()||b.graphicCatalogBreadcrumbs().length<1||b.graphicCatalogBreadcrumbs().length>1}),b.graphicsSearchQuery=ko.observable(""),b.searchGraphicsResult=ko.observableArray(),b.graphicsItemProcessor=function(e,t){if(t&&e==b.graphicsSearchQuery().toLowerCase()){for(var o=e.split(" "),r=!0,a=0;a<o.length;a++){var n=o[a];n.length&&(r=(t.name.toLowerCase().indexOf(n)>-1||t.description.toLowerCase().indexOf(n)>-1)&&r)}r&&b.searchGraphicsResult().length<b.MAX_SEARCH_RESULTS_LENGTH&&b.searchGraphicsResult().push(new c.default(t))}},b.graphicSearchPartFinished=function(e){return b.searchGraphicsResult.notifySubscribers(),liveartUI.updateLazyLoadContainer(),e==b.graphicsSearchQuery().toLowerCase()&&b.searchGraphicsResult().length<b.MAX_SEARCH_RESULTS_LENGTH},b.graphicsSearchQuery.subscribe(function(e){b.searchGraphicsResult([]),b.graphicCatalogBreadcrumbs([b.graphicRootCategory()]),""!==e&&b.search(e,b.graphicsList,100,b.graphicsItemProcessor,b.graphicSearchPartFinished)}),b.clearGraphicsSearch=function(){b.graphicsSearchQuery("")},b.graphicBreadcrumbsString=ko.computed(function(){var e=b.graphicCatalogBreadcrumbs().slice(0),t=(0,n.buildBreadcrumbsString)(e,B.default.translateUI("ALL_CATEGORIES"));return b.graphicsSearchQuery().length>0&&(t=B.default.translateUI("SEARCH")),t}),b.currentGraphics=ko.computed(function(){var e=b.graphicsSearchQuery().toLowerCase(),t=b.searchGraphicsResult();return e.length>0?t:b.graphicCurrentCategory().children()}),b.showGraphicsWasNotFound=ko.computed(function(){var e=b.graphicsSearchQuery().length>0,t=0==b.currentGraphics().length;return e&&t&&b.searchFinished()}),b.showSpecifyGraphicsQuery=ko.computed(function(){var e=b.graphicsSearchQuery().length>0,t=b.currentGraphics().length>=b.MAX_SEARCH_RESULTS_LENGTH;return e&&t}),b.showGraphicSearchPreloader=ko.computed(function(){return!b.searchFinished()&&0===b.currentGraphics().length}),b.maxUploadImageSize=16,b.premadeTemplatesAvailable=ko.observable(!1),b.templateRootCategory=ko.observable(new M.default({id:"root"})),b.templateCatalogBreadcrumbs=ko.observableArray(),b.templateCurrentCategory=ko.computed(function(){if(!b.templateCatalogBreadcrumbs()||b.templateCatalogBreadcrumbs().length<1)return new M.default;var e=b.templateCatalogBreadcrumbs().length-1;return b.templateCatalogBreadcrumbs()[e]}),b.templateCatalogLoaded=function(e){var t=ko.utils.arrayMap(e,function(e){return new M.default(e)});b.templateRootCategory().templates([]),b.templateRootCategory().categories(t),b.templateCatalogBreadcrumbs([b.templateRootCategory()])},b.templateListLoaded=function(e){var t=ko.utils.arrayMap(e,function(e){return new M.default(e)});b.templateRootCategory().categories([]),b.templateRootCategory().templates(t),b.templateCatalogBreadcrumbs([b.templateRootCategory()])},b.templatesList=[],b.templatesTitle=ko.computed(function(){return b.premadeTemplatesAvailable()?B.default.translateUI("PREMADE_TEMPLATES_TITLE"):B.default.translateUI("DESIGN_IDEAS_TITLE")}),b.extractTemplates=function(e){for(var t=e.categories(),o=0;o<t.length;o++){var r=t[o];b.extractTemplates(r)}var a=e.templates();if(a)for(var n=0;n<a.length;n++)b.templatesList.push(a[n])},b.templateRootCategory().categories.subscribe(function(e){b.templatesList=[],b.extractTemplates(b.templateRootCategory())}),b.templateRootCategory().templates.subscribe(function(e){b.templatesList=[],b.extractTemplates(b.templateRootCategory())}),b.selectTemplateItem=function(e){if(e.isTemplate())return void(e.id()&&(liveartUI.closeActiveTab(),userInteract({loadTemplate:e.id()})));b.templateCatalogBreadcrumbs.push(e)},b.backTemplateItem=function(){!b.templateCatalogBreadcrumbs()||b.templateCatalogBreadcrumbs().length<1||b.templateCatalogBreadcrumbs.pop()},b.templateSelectedSubcategory=ko.computed(function(){return!b.templateCatalogBreadcrumbs()||b.templateCatalogBreadcrumbs().length<1||b.templateCatalogBreadcrumbs().length>1}),b.templatesSearchQuery=ko.observable(""),b.searchTemplatesResult=ko.observableArray(),b.templatesItemProcessor=function(e,t){if(t&&e==b.templatesSearchQuery().toLowerCase()){for(var o=e.split(" "),r=!0,a=0;a<o.length;a++){var n=o[a];n.length&&(r=(t.name.toLowerCase().indexOf(n)>-1||t.description.toLowerCase().indexOf(n)>-1)&&r)}if(r){for(var a=0;a<b.searchTemplatesResult().length;a++)if(b.searchTemplatesResult()[a].id()===t.id)return;b.searchTemplatesResult().push(new M.default(t))}}},b.templateSearchPartFinished=function(e){return b.searchTemplatesResult.notifySubscribers(),e==b.templatesSearchQuery().toLowerCase()},b.templatesSearchQuery.subscribe(function(e){b.searchTemplatesResult([]),b.templateCatalogBreadcrumbs([b.templateRootCategory()]),b.search(e,b.templatesList,100,b.templatesItemProcessor,b.templateSearchPartFinished)}),b.clearTemplatesSearch=function(){b.templatesSearchQuery("")},b.templateBreadcrumbsString=ko.computed(function(){var e=b.templateCatalogBreadcrumbs().slice(0),t=(0,n.buildBreadcrumbsString)(e,B.default.translateUI("ALL_CATEGORIES"));return b.templatesSearchQuery().length>0&&(t=B.default.translateUI("SEARCH")),t}),b.currentTemplates=ko.computed(function(){var e=b.templatesSearchQuery().toLowerCase(),t=b.searchTemplatesResult();return e.length>0?t:b.templateCurrentCategory().children()}),b.uiHelpersModal={visible:ko.observable(!1),text:ko.observable(""),header:ko.observable(""),result:ko.observable(!1),actionButtonText:ko.observable(B.default.translateUI("OK")),dismissModalButtonVisible:ko.observable(!1),dismissModalButtonText:ko.observable(B.default.translateUI("NO")),callback:function(){},onConfirm:function(){b.uiHelpersModal.result(!0),b.uiHelpersModal.visible(!1)},alertMode:ko.observable(!1)},b.clearHelperModalValues=function(){b.uiHelpersModal.visible(!1),b.uiHelpersModal.header(""),b.uiHelpersModal.text(""),b.uiHelpersModal.actionButtonText(B.default.translateUI("OK")),b.uiHelpersModal.dismissModalButtonVisible(!1),b.uiHelpersModal.dismissModalButtonText(B.default.translateUI("NO")),b.uiHelpersModal.alertMode(!1)},b.uiHelpersModal.visible.subscribe(function(e){e?b.uiHelpersModal.result(!1):(b.uiHelpersModal.callback&&b.uiHelpersModal.callback(b.uiHelpersModal.result()),b.clearHelperModalValues())}),b.confirm=function(e,t){return b.uiHelpersModal.visible()&&b.uiHelpersModal.callback(!1),new Promise(function(o){b.uiHelpersModal.text(e),b.uiHelpersModal.header(t&&t.header?t.header:""),b.uiHelpersModal.callback=function(e){o(e)},b.uiHelpersModal.dismissModalButtonVisible(!0);var r=t&&t.actionButtonText?t.actionButtonText:B.default.translateUI("YES");b.uiHelpersModal.actionButtonText(r),b.uiHelpersModal.visible(!0)})},b.alert=function(e,t){b.uiHelpersModal.text(e),b.uiHelpersModal.header(t&&t.header?t.header:""),b.uiHelpersModal.visible(!0),b.uiHelpersModal.alertMode(!0)},b.search=function(e,t,o,r,a,n){b.searchFinished(!1),e=e.toLowerCase(),n||(n=0);var i=Math.min(t.length,n+o);setTimeout(function(){for(var s=n;s<i;s++){var l=t[s];l=ko.toJS(l),r(e,l)}a(e)&&i!=t.length?b.search(e,t,o,r,a,i):b.searchFinished(!0)},1)},b.selectedObjectType=ko.observable("none"),b.hasSelected=ko.computed(function(){return"none"!=b.selectedObjectType()&&"multi"!=b.selectedObjectType()}),b.selectedIsText=ko.computed(function(){return"text"==b.selectedObjectType()}),b.selectedIsGraphics=ko.computed(function(){return"graphics"==b.selectedObjectType()}),b.selectedMultiple=ko.computed(function(){return"multi"==b.selectedObjectType()}),b.selectedObjectPropertiesVO=ko.observable(new O.default),b.selectedObjectPropertiesVO().width.subscribe(function(e){b.selectedObjectPropertiesVO().suppressUpdate||userInteract({updateObject:b.selectedObjectPropertiesVO().toWidthObject()})}),b.selectedObjectPropertiesVO().height.subscribe(function(e){b.selectedObjectPropertiesVO().suppressUpdate||userInteract({updateObject:b.selectedObjectPropertiesVO().toHeightObject()})}),b.selectedObjectPropertiesVO().lockScale.subscribe(function(e){b.selectedObjectPropertiesVO().suppressUpdate||userInteract({lockProportions:e})}),b.selectedObjectDPUExceeded=ko.observable(!1),b.selectedIsGraphics=ko.computed(function(){return"graphics"===b.selectedObjectType()}),b.showGallery=ko.computed(function(){return!!(b.selectedIsGraphics()&&b.replaceRequired()||!b.selectedIsGraphics())}),b.editArtworkTitle=ko.computed(function(){return b.replaceRequired()?B.default.translateUI("REPLACE_ARTWORK_TITLE"):B.default.translateUI("EDIT_ARTWORK_TITLE")}),b.selectedLetteringVO=ko.observable(new m.default),b.addText=function(){b.isCompact()&&liveartUI.closeActiveTab();var e=b.selectedLetteringVO().toObject();e.id="",e.type="text",e.isNameObject=!1,e.isNumberObject=!1,userInteract({addText:e})},b.selectedLetteringVO().text.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().fontFamily.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().fillColor.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().bold.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().italic.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().strokeColor.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().letterSpacing.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().lineLeading.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().strokeWidth.subscribe(function(e){r()}),b.selectedLetteringVO().formatVO().textAlign.subscribe(function(e){r()}),b.editTextEnabled=ko.computed(function(){return!(b.selectedLetteringVO().isNames()||b.selectedLetteringVO().isNumbers())}),b.letterSpacingEnabled=ko.observable(!1),b.lineLeadingEnabled=ko.observable(!1),b.suppressTextUpdate=!1,b.textEffects=ko.observableArray([]),b.selectedTextEffectVO=ko.observable(new j.default),b.selectedTextEffectCombined=ko.computed(function(){return b.selectedTextEffectVO().name()+b.selectedTextEffectVO().value()}),b.selectedTextEffectCombined.subscribe(function(e){b.skipUpdateToUi||b.updateTextEffect()}),b.resetTextEffect=function(e){b.suppressUpdateTextEffect=!0,e?(b.selectedTextEffectVO().inverted(e.max()<0),b.selectedTextEffectVO().name(e.name()),b.selectedTextEffectVO().label(e.label()),b.selectedTextEffectVO().paramName(e.paramName()),b.selectedTextEffectVO().min(Math.abs(e.min())),b.selectedTextEffectVO().max(Math.abs(e.max())),b.selectedTextEffectVO().step(e.step()),b.selectedTextEffectVO().value(Math.abs(e.min()).toFixed(2))):(b.selectedTextEffectVO().name("none"),b.selectedTextEffectVO().label(B.default.translateUI("NONE")),b.selectedTextEffectVO().value("0"),b.skipUpdateToUi=!0,b.selectedLetteringVO().formatVO().textEffect("none"),b.selectedLetteringVO().formatVO().textEffectValue("0"),b.skipUpdateToUi=!1),b.suppressUpdateTextEffect=!1},b.suppressUpdateTextEffect=!1,b.updateTextEffect=function(){b.suppressUpdateTextEffect||("none"!=b.selectedTextEffectVO().name()&&"arcUp"!=b.selectedTextEffectVO().name()&&"arcDown"!=b.selectedTextEffectVO().name()&&(b.suppressTextUpdate=!0,b.selectedLetteringVO().formatVO().letterSpacing(0),b.suppressTextUpdate=!1),b.skipUpdateToUi=!0,b.selectedLetteringVO().formatVO().textEffect(b.selectedTextEffectVO().name()),b.selectedLetteringVO().formatVO().textEffectValue(b.selectedTextEffectVO().inverted()?0-b.selectedTextEffectVO().value():b.selectedTextEffectVO().value()),b.skipUpdateToUi=!1,r())},b.skipUpdateToUi=!1,b.setTextEffect=function(){var e=b.selectedLetteringVO().formatVO().textEffect();if("none"===e)b.selectedTextEffectVO().name("none"),b.selectedTextEffectVO().label(B.default.translateUI("NONE"));else{b.skipUpdateToUi=!0;for(var t=0;t<b.textEffects().length;t++)if(b.textEffects()[t].name()==e){var o=b.textEffects()[t];b.selectedTextEffectVO().inverted(o.max()<0),b.selectedTextEffectVO().name(o.name()),b.selectedTextEffectVO().label(o.label()),b.selectedTextEffectVO().paramName(o.paramName()),b.selectedTextEffectVO().min(Math.abs(o.min())),b.selectedTextEffectVO().max(Math.abs(o.max())),b.selectedTextEffectVO().step(o.step())}b.selectedTextEffectVO().value(Math.abs(b.selectedLetteringVO().formatVO().textEffectValue()).toFixed(2)),b.selectedTextEffectVO().value(),b.selectedTextEffectVO().name(),b.skipUpdateToUi=!1}b.suppressUpdateTextEffect=!1},b.showTextEffectImages=ko.observable(!0),b.updateTextEffectsIconsVisibility=function(){var e=(controlsModel.textEffects(),jQuery("#text-effects-selector ul.dropdown-menu li .image-injected").length>1);b.showTextEffectImages(e)},b.selectTextEffect=function(e){var t=ko.utils.unwrapObservable(e.name);b.skipUpdateToUi=!0;for(var o=0;o<b.textEffects().length;o++)if(b.textEffects()[o].name()==t){var r=b.textEffects()[o];b.selectedTextEffectVO().inverted(r.max()<0),b.selectedTextEffectVO().name(r.name()),b.selectedTextEffectVO().label(r.label()),b.selectedTextEffectVO().paramName(r.paramName()),b.selectedTextEffectVO().min(Math.abs(r.min())),b.selectedTextEffectVO().max(Math.abs(r.max())),b.selectedTextEffectVO().step(r.step());var a=b.selectedTextEffectVO().min()+Math.abs(.5*(b.selectedTextEffectVO().max()-b.selectedTextEffectVO().min()));b.selectedTextEffectVO().value(a);break}b.selectedTextEffectVO().value(),b.selectedTextEffectVO().name(),b.skipUpdateToUi=!1,b.suppressUpdateTextEffect=!1,b.updateTextEffect()},b.showTextEffects=ko.computed(function(){return b.textEffects().length>1}),b.showEffectsSlider=ko.computed(function(){return b.showTextEffects()&&"none"!=b.selectedTextEffectVO().name()}),b.showLetterSpacingSlider=ko.computed(function(){var e=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,t="none"==b.selectedTextEffectVO().name()||"arcUp"==b.selectedTextEffectVO().name()||"arcDown"==b.selectedTextEffectVO().name();return!e&&t}),b.showLineLeadingSlider=ko.computed(function(){return b.selectedLetteringVO().text().split("\n").length>1}),b.showStrokeAmountSlider=ko.computed(function(){return"none"!==b.selectedLetteringVO().formatVO().strokeColor()}),b.selectedGraphicsFormatVO=ko.observable(new d.default({updateHandler:a})),b.isColorizableGraphics=ko.computed(function(){return!1}),b.isMulticolorGraphics=ko.computed(function(){return b.selectedIsGraphics()&&b.selectedGraphicsFormatVO().multicolor()}),b.selectedGraphicsFormatVO().strokeColor.subscribe(function(e){a()}),b.selectedGraphicsFormatVO().strokeWidth.subscribe(function(e){a()}),b.selectedGraphicsFormatVO().fillColor.subscribe(function(e){a()}),b.addAnotherArtwork=function(){userInteract({deselectObject:!0}),liveartUI.showGraphicsForm()},b.replaceArtwork=function(){b.selectedIsGraphics()&&b.replaceRequired(!0),liveartUI.showGraphicsForm(),liveartUI.updateLazyLoadContainer()},b.socialShowUploadConditions=function(e){b.customImageUrl(e),b.showUploadConditions("social")},b.showUploadConditions=function(e){"url"==e&&0==b.customImageUrl().length||(b.customImageType(e),jQuery("#liveart-upload-conditions-popup").modal("show"))},b.showUploadTab=function(){b.showSocialNetworksPhotos()||(liveartUI.closeActiveTab(),b.showUploadConditions("upload"))};b.uploadButtonAttrs=function(){return b.showSocialNetworksPhotos()?{href:"#upload-graphics-form","aria-controls":"upload-graphics-form",role:"tab","data-toggle":"tab"}:{}},b.strictTemplate=ko.observable(!1),b.customImageType=ko.observable(""),b.userAcceptsConditions=ko.observable(!1),b.addCustomImage=function(){if(b.userAcceptsConditions()){jQuery("#liveart-upload-conditions-popup").modal("hide");var e=b.customImageType();"url"==e?b.addImageByUrl():"upload"==e?b.uploadImage():"social"==e?(b.addImageByUrl(),b.customImageUrl("")):b.addPhoto(e),b.customImageType(""),b.userAcceptsConditions(!1)}},b.uploadImage=function(){jQuery("#fileupload").trigger("click")},b.addUploadedImage=function(e){b.isCompact()&&liveartUI.closeActiveTab(),userInteract({uploadGraphics:e})},b.customImageUrl=ko.observable(""),b.addImageByUrl=function(){b.customImageUrl().length>0&&(liveartUI.fileUploadByUrl(b.uploadImageUrl(),b.customImageUrl()),liveartUI.hideExpandedWindow(),b.isCompact()&&liveartUI.closeActiveTab())},b.uploadFileURLIsValid=ko.computed(function(){var e=new RegExp("https?://.+");return b.customImageUrl(),e.test(b.customImageUrl())}),jQuery(function(){var e=jQuery("#upload-graphics-form #liveart-social-graphics-list");e.on("scroll",function(){var t=e[0];t.scrollTop>=t.scrollHeight-e.innerHeight()&&b.isPagination()&&b.currentNetwork()&&b.paginationHelloPhotos(b.currentNetwork())})}),b.photos=ko.observableArray([]),b.photosInstagram=ko.observableArray([]),b.photosFacebook=ko.observableArray([]),b.photosFlickr=ko.observableArray([]),b.photosGoogle=ko.observableArray([]),b.isAuthorizedInstagram=ko.observable(!1),b.isAuthorizedFacebook=ko.observable(!1),b.isAuthorizedFlickr=ko.observable(!1),b.isAuthorizedGoogle=ko.observable(!1),b.currentNetwork=ko.observable(""),b.paginationPath=ko.observable("me/photos"),b.isPagination=ko.observable(!1),b.paginationLimit=ko.observable(50),b.photosPreloader=jQuery("#social-photos-preloader"),b.loadPhotosStatus=jQuery("#liveart-social-photos-status"),b.fadeDelay=1200,b.onHelloLogin=function(e){b.currentNetwork(e),"instagram"===e?(b.isAuthorizedInstagram(!0),b.photosInstagram([])):"facebook"===e?(b.isAuthorizedFacebook(!0),b.photosFacebook([])):"flickr"===e?(b.isAuthorizedFlickr(!0),b.photosFlickr([])):"google"===e&&(b.isAuthorizedGoogle(!0),b.photosGoogle([]))},b.logInSocial=function(e){b.photos([]),"facebook"===e?b.paginationPath("me/photos/uploaded?fields=images"):b.paginationPath("me/photos"),b.isAuthorizedSocial(e)?(b.photos(b.getSocialPhotos(e)),liveartUI.showExpandedWindow("upload-graphics-form")):(b.helloInit(e),hello(e).login(e,b.getHelloNetworkOptions(e)).then(function(){b.onHelloLogin(e),liveartUI.showExpandedWindow("upload-graphics-form"),jQuery("#liveart-social-graphics-list").scrollTop(0),b.photosPreloader.fadeIn(b.fadeDelay),b.paginationHelloPhotos(e)}))},b.helloInit=function(e){hello.init({instagram:b.instagramClientID(),facebook:b.facebookClientID(),flickr:b.flickrClientID(),google:b.googleClientID()},{state:{url:encodeURIComponent(location.origin+location.pathname)}})},b.getHelloNetworkOptions=function(e){var t={redirect_uri:b.authorizedRedirectUrl()};return"instagram"===e?t.scope="photos":"facebook"===e?t.scope="user_photos":"flickr"===e?t.scope="photos":"google"===e&&(t.scope="photos, photos2, photos3, photos4"),t},b.isAuthorizedSocial=function(e){return"instagram"===e?b.isAuthorizedInstagram():"facebook"===e?b.isAuthorizedFacebook():"flickr"===e?b.isAuthorizedFlickr():"google"===e&&b.isAuthorizedGoogle()},b.getSocialPhotos=function(e){return"instagram"===e?b.photosInstagram():"facebook"===e?b.photosFacebook():"flickr"===e?b.photosFlickr():"google"===e?b.photosGoogle():[]},b.processSocialResponse=function(e,t){for(var o=0;o<t.data.length;o++)if("instagram"===e)b.photosInstagram.push(new I.default({thumb:t.data[o].thumbnail,image:t.data[o].picture}));else if("facebook"===e){if(t.data[o].images&&t.data[o].images.length>0){var r=t.data[o].images[0].source,a=t.data[o].images[t.data[o].images.length-1].source;b.photosFacebook.push(new I.default({thumb:a,image:r}))}}else"flickr"===e?b.photosFlickr.push(new I.default({thumb:t.data[o].thumbnail,image:t.data[o].source})):"google"===e&&b.photosGoogle.push(new I.default({thumb:t.data[o].thumb,image:t.data[o].image}))},b.paginationHelloPhotos=function(e){var t=function(t){if(t.error)return b.responseSocialError(t),!1;if(t.data.length<1){var o=B.default.translateUI("NO_PHOTOS_IN_SOCIAL_NETWORK",{network:B.default.translateUI(e.toUpperCase())});return b.loadPhotosStatus.html(o),b.isPagination(!1),b.photosPreloader.fadeOut(b.fadeDelay),!1}b.loadPhotosStatus.html(""),t.data?(b.photosPreloader.fadeIn(b.fadeDelay),b.processSocialResponse(e,t),b.photos(b.getSocialPhotos(e)),b.photosPreloader.fadeOut(b.fadeDelay),t.paging&&t.paging.next?(b.isPagination(!0),b.paginationPath(t.paging.next)):b.isPagination(!1)):(b.isPagination(!1),b.photosPreloader.fadeOut(b.fadeDelay))};"google"===e?hello(e).api(b.paginationPath(),"post",b.googleRequestOptions(),t):hello(e).api(b.paginationPath(),{limit:b.paginationLimit()},t)},b.googleRequestOptions=function(){return{pageSize:2*b.paginationLimit(),filters:{mediaTypeFilter:{mediaTypes:["PHOTO"]}}}},b.liveArtInfo=ko.observable(new z.default),b.uploadImageUrl=ko.observable(""),b.status=ko.observable({}),b.percentCompleted=ko.computed(function(){return b.status().percentCompleted+"%"}),b.lvieartInited=ko.observable(!1),b.lvieartInited.subscribe(function(e){e&&setTimeout(function(){var e=document.createEvent("Event");e.initEvent("liveart-inited",!0,!1),document.dispatchEvent(e)},1e3)}),b.status.subscribe(function(e){e&&e.percentCompleted&&b.lvieartInited(100==e.percentCompleted),e.imageUploading?jQuery("#liveart-upload-image-browse-btn").button("loading"):jQuery("#liveart-upload-image-browse-btn").button("reset")}),b.onObjectsAdded=function(e){var t=document.createEvent("Event");t.initEvent("liveart-objects-added",!0,!1),document.dispatchEvent(t)},b.arrange=function(e){userInteract({arrange:e})},b.align=function(e){userInteract({align:e})},b.flip=function(e){userInteract({flip:e})},b.clearDesign=function(){!0===confirm(B.default.translateUI("CLEAR_DESIGN_CONFIRMATION"))&&(b.removeAllNameNumbers(),userInteract({clearDesign:!0}))},b.lockProportions=ko.observable(!0),b.lockProportions.subscribe(function(e){userInteract({lockProportions:e})}),b.unitLabel=ko.observable(""),b.zoomEnabled=ko.observable(!1),b.minZoom=ko.observable(50),b.maxZoom=ko.observable(150),b.zoom=ko.observable(100),b.zoom.subscribe(function(e){userInteract({zoom:Number(e)})}),b.zoomIn=function(){userInteract({zoomIn:!0})},b.zoomOut=function(){userInteract({zoomOut:!0})},b.drag=ko.observable(!1),b.drag.subscribe(function(e){userInteract({drag:e})}),b.designsList=ko.observableArray(),b.selectedDesign=ko.observable(),b.designNotes=ko.observable(),b.designNotes.subscribe(function(e){userInteract({designNotes:e})}),b.onDesignSelected=function(e){b.selectedDesign(e)},b.shareLink=ko.observable(""),b.userEmail=ko.observable(),b.designName=ko.observable(""),b.designInfo=ko.observable({}),b.objectsCount=ko.computed(function(){var e="";if((0,n.isNullOrUndefined)(b.designInfo().objectsCount))e=B.default.translateUI("NO_OBJECTS");else if(b.designInfo().objectsCount)if(0===b.designInfo().objectsCount.letteringsCount&&0===b.designInfo().objectsCount.imagesCount)e=B.default.translateUI("NO_OBJECTS");else{var t="",o="";if(0===b.designInfo().objectsCount.letteringsCount)o=B.default.translateUI("NO_LETTERINGS");else if(1===b.designInfo().objectsCount.letteringsCount)o=B.default.translateUI("ONE_LETTERING");else if(b.designInfo().objectsCount.letteringsCount>1){var r=b.designInfo().objectsCount.letteringsCount;o=B.default.translateUI("LETTERINGS_COUNT",{count:r})}if(0===b.designInfo().objectsCount.imagesCount)t=B.default.translateUI("NO_IMAGES");else if(1===b.designInfo().objectsCount.imagesCount)t=B.default.translateUI("ONE_IMAGE");else if(b.designInfo().objectsCount.imagesCount>1){var a=b.designInfo().objectsCount.imagesCount;t=B.default.translateUI("IMAGES_COUNT",{count:a})}e=o+", "+t}return B.default.firstLetterUppercase(e)}),b.colorsCount=function(e){var t="";if(0===e)t=B.default.translateUI("NO_COLORS");else if(-1===e)t=B.default.translateUI("PROCESS_COLORS");else if(1===e)t=B.default.translateUI("ONE_COLOR");else if(e>1){var o=B.default.translateUI("COLORS_COUNT",{count:e});t=o}return B.default.firstLetterUppercase(t)},b.designHasRestrictedObjects=ko.observable(!1),b.designHasChanges=ko.observable(!1),b.dpuExceedConfirmed=ko.observable(!1),b.imageColorCount=ko.observable(new p.default),b.colorCountDialogCTADisabled=ko.computed(function(){return!b.imageColorCount().processColors()&&0==b.imageColorCount().colorsList().length}),b.colorCountModal={visible:ko.observable(!1),result:ko.observable(!1),callback:function(e){},onConfirm:function(){b.colorCountModal.result(b.imageColorCount().toObject()),b.colorCountModal.visible(!1)}},b.colorCountModal.visible.subscribe(function(e){e?(b.imageColorCount().fromObject({processColors:!1,colorCount:0,colorsList:[],maxColorsLimit:!1}),b.colorCountModal.result({processColors:!1,colorCount:0,colorsList:[]}),jQuery("#liveart-color-count-popup").modal({backdrop:"static"})):(b.colorCountModal.callback&&b.colorCountModal.callback(b.colorCountModal.result()),jQuery("#liveart-color-count-popup").modal("hide"))}),b.colorCountDialog=function(){return b.colorCountModal.visible()&&b.colorCountModal.callback({processColors:!0,colorCount:0,colorsList:[]}),new Promise(function(e){b.colorCountModal.callback=function(t){e(t)},b.colorCountModal.visible(!0)})},b.print=function(){jQuery("#quote-popup").modal("hide"),userInteract({print:!0})},b.copy=function(){b.bufferNotEmpty(!0),userInteract({copy:!0})},b.paste=function(){userInteract({paste:!0})},b.restrictions=ko.observable(new N.default(b)),b.minDPU=ko.observable(),b.undo=function(){b.isUndoActive()&&userInteract({undo:!0})},b.redo=function(){b.isRedoActive()&&userInteract({redo:!0})},b.isUndoActive=ko.observable(!1),b.isRedoActive=ko.observable(!1),b.showCustomPreloader=ko.observable(!1),b.customLoading=ko.observable(!1),b.showCustomPreloader.subscribe(function(e){b.customLoading(e.showPreloader),b.preloaderStatus(e)}),b.showUploadedColorsDialog=ko.observable(!0),b.instagramClientID=ko.observable(""),b.facebookClientID=ko.observable(""),b.googleClientID=ko.observable(""),b.flickrClientID=ko.observable(""),b.authorizedRedirectUrl=ko.observable(""),b.showInstagramPhotos=ko.computed(function(){return""!==b.instagramClientID()&&""!==b.authorizedRedirectUrl()}),b.showFacebookPhotos=ko.computed(function(){return""!==b.facebookClientID()&&""!==b.authorizedRedirectUrl()}),b.showFlickrPhotos=ko.computed(function(){return""!==b.flickrClientID()&&""!==b.authorizedRedirectUrl()}),b.showGooglePhotos=ko.computed(function(){return""!==b.googleClientID()&&""!==b.authorizedRedirectUrl()}),b.showSocialNetworksPhotos=ko.computed(function(){return b.showInstagramPhotos()||b.showFacebookPhotos()||b.showFlickrPhotos()||b.showGooglePhotos()}),b.addAlert=function(e,t){liveartUI.addAlert(e,t)},b.showRemoveDesign=ko.observable(!1),b.removeDesign=function(e){confirm(B.default.translateUI("REMOVE_DESIGN_CONFIRMATION",{title:e.title}))&&userInteract({removeDesign:e.id})},b.showLoadDesignPreloader=ko.observable(!1),b.showLoadDesignPreloader.subscribe(function(e){var t={showPreloader:!1,text:B.default.translateUI("LOADING_YOUR_DESIGN_MESSAGE")};e&&b.status().completed&&(t.showPreloader=!0),b.preloaderStatus(t)}),b.showPlaceOrderPreloader=ko.observable(!1),b.showPlaceOrderPreloader.subscribe(function(e){var t={showPreloader:!1,text:B.default.translateUI("PLACING_ORDER_MESSAGE")};e&&b.status().completed&&(t.showPreloader=!0),b.preloaderStatus(t)}),b.preloaderStatus=ko.observable({}),b.preloaderTheme=ko.observable(""),b.preloaderStatus.subscribe(function(e){if(e){var t=jQuery("#liveart-preloader");if(e.showPreloader&&!t.is(":visible")){var o=t.modal({show:!0,backdrop:!1});b.preloaderTheme()&&o.removeClass(b.preloaderTheme()),e.theme&&(o.addClass(e.theme),b.preloaderTheme(e.theme));var r=B.default.translateUI("LOADING_MESSAGE");e.text&&(r=e.text);var a=t.find(".preloader-text");a&&a.length&&(a[0].innerHTML=r)}else e.showPreloader||(t.modal("hide"),t.on("hidden.bs.modal",function(){t.removeClass(b.preloaderTheme()),b.preloaderTheme("")}),liveArtResponsive&&liveArtResponsive.resize&&liveArtResponsive.resize())}}),b.bufferNotEmpty=ko.observable(!1),b.isEnabledToolsButton=ko.computed(function(){return(b.hasSelected()||b.selectedMultiple()||b.bufferNotEmpty())&&!b.strictTemplate()}),b.disableObjectToolsAction=ko.computed(function(){return!b.hasSelected()}),b.disableCopy=ko.computed(function(){return"none"==b.selectedObjectType()}),b.validateSizes=function(e,t){},b.selectedProductOptions=ko.observableArray([]),b.selectProductOption=function(e,t,o){var r=e.id,a="";t&&(a=t.id);var n=o;userInteract({selectProductOption:{optionId:r,variationId:a,value:n}})},b.setSelectedProductOptions=function(e){if(e){var t=jQuery.map(e,function(e){return new w.default({option:e.option,variation:e.variation,value:e.value})});b.selectedProductOptions(t)}else b.selectedProductOptions([])},b.productOptionCheckboxClick=function(e){e.value()?b.selectProductOption(e.option(),null,!1):b.selectProductOption(e.option(),null,!0)},b.copyToBack=function(){userInteract({copyToBack:!0})},b.showCopyToBack=ko.computed(function(){return b.selectedProductVO().enableCopyToBack()&&b.currentLocations().length>1}),b.designerMode=ko.observable("Default"),b.premadeTemplateMode=ko.computed(function(){return"createPremadeTemplate"===b.designerMode()||"editPremadeTemplate"===b.designerMode()}),b.designIdeaMode=ko.computed(function(){return"createDesignIdea"===b.designerMode()||"editDesignIdea"===b.designerMode()}),b.calculateTemplates=function(e){var t=0;return e.children().forEach(function(e){e.isTemplate()?t++:b.calculateTemplates(e)}),t},b.hideDesignIdeas=ko.computed(function(){var e=b.calculateTemplates(b.templateRootCategory());return b.premadeTemplateMode()||0===e||e<2&&b.selectedProductVO().defaultTemplateId().length>0}),b.adminRestrictions=ko.observable(new V.default),b.adminRestrictionControlsEnabled=ko.computed(function(){return b.hasSelected()&&!b.adminRestrictions().fixedPosition()}),b.adminRestrictions().required.subscribe(function(e){userInteract({setRequired:e}),e||b.adminRestrictions().fixedPosition(!1)}),b.adminRestrictions().fixedPosition.subscribe(function(e){e?userInteract({setFixedPosition:e}):userInteract({setFixedPosition:e,setRequired:b.adminRestrictions().required()})}),b.adminRestrictions().constrained.subscribe(function(e){userInteract({setConstained:e}),e||b.adminRestrictions().fixedPosition(!1)}),b.showObjectConstraints=function(){userInteract({showObjectConstraints:!0})},b.applyObjectConstraints=function(){userInteract({showObjectConstraints:!1})},b.onSaveTemplateClicked=function(){userInteract({saveTemplate:name})},b.isAddTextVisible=ko.computed(function(){var e=b.premadeTemplateMode()||!b.strictTemplate(),t=b.selectedLetteringVO().isNames()||b.selectedLetteringVO().isNumbers();return e&&!t}),b.showActionDialog=ko.observable(!1),b.actionDialogText=ko.observable(""),b.actionDialogTitle=ko.observable(""),b.actionDialogOptions=ko.observable([]),b.actionDialogResult=ko.observable("dismiss"),b.actionDialogCallback=null,b.showActionDialog.subscribe(function(e){if(!e){b.actionDialogText(""),b.actionDialogTitle(""),b.actionDialogOptions([]);var t=b.actionDialogResult();b.actionDialogResult("dismiss"),"function"==typeof b.actionDialogCallback&&b.actionDialogCallback(t)}}),b.onActionDialogInteraction=function(e){b.actionDialogResult(e),b.showActionDialog(!1)},b.actionDialog=function(e,t,o){return new Promise(function(r){b.actionDialogTitle(e),b.actionDialogText(t),b.actionDialogOptions(o),b.actionDialogCallback=function(e){r(e)},b.showActionDialog(!0)})},b.onGraphicMenuOpen=function(){"graphics"===b.selectedObjectType()&&liveartUI.collapseGraphicForm()},b.suppressUpdate=!1,b.update=function(e){var r=e.invalidateList?e.invalidateList:[];if(b.suppressUpdate=!0,b.designHasRestrictedObjects(e.designHasRestrictedObjects),b.premadeTemplatesAvailable(e.premadeTemplatesAvailable),b.designHasChanges(e.designHasChanges),u(r,"liveArtInfo")&&(b.liveArtInfo(new z.default(e.liveArtInfo)),f(r,"liveArtInfo")),u(r,"status")&&(b.status(e.status),f(r,"status")),u(r,"selectedProduct")&&(b.selectedProductVO().fromObject(e.selectedProduct),f(r,"selectedProduct")),u(r,"configLoaded")&&(self.liveArt.userInteract({uiReady:!0}),f(r,"configLoaded")),u(r,"selectedProductCategory")&&(b.openProductCategory(e.selectedProductCategory),f(r,"selectedProductCategory")),u(r,"showCustomPreloader")&&(b.showCustomPreloader(e.showCustomPreloader),f(r,"showCustomPreloader")),u(r,"selectedProductMColors")&&(b.selectedProductColorVO().fromObject(e.selectedProductMColors),b.selectedProductVO().multicolor(b.selectedProductColorVO().colorizeList().length>0),f(r,"selectedProductMColors")),u(r,"selectedProductColor")&&(e.selectedProductColor&&(b.selectedProductColorVO().hexValue(e.selectedProductColor.value),b.selectedProductColorVO().name(e.selectedProductColor.value),b.selectedProductColorVO().colorizeList([])),f(r,"selectedProductColor")),u(r,"selectedProductSize")&&(b.selectedProductSizeVO().fromObject(e.selectedProductSize),f(r,"selectedProductSize")),u(r,"selectedProductLocation")&&(b.selectedProductLocation(e.selectedProductLocation),f(r,"selectedProductLocation")),u(r,"needsRecolorFunction")&&(b.needsRecolor=e.needsRecolorFunction,f(r,"needsRecolorFunction")),u(r,"productCategories")&&(b.parseProducts(e.productCategories),f(r,"productCategories")),u(r,"graphicsCategories")&&(b.graphicCatalogLoaded(e.graphicsCategories),f(r,"graphicsCategories")),u(r,"fonts")&&(b.fonts(e.fonts),b.preloadFonts(),e.fonts.length>0&&b.selectFont(e.fonts[0]),f(r,"fonts")),u(r,"colors")){b.colors(e.colors);var a=[];a.push({value:"none",name:B.default.translateUI("TRANSPARENT")}),b.strokeColors(a.concat(e.colors)),f(r,"colors")}if(u(r,"pantones")&&(jQuery.fn.colorPicker.setPantones(e.pantones),f(r,"pantones")),u(r,"selectedObj")&&(l(e.selectedObj,e.multipleObjectsSelected),f(r,"selectedObj")),u(r,"quantities")){f(r,"quantities");var i=jQuery.map(e.quantities,function(e){return new L.default({size:e.size,quantity:e.quantity,changeHandler:t})});b.quantities(i)}if(u(r,"namesNumbers")){f(r,"namesNumbers");var s=jQuery.map(e.namesNumbers,function(e){return new v.default({name:e.name,number:e.numberText,size:e.size,changeHandler:o})});b.namesNumbers([]),b.namesNumbers(s)}if(u(r,"designInfo")&&!(0,n.isNullOrUndefined)(e.designInfo)&&(b.designInfo(e.designInfo),f(r,"designInfo")),u(r,"designs")&&(b.designsList(e.designs),f(r,"designs")),u(r,"designNotes")&&(b.designNotes(e.designNotes),f(r,"designNotes")),u(r,"showAuthDialog")&&e.showAuthDialog&&(showAuthDialog(),f(r,"showAuthDialog")),u(r,"showAuthAndSaveDialog")&&e.showAuthAndSaveDialog&&(showAuthAndSaveDialog(),f(r,"showAuthAndSaveDialog")),u(r,"showSaveDesignDialog")&&e.showSaveDesignDialog&&(Q.showSaveDesignDialog(),f(r,"showSaveDesignDialog")),u(r,"showLoadDesignDialog")&&e.showLoadDesignDialog&&(showLoadDesignDialog(),f(r,"showLoadDesignDialog")),u(r,"showRemoveDesign")&&(b.showRemoveDesign(e.showRemoveDesign),f(r,"showRemoveDesign")),u(r,"showLoadDesignPreloader")&&(b.showLoadDesignPreloader(e.showLoadDesignPreloader),f(r,"showLoadDesignPreloader")),u(r,"showPlaceOrderPreloader")&&(b.showPlaceOrderPreloader(e.showPlaceOrderPreloader),f(r,"showPlaceOrderPreloader")),u(r,"showDPUExceeded")&&(b.selectedObjectDPUExceeded(e.showDPUExceeded),f(r,"showDPUExceeded")),u(r,"showDPUExceededDialog")&&e.showDPUExceededDialog&&((0,G.showDPUExceededDialog)(),f(r,"showDPUExceededDialog")),u(r,"showShareLink")&&e.showShareLink&&(b.shareLink(e.shareLink),showShareLink(),f(r,"shareLink"),f(r,"showShareLink")),u(r,"strictTemplate")&&(b.strictTemplate(e.strictTemplate),f(r,"strictTemplate")),u(r,"zoom")){var c=parseInt(e.zoom.toFixed(1));b.zoom()!=c&&b.zoom(c),f(r,"zoom")}if(u(r,"minZoom")&&(b.minZoom(parseInt(e.minZoom.toFixed(1))),f(r,"minZoom")),u(r,"maxZoom")&&(b.maxZoom(parseInt(e.maxZoom.toFixed(1))),f(r,"maxZoom")),u(r,"zoomEnabled")&&(b.zoomEnabled(e.zoomEnabled),f(r,"zoomEnabled")),u(r,"minDPU")&&e.minDPU&&(b.minDPU(e.minDPU),f(r,"minDPU")),u(r,"unitLabel")&&e.unitLabel&&(b.unitLabel(e.unitLabel.substring(0,2)),f(r,"unitLabel")),u(r,"textEffects")){var d=jQuery.map(e.textEffects,function(e){return new j.default(e)});b.textEffects(d),b.textEffects.unshift(new j.default({name:"none",label:B.default.translateUI("NONE"),value:0})),f(r,"textEffects")}u(r,"showProductSelector")&&(b.showProductSelector(e.showProductSelector),f(r,"showProductSelector")),u(r,"objDClicked")&&e.objDClicked&&(b.selectedObjectType(),"text"===b.selectedObjectType()&&openTextForm(),f(r,"objDClicked")),u(r,"minZoom")&&(b.minZoom(parseInt(e.minZoom.toFixed(1))),f(r,"minZoom")),u(r,"uploadImageUrl")&&(b.uploadImageUrl(e.uploadImageUrl),liveartUI.initFileUpload(b.uploadImageUrl(),b.addUploadedImage),f(r,"uploadImageUrl")),u(r,"showUploadedColorsDialog")&&(b.showUploadedColorsDialog(e.showUploadedColorsDialog),f(r,"showUploadedColorsDialog")),u(r,"isUndoActive")&&(b.isUndoActive(e.isUndoActive),f(r,"isUndoActive")),u(r,"isRedoActive")&&(b.isRedoActive(e.isRedoActive),f(r,"isRedoActive")),u(r,"instagramClienID")&&(b.instagramClientID(e.instagramClienID),f(r,"instagramClienID")),u(r,"facebookClienID")&&(b.facebookClientID(e.facebookClienID),f(r,"facebookClienID")),u(r,"flickrClienID")&&(b.flickrClientID(e.flickrClienID),f(r,"flickrClienID")),u(r,"googleClienID")&&(b.googleClientID(e.googleClienID),f(r,"googleClienID")),u(r,"authorizedRedirectUrl")&&(b.authorizedRedirectUrl(e.authorizedRedirectUrl),f(r,"authorizedRedirectUrl")),u(r,"alert")&&(b.addAlert(e.alert.text,e.alert.level),f(r,"alert")),u(r,"dictionary")&&(B.default.update(e.dictionary),f(r,"dictionary")),u(r,"currentDesign")&&(setCurrentDesign(e.currentDesign),f(r,"currentDesign")),u(r,"preloaderStatus")&&(b.preloaderStatus(e.preloaderStatus),f(r,"preloaderStatus")),u(r,"placeOrderFailed")&&e.placeOrderFailed&&(onPlaceOrderFail(),f(r,"placeOrderFailed")),u(r,"objectsAdded")&&(b.onObjectsAdded(e.objectsAdded),f(r,"objectsAdded")),u(r,"selectedProductOptions")&&(b.setSelectedProductOptions(e.selectedProductOptions),f(r,"selectedProductOptions")),u(r,"currentLocations")&&(b.setCurrentLocations(e.currentLocations),f(r,"currentLocations")),u(r,"templatesCategories")&&(b.templateCatalogLoaded(e.templatesCategories),f(r,"templatesCategories")),u(r,"templatesList")&&(b.templateListLoaded(e.templatesList),f(r,"templatesList")),u(r,"validatedProductSize")&&(changeProductSize(e.validatedProductSize),f(r,"validatedProductSize")),u(r,"validateSizes")&&(b.validateSizes=e.validateSizes,f(r,"validateSizes")),u(r,"designerMode")&&(b.designerMode(e.designerMode),f(r,"designerMode")),b.suppressUpdate=!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=o(7),i=o(218),s=r(i),l=o(584),c=r(l),u=o(585),d=r(u),f=o(217),p=r(f),b=o(586),m=r(b),h=o(588),v=r(h),g=o(589),O=r(g),y=o(590),I=r(y),E=o(591),k=r(E),C=o(220),S=r(C),P=o(592),_=r(P),T=o(593),w=r(T),A=o(594),N=r(A),U=o(595),L=r(U),D=o(596),j=r(D),x=o(597),M=r(x),R=o(598),V=r(R),G=o(216),Q=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(G),F=o(599),z=r(F),H=o(43),B=r(H)},584:function(e,t,o){"use strict";function r(e){var t={id:"graphics-item-"+(new Date).getTime(),parentId:"",name:"",description:"",thumb:"",graphics:[],categories:[],isCategory:!1},o=(0,a.setProperties)(e,t),n=this;n.id=ko.observable(o.id),n.parendId=ko.observable(o.parendId),n.name=ko.observable(o.name),n.description=ko.observable(o.description),n.thumb=ko.observable(o.thumb),n.isCategory=ko.observable(o.isCategory);var i=ko.utils.arrayMap(o.graphics,function(e){return new r(e)});n.graphics=ko.observable(i);var s=ko.utils.arrayMap(o.categories,function(e){return new r(e)});n.categories=ko.observable(s),n.children=ko.computed(function(){return n.categories().length>0?n.categories():n.graphics()}),n.isImage=ko.computed(function(){return!n.isCategory()}),n.isCategory=ko.computed(function(){return n.isCategory()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},585:function(e,t,o){"use strict";function r(e){var t={id:"",colorize:!1,fillColor:"#000000",strokeColor:"none",multicolor:!1,strokeWidth:"1"},o=(0,a.setProperties)(e,t),r=o.id,n=o.updateHandler,s=o.colorize,l=o.fillColor,c=o.strokeColor,u=o.multicolor,d=o.strokeWidth,f=this;f.id=ko.observable(r),f.colorize=ko.observable(s),f.fillColor=ko.observable(l),f.strokeColor=ko.observable(c),f.multicolor=ko.observable(u),f.complexColor=ko.observable(new i.default({updateHandler:n})),f.strokeWidth=ko.observable(d),f.transformation=ko.observable({}),f.toObject=function(){var e={};return e.id=f.id(),e.fill=f.fillColor(),e.stroke=f.strokeColor(),e["stroke-width"]=f.strokeWidth(),e.colorAreas=f.complexColor().toColorizeList(),e},f.fromObject=function(e){(0,a.isNullOrUndefined)(e)||((0,a.isNullOrUndefined)(e.id)||f.id(e.id),(0,a.isNullOrUndefined)(e.stroke)?f.strokeColor("none"):f.strokeColor(e.stroke),(0,a.isNullOrUndefined)(e.fill)||f.fillColor(e.fill),(0,a.isNullOrUndefined)(e.colorAreas)?f.multicolor(!1):(f.complexColor().fromObject(e.colorAreas),f.multicolor(e.colorAreas.length>0)),f.colorize(!!e.colorize),(0,a.isNullOrUndefined)(e.transformation)||f.transformation(e.transformation),(0,a.isNullOrUndefined)(e["stroke-width"])||f.strokeWidth(e["stroke-width"]))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7),n=o(218),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},586:function(e,t,o){"use strict";function r(e){var t={id:"",type:"text",textType:"",textString:"",formatVO:new i.default},o=(0,a.setProperties)(e,t),r=o.id,n=o.type,s=o.textType,l=o.textString,c=o.formatVO,u=this;u.id=ko.observable(r),u.type=ko.observable(n),u.textType=ko.observable(s),u.text=ko.observable(l),u.isNames=ko.observable(!1),u.isNumbers=ko.observable(!1),u.formatVO=ko.observable(c),u.transformation=ko.observable({}),u.isDefaultText=ko.observable(!1),u.toObject=function(){var e={};return e.id=u.id(),e.type=u.type(),e.text=u.text(),e["text-type"]=u.textType(),e.fill=u.formatVO().fillColor(),e["font-weight"]=u.formatVO().bold()?"bold":"normal",e["font-style"]=u.formatVO().italic()?"italic":"normal",e["font-family"]=u.formatVO().fontFamily(),e.stroke=u.formatVO().strokeColor(),e["stroke-width"]=u.formatVO().strokeWidth(),e["letter-spacing"]=u.formatVO().letterSpacing(),e["text-align"]=u.formatVO().textAlign(),e.textEffect=u.formatVO().textEffect(),e.textEffectValue=u.formatVO().textEffectValue(),e["line-leading"]=u.formatVO().lineLeading(),e.isNameObject=u.isNames(),e.isNumberObject=u.isNumbers(),e},u.toNamesNumbersObject=function(){var e=u.toObject();return delete e.id,e},u.fromObject=function(e){(0,a.isNullOrUndefined)(e)||((0,a.isNullOrUndefined)(e.id)||u.id(e.id),(0,a.isNullOrUndefined)(e.type)||u.type(e.type),(0,a.isNullOrUndefined)(e["text-type"])||u.textType(e["text-type"]),(0,a.isNullOrUndefined)(e.text)||u.text(e.text),(0,a.isNullOrUndefined)(e.fill)||u.formatVO().fillColor(e.fill),(0,a.isNullOrUndefined)(e.stroke)||u.formatVO().strokeColor(e.stroke),(0,a.isNullOrUndefined)(e["stroke-width"])||u.formatVO().strokeWidth(e["stroke-width"]),(0,a.isNullOrUndefined)(e["font-weight"])||u.formatVO().bold("bold"===e["font-weight"]),(0,a.isNullOrUndefined)(e["font-style"])||u.formatVO().italic("italic"===e["font-style"]),(0,a.isNullOrUndefined)(e["font-family"])||u.formatVO().fontFamily(e["font-family"]),(0,a.isNullOrUndefined)(e["letter-spacing"])||u.formatVO().letterSpacing(e["letter-spacing"]),(0,a.isNullOrUndefined)(e["text-align"])||u.formatVO().textAlign(e["text-align"]),(0,a.isNullOrUndefined)(e.textEffect)||u.formatVO().textEffect(e.textEffect),(0,a.isNullOrUndefined)(e.textEffectValue)||u.formatVO().textEffectValue(e.textEffectValue),u.formatVO().textEffectValue(),(0,a.isNullOrUndefined)(e["line-leading"])||u.formatVO().lineLeading(e["line-leading"]),(0,a.isNullOrUndefined)(e.isNameObject)||u.isNames(e.isNameObject),(0,a.isNullOrUndefined)(e.isNumberObject)||u.isNumbers(e.isNumberObject),(0,a.isNullOrUndefined)(e.transformation)||u.transformation(e.transformation),(0,a.isNullOrUndefined)(e.isDefaultText)?u.isDefaultText(!1):u.isDefaultText(e.isDefaultText),u.isDefaultText()&&u.text(""))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7),n=o(587),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},587:function(e,t,o){"use strict";function r(e){var t={fontFamily:"",fillColor:"#000000",bold:!1,italic:!1,strokeColor:"none",letterSpacing:"0",textAlign:"center",textEffect:"none",textEffectValue:"0",lineLeading:1.2,strokeWidth:"1"},o=(0,a.setProperties)(e,t),r=this;r.fontFamily=ko.observable(o.fontFamily),r.fillColor=ko.observable(o.fillColor),r.bold=ko.observable(o.bold),r.italic=ko.observable(o.italic),r.strokeColor=ko.observable(o.strokeColor),r.strokeWidth=ko.observable(o.strokeWidth),r.letterSpacing=ko.observable(o.letterSpacing),r.textAlign=ko.observable(o.textAlign),r.textEffect=ko.observable(o.textEffect),r.textEffectValue=ko.observable(o.textEffectValue),r.lineLeading=ko.observable(o.lineLeading)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},588:function(e,t,o){"use strict";function r(e){var t={name:"",number:"",size:"",changeHandler:function(){}},o=(0,a.setProperties)(e,t),r=o.name,n=o.number,i=o.size,s=o.changeHandler,l=this;l.name=ko.observable(r),l.number=ko.observable(n),l.size=ko.observable(i),l.sizePrevValue=i,l.changeNNHandler=s,l.name.subscribe(function(e){l.changeNNHandler()}),l.number.subscribe(function(e){l.changeNNHandler()}),l.size.subscribe(function(e){l.changeNNHandler({size:e,prevSize:l.sizePrevValue}),l.sizePrevValue=e}),l.toObject=function(){var e={};return e.name=l.name(),e.number=l.number(),e.size=l.size(),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},589:function(e,t,o){"use strict";function r(e){var t={width:0,height:0,lockScale:!0,id:null,service:null},o=(0,a.setProperties)(e,t),r=o.width,n=o.height,i=o.lockScale,s=o.id,l=o.service,c=this;c.width=ko.observable(r),c.height=ko.observable(n),c.lockScale=ko.observable(i),c.id=ko.observable(s),c.service=ko.observable(l),c.suppressUpdate=!1,c.toWidthObject=function(){var e={};return e.uwidth=c.width(),e.lockScale=c.lockScale(),e},c.toHeightObject=function(){var e={};return e.lockScale=c.lockScale(),e.uheight=c.height(),e},c.updateWidth=function(e,t){return 13==t.keyCode&&c.width(jQuery("#text-width").val()),!0},c.updateHeight=function(e,t){return 13==t.keyCode&&c.height(jQuery("#text-height").val()),!0},c.fromObject=function(e){if((0,a.isNullOrUndefined)(e))return c.width(0),c.height(0),c.id(null),void c.service(null);(0,a.isNullOrUndefined)(e.uwidth)||(0,a.isNullOrUndefined)(e.uheight)||(c.suppressUpdate=!0,c.width(e.uwidth.toFixed(2)),c.height(e.uheight.toFixed(2)),c.suppressUpdate=!1),(0,a.isNullOrUndefined)(e.lockScale)||c.lockScale(e.lockScale),(0,a.isNullOrUndefined)(e["la-service"])||c.service(e["la-service"]),(0,a.isNullOrUndefined)(e.id)||c.id(e.id)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},590:function(e,t,o){"use strict";function r(e){var t=e.thumb,o=e.image,r=this;r.thumb=t,r.image=ko.observable(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},591:function(e,t,o){"use strict";function r(e){var t={id:"product-category-"+(new Date).getTime(),name:"",thumb:"",colorGroup:"",products:[],categories:[],obj:null},o=(0,a.setProperties)(e,t),n=this;n.id=ko.observable(o.id),n.name=ko.observable(o.name),n.colorGroup=ko.observable(o.colorGroup),n.thumb=ko.observable(o.thumb),n.obj=ko.observable(o);var i=ko.utils.arrayMap(o.products,function(e){return new r(e)});n.products=ko.observableArray(i);var s=ko.utils.arrayMap(o.categories,function(e){return new r(e)});n.categories=ko.observableArray(s),n.children=ko.computed(function(){return n.categories().length>0?n.categories():n.products()}),n.isProduct=ko.computed(function(){return 0==n.categories().length&&0==n.products().length}),n.isCategory=ko.computed(function(){return!n.isProduct()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},592:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={id:"",categoryId:"product-category-"+(new Date).getTime(),name:"",description:"",data:{},colors:[],locations:[],sizes:[],multicolor:!1,namesNumbersEnabled:!1,resizable:!1,editableAreaSizes:[],pantones:{},enableQuantity:!0,options:[],enableCopyToBack:!1,defaultTemplateId:""},o=(0,n.setProperties)(e,t);(0,n.isNullOrUndefined)(o.pantones.useForDecoration)&&(o.pantones.useForDecoration=!1),(0,n.isNullOrUndefined)(o.pantones.useForDecoration)&&(o.pantones.useForProduct=!1);var r=this;r.id=ko.observable(o.id),r.name=ko.observable(o.name),r.description=ko.observable(o.description),r.data=ko.observable(o.data),r.categoryId=ko.observable(o.categoryId),r.colors=ko.observableArray(o.colors),r.locations=ko.observableArray(o.locations),r.sizes=ko.observableArray(o.sizes),r.multicolor=ko.observable(o.multicolor),r.namesNumbersEnabled=ko.observable(o.namesNumbersEnabled),r.colorGroup=ko.observable(o.colorGroup),r.resizable=ko.observable(o.resizable),r.editableAreaSizes=ko.observableArray(o.editableAreaSizes),r.minQuantity=ko.observable(o.minQuantity),r.enableQuantity=ko.observable(o.enableQuantity),r.pantones=ko.observable({}),r.pantones().useForDecoration=ko.observable(o.pantones.useForDecoration),r.pantones().useForProduct=ko.observable(o.pantones.useForProduct),r.options=ko.observableArray(o.options),r.enableCopyToBack=ko.observableArray(o.enableCopyToBack),r.defaultTemplateId=ko.observable(o.defaultTemplateId),r.fromObject=function(e){if(!(0,n.isNullOrUndefined)(e)){if((0,n.isNullOrUndefined)(e.name)||r.name(e.name),(0,n.isNullOrUndefined)(e.description)||r.description(e.description),(0,n.isNullOrUndefined)(e.data)||r.data(e.data),(0,n.isNullOrUndefined)(e.categoryId)||r.categoryId(e.categoryId),(0,n.isNullOrUndefined)(e.colors)||r.colors(e.colors),(0,n.isNullOrUndefined)(e.minQuantity)||r.minQuantity(e.minQuantity),(0,n.isNullOrUndefined)(e.enableQuantity)||r.enableQuantity(e.enableQuantity),(0,n.isNullOrUndefined)(e.locations)||r.locations(e.locations),(0,n.isNullOrUndefined)(e.sizes)||r.sizes(e.sizes),(0,n.isNullOrUndefined)(e.multicolor)||r.multicolor(e.multicolor),(0,n.isNullOrUndefined)(e.colorGroup)||r.colorGroup(e.colorGroup),(0,n.isNullOrUndefined)(e.namesNumbersEnabled)||r.namesNumbersEnabled(e.namesNumbersEnabled),(0,n.isNullOrUndefined)(e.resizable)||r.resizable(e.resizable),(0,n.isNullOrUndefined)(e.editableAreaSizes))r.editableAreaSizes([]);else{var t=jQuery.map(e.editableAreaSizes,function(e){return new d.default({width:e.width,height:e.height,label:e.label})});r.editableAreaSizes(t)}var o={useForDecoration:!1,useForProduct:!1};if((0,n.isNullOrUndefined)(e.pantones)||((0,n.isNullOrUndefined)(e.pantones.useForDecoration)||(o.useForDecoration=e.pantones.useForDecoration),(0,n.isNullOrUndefined)(e.pantones.useForProduct)||(o.useForProduct=e.pantones.useForProduct)),r.pantones().useForDecoration(o.useForDecoration),r.pantones().useForProduct(o.useForProduct),(0,n.isNullOrUndefined)(e.options))r.options([]);else{var a=jQuery.map(e.options,function(e){var t=jQuery.map(e.variations,function(e){return new s.default({id:e.id,name:e.name})});return new c.default({id:e.id,name:e.name,type:e.type,variations:t})});r.options(a)}(0,n.isNullOrUndefined)(e.enableCopyToBack)||r.enableCopyToBack(e.enableCopyToBack),(0,n.isNullOrUndefined)(e.id)||r.id(e.id),(0,n.isNullOrUndefined)(e.defaultTemplateId)||r.defaultTemplateId(e.defaultTemplateId)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=o(7),i=o(221),s=r(i),l=o(222),c=r(l),u=o(220),d=r(u)},593:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t={option:new s.default({}),variation:new c.default({}),value:!1},o=(0,n.setProperties)(e,t),r=o.option,a=o.variation,i=o.value,l=this;l.option=ko.observable(r),l.variation=ko.observable(a),l.value=ko.observable(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=o(7),i=o(222),s=r(i),l=o(221),c=r(l)},594:function(e,t,o){"use strict";function r(e,t){var o=this;(0,a.isNullOrUndefined)(t)&&(t=0),o.minQuantity=ko.observable(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},595:function(e,t,o){"use strict";function r(e){var t={size:"",quantity:1,changeHandler:function(){}},o=(0,a.setProperties)(e,t),r=o.size,n=o.quantity,i=o.changeHandler,s=this;s.size=ko.observable(r),s.quantity=ko.observable(n),s.changeHandler=i,s.size.subscribe(function(){s.changeHandler()}),s.quantity.subscribe(function(e){var t=!isNaN(e),o=parseInt(e);(parseInt(e)<0||!t)&&(o=0),s.quantity(o),s.changeHandler()}),s.toObject=function(){var e={};return e.size=s.size(),e.quantity=s.quantity(),e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},596:function(e,t,o){"use strict";function r(e){var t={name:"none",label:i.default.translateUI("NONE"),value:0,paramName:"none",min:.05,max:1,step:.05,inverted:!1},o=(0,a.setProperties)(e,t),r=this;r.name=ko.observable(o.name),r.label=ko.observable(o.label),r.value=ko.observable(o.value),r.paramName=ko.observable(o.paramName),r.min=ko.observable(o.min),r.max=ko.observable(o.max),r.step=ko.observable(o.step),r.inverted=ko.observable(o.inverted),r.cssClass=ko.computed(function(){return"la-text-effect-"+r.name()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7),n=o(43),i=function(e){return e&&e.__esModule?e:{default:e}}(n)},597:function(e,t,o){"use strict";function r(e){var t={id:"",name:"",description:"",thumb:"",templates:[],categories:[]},o=(0,a.setProperties)(e,t),n=o.id,i=o.name,s=o.description,l=o.thumb,c=o.templates,u=o.categories,d=this;d.id=ko.observable(n),d.name=ko.observable(i),d.description=ko.observable(s),d.thumb=ko.observable(l);var f=ko.utils.arrayMap(c,function(e){return new r(e)});d.templates=ko.observable(f);var p=ko.utils.arrayMap(u,function(e){return new r(e)});d.categories=ko.observable(p),d.children=ko.computed(function(){return d.categories().length>0?d.categories():d.templates()}),d.isTemplate=ko.computed(function(){return 0==d.categories().length&&0==d.templates().length}),d.isCategory=ko.computed(function(){return!d.isTemplate()})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},598:function(e,t,o){"use strict";function r(e){var t={required:!1,fixedPosition:!1,constrained:!1},o=(0,a.setProperties)(e,t),r=o.required,n=o.fixedPosition,i=o.constrained,s=this;s.required=ko.observable(r),s.fixedPosition=ko.observable(n),s.constrained=ko.observable(i),s.restoreDefaultState=function(){s.required(t.required),s.fixedPosition(t.fixedPosition),s.constrained(t.constrained)},s.fromObject=function(e){s.restoreDefaultState(),e&&((0,a.isNullOrUndefined)(e.required)||s.required(e.required),(0,a.isNullOrUndefined)(e.fixedPosition)||s.fixedPosition(e.fixedPosition),(0,a.isNullOrUndefined)(e.constrainedArea)||s.constrained(!0))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7),n=o(219);!function(e){e&&e.__esModule}(n)},599:function(e,t,o){"use strict";function r(e){var t={version:"",buildTime:"",trialEnd:""},o=(0,a.setProperties)(e,t),r=o.version,n=o.buildTime,i=o.trialEnd,s=this;s.version=r,s.buildTime=n,s.trialEnd=i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(7)},600:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=o(601),s=r(i),l=o(602),c=r(l),u=o(603),d=r(u),f=o(604),p=r(f),b=o(605),m=r(b),h=o(606),v=r(h),g=o(607),O=r(g),y=o(608),I=r(y),E=o(609),k=r(E),C=o(610),S=r(C),P=o(611),_=r(P),T=o(612),w=r(T),A=o(613),N=r(A),U=o(614),L=r(U),D=o(615),j=r(D),x=o(616),M=r(x),R=o(617),V=r(R),G=o(618),Q=r(G),F=function(){function e(){a(this,e)}return n(e,null,[{key:"defineHandlers",value:function(e){e.checkbox=s.default,e.colorPicker=d.default,e.colorPickerInit=c.default,e.colorPalette=p.default,e.pantones=m.default,e.productColorPalette=v.default,e.radio=I.default,e.rangeEnd=k.default,e.rangeStart=S.default,e.recolorPopup=O.default,e.showPantones=_.default,e.slider=w.default,e.step=N.default,e.modal=Q.default,e.updateLazyLoadContainer=L.default,e.imageInjector=j.default,e.bootstrapModal=M.default,e.tooltip=V.default}}]),e}();t.default=F},601:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={init:function(e,t){var o=void 0,r=void 0;if(r=t(),!ko.isWriteableObservable(r))throw"You must pass an observable or writeable computed";o=jQuery(e),o.on("click",function(){r(!r())}),ko.computed({disposeWhenNodeIsRemoved:e,read:function(){o.toggleClass("active",r())}})}};t.default=r},602:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={init:function(e,t){var o=void 0,a=void 0;a=t(),o=jQuery(e),(0,r.checkUniqueId)(o);var n={};if(a.container&&(n.container=o.parent()),a.isDropup&&(n.isDropup=!0),a.paletteClass&&(n.paletteClass=a.paletteClass),a.showPantones&&(ko.isObservable(a.showPantones)?n.showPantones=a.showPantones():n.showPantones=a.showPantones),a.colors){var i=void 0;i=ko.isObservable(a.colors)?a.colors():a.colors;for(var s=[],l=0;l<i.length;l++)s.push({value:i[l].value,name:i[l].name});n.colors=s}n.skipDefault=!0,n.gap=2,o.colorPicker(n),n.container&&(o.parent().click(function(e){o.next("div.colorPicker-picker").click()}),o.next("div.colorPicker-picker").click(function(e){e.stopPropagation()}))}};t.default=a},603:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={init:function(e,t){var o=void 0,a=void 0;if(a=t(),!ko.isWriteableObservable(a))throw"You must pass an observable or writable computed";o=jQuery(e),(0,r.checkUniqueId)(o),o.on("change",function(e){a(jQuery(e.currentTarget).val())}),ko.computed({disposeWhenNodeIsRemoved:e,read:function(){jQuery.fn.colorPicker.changeColor(o.attr("id"),a())}})}};t.default=a},604:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={init:function(e,t){var o=void 0,a=void 0;if(a=t(),!ko.isObservable(a))throw"You must pass an observable or writable computed";o=jQuery(e),(0,r.checkUniqueId)(o),ko.computed({disposeWhenNodeIsRemoved:e,read:function(){for(var e=[],t=a(),r=0;r<t.length;r++)e.push({value:t[r].value,name:t[r].name});e.length>0&&jQuery.fn.colorPicker.changeColor(o.attr("id"),e[0].value),jQuery.fn.colorPicker.setColors(o.attr("id"),e)}})}};t.default=a},605:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={init:function(e,t){var o=jQuery(e);if(ko.isObservable(t))throw"You must pass non observable value";(0,r.checkUniqueId)(o)}};t.default=a},606:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={init:function(e,t){var o=void 0,a=void 0;if(a=t(),!ko.isObservable(a))throw"You must pass an observable or writeable computed";o=jQuery(e),(0,r.checkUniqueId)(o),ko.computed({disposeWhenNodeIsRemoved:e,read:function(){for(var e=[],t=a(),r=0;r<t.length;r++)e.push({value:t[r].value,name:t[r].name});jQuery.fn.colorPicker.setColors(o.attr("id"),e)}})}};t.default=a},607:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={init:function(e,t){jQuery(e).modal({show:!1});var o=t();"function"==typeof o&&jQuery(e).on("hide.bs.modal",function(){o(!1)}),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){jQuery(e).modal("destroy")})},update:function(e,t){var o=t();ko.utils.unwrapObservable(o)?jQuery(e).modal("show"):jQuery(e).modal("hide")}};t.default=r},608:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={init:function(e,t){if(!ko.isObservable(t()))throw new Error("radio binding should be used only with observable values");jQuery(e).on("change","input:radio",function(e){setTimeout(function(){var o=jQuery(e.target);t()(o.val())},0)})},update:function(e,t){var o=jQuery(e).find('input[value="'+ko.utils.unwrapObservable(t())+'"]'),r=void 0;o.length?(r=o.parent(),r.siblings().removeClass("active"),r.addClass("active"),o.prop("checked",!0)):(r=jQuery(e).find(".active"),r.removeClass("active"),r.find("input").prop("checked",!1))}};t.default=r},609:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){var e={};return function(t,o,r){var a=jQuery(t),n=ko.utils.unwrapObservable(o());n!=e[a.attr("id")]&&liveartUI.laUpdateSliderRange(t,o,r),e[a.attr("id")]=n}}()};t.default=r},610:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){var e={};return function(t,o,r){var a=jQuery(t),n=ko.utils.unwrapObservable(o());n!=e[a.attr("id")]&&liveartUI.laUpdateSliderRange(t,o,r),e[a.attr("id")]=n}}()};t.default=r},611:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={init:function(e,t){var o=void 0,a=void 0;if(a=t(),!ko.isWriteableObservable(a))throw"You must pass an observable or writeable computed";o=jQuery(e),(0,r.checkUniqueId)(o),ko.computed({disposeWhenNodeIsRemoved:e,read:function(){jQuery.fn.colorPicker.showPantones(o.attr("id"),a())}})}};t.default=a},612:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={init:function(e,t,o){var a=t(),n=o(),i=ko.utils.unwrapObservable(a),s=Number(ko.utils.unwrapObservable((0,r.isNullOrUndefined)(n.rangeStart)?50:n.rangeStart)),l=Number(ko.utils.unwrapObservable((0,r.isNullOrUndefined)(n.rangeEnd)?150:n.rangeEnd)),c=Number(ko.utils.unwrapObservable((0,r.isNullOrUndefined)(n.step)?5:n.step)),u=Number(ko.utils.unwrapObservable((0,r.isNullOrUndefined)(n.decimals)?0:n.decimals));i=(0,r.isNullOrUndefined)(i)?s:i,i=Number(i);var d=function(){var e=jQuery(this).val();"function"==typeof a&&a(e)},f={start:i,range:{min:[s],max:[l]},step:c,serialization:{format:{decimals:u}}},p=jQuery(e).noUiSlider(f).on({slide:d});ko.computed({read:function(){var e=ko.utils.unwrapObservable(a);e=(0,r.isNullOrUndefined)(e)?0:e,p.val(e)}})}};t.default=a},613:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(7),a={update:function(){var e={};return function(t,o,a){var n=jQuery(t),i=ko.utils.unwrapObservable(o());if(i!=e[n.attr("id")]){var s=a(),l=Number(ko.utils.unwrapObservable((0,r.isNullOrUndefined)(s.step)?50:s.step)),c={step:l};n.noUiSlider(c,!0)}e[n.attr("id")]=i}}()};t.default=a},614:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(e,t){t(),liveartUI.updateLazyLoadContainer(e,!0)}};t.default=r},615:function(e,t,o){"use strict";function r(e,t){e.html(""),e.removeClass("image-injected");var o=jQuery("<div class='"+t+"'>").appendTo(jQuery("#liveart-isolate-container")),r=o.css("background-image").replace(/(url\(|\)|'|")/gi,"");if(o.remove(),r&&"none"!=r)if(e.addClass("image-injected"),0===r.indexOf("data:image/svg+xml;base64,")){var a=r.replace("data:image/svg+xml;base64,","");a=atob(a),e.html(a)}else if(0===r.indexOf("data:image/svg+xml,")){var n=r.replace("data:image/svg+xml,","");n=decodeURIComponent(n),e.html(n)}else{var i=jQuery("<image src='"+r+"' class='inject-me'>");e.append(i),SVGInjector([i[0]])}}Object.defineProperty(t,"__esModule",{value:!0});var a={init:function(e,t){var o=t();if(!ko.isObservable(o))throw"You must pass an observable";r(jQuery(e),o())},update:function(e,t){var o=t();r(jQuery(e),o())}};t.default=a},616:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={init:function(e,t){jQuery(e).modal("hide");var o=t();"function"==typeof o&&jQuery(e).on("hide.bs.modal",function(){o(!1)}),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){jQuery(e).modal("destroy")})},update:function(e,t){var o=t();ko.utils.unwrapObservable(o)?jQuery(e).modal("show"):jQuery(e).modal("hide")}};t.default=r},617:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(43),a=function(e){return e&&e.__esModule?e:{default:e}}(r),n={init:function(e,t){t().show?jQuery(e).tooltipster({theme:["tooltipster-borderless","tooltipster-borderless-small"],trigger:"hover",functionBefore:function(o,r){var n="";"function"==typeof t().hintTextFunc?n=a.default.translateUI(t().hintTextFunc(e)):"string"==typeof t().hintTextKey&&(n=a.default.translateUI(t().hintTextKey)),o.content(n)}}):jQuery(e).tooltipster("disable")},update:function(e,t){t().show?jQuery(e).tooltipster("enable"):jQuery(e).tooltipster("disable")}};t.default=n},618:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={init:function(e,t){jQuery(e).modal({show:!1});var o=t();"function"==typeof o&&jQuery(e).on("hide.bs.modal",function(){o(!1)}),ko.utils.domNodeDisposal.addDisposeCallback(e,function(){jQuery(e).modal("destroy")})},update:function(e,t){var o=t();ko.utils.unwrapObservable(o)?jQuery(e).modal("show"):jQuery(e).modal("hide")}};t.default=r},619:function(e,t,o){"use strict";(function(e){!function(e){function t(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=t.ERR_CONNECTION_DESTROYED="ConnectionDestroyed",a=t.ERR_CONNECTION_TIMEOUT="ConnectionTimeout",n=t.ERR_NOT_IN_IFRAME="NotInIframe",i={"http:":"80","https:":"443"},s=/^(https?:)?\/\/([^\/:]+)(:(\d+))?/,l={ERR_CONNECTION_DESTROYED:r,ERR_CONNECTION_TIMEOUT:a,ERR_NOT_IN_IFRAME:n,Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},c=function(){var e=0;return function(){return++e}}(),u=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];if(l.debug){var r;(r=console).log.apply(r,["[Penpal]"].concat(t))}},d=function(e){var t=document.location,o=s.exec(e),r=void 0,a=void 0,n=void 0;return o?(r=o[1]?o[1]:t.protocol,a=o[2],n=o[4]):(r=t.protocol,a=t.hostname,n=t.port),r+"//"+a+(n&&n!==i[r]?":"+n:"")},f=function(e){var t=[];return e(function(){t.forEach(function(e){e()})}),{then:function(e){t.push(e)}}},p=function(e){return{name:e.name,message:e.message,stack:e.stack}},b=function(e){var t=new Error;return Object.keys(e).forEach(function(o){return t[o]=e[o]}),t},m=function(e,t,o,a){var n=t.localName,i=t.local,s=t.remote,d=t.remoteOrigin,f=!1;u(n+": Connecting call sender");var p=function(e){return function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];if(u(n+": Sending "+e+"() call"),f){var p=new Error("Unable to send "+e+"() call due to destroyed connection");throw p.code=r,p}return new l.Promise(function(t,r){var a=c(),l=function o(l){if(l.source===s&&l.origin===d&&"reply"===l.data.penpal&&l.data.id===a){u(n+": Received "+e+"() reply"),i.removeEventListener("message",o);var c=l.data.returnValue;l.data.returnValueIsError&&(c=b(c)),("fulfilled"===l.data.resolution?t:r)(c)}};i.addEventListener("message",l),s.postMessage({penpal:"call",id:a,methodName:e,args:o},d)})}};a.then(function(){f=!0}),o.reduce(function(e,t){return e[t]=p(t),e},e)},h=function(e,t,o){var r=e.localName,a=e.local,n=e.remote,i=e.remoteOrigin,s=!1;u(r+": Connecting call receiver");var c=function(e){if(e.source===n&&e.origin===i&&"call"===e.data.penpal){var o=e.data,a=o.methodName,c=o.args,d=o.id;if(u(r+": Received "+a+"() call"),a in t){var f=function(e){return function(t){if(u(r+": Sending "+a+"() reply"),s)return void u(r+": Unable to send "+a+"() reply due to destroyed connection");var o={penpal:"reply",id:d,resolution:e,returnValue:t};"rejected"===e&&t instanceof Error&&(o.returnValue=p(t),o.returnValueIsError=!0);try{n.postMessage(o,i)}catch(e){throw"DataCloneError"===e.name&&n.postMessage({penpal:"reply",id:d,resolution:"rejected",returnValue:p(e),returnValueIsError:!0},i),e}}};new l.Promise(function(e){return e(t[a].apply(t,c))}).then(f("fulfilled"),f("rejected"))}}};a.addEventListener("message",c),o.then(function(){s=!0,a.removeEventListener("message",c)})};l.connectToChild=function(e){var t=e.url,o=e.appendTo,n=e.methods,i=void 0===n?{}:n,s=e.timeout,c=void 0,p=new f(function(e){c=e}),b=window,v=document.createElement("iframe");(o||document.body).appendChild(v),p.then(function(){v.parentNode&&v.parentNode.removeChild(v)});var g=v.contentWindow||v.contentDocument.parentWindow,O=d(t);return{promise:new l.Promise(function(e,o){var n=void 0;void 0!==s&&(n=setTimeout(function(){var e=new Error("Connection to child timed out after "+s+"ms");e.code=a,o(e),c()},s));var l={},d=void 0,y=void 0,I=function(t){if(t.source===g&&t.origin===O&&"handshake"===t.data.penpal){u("Parent: Received handshake, sending reply"),t.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(i)},t.origin);var o={localName:"Parent",local:b,remote:g,remoteOrigin:t.origin};y&&y();var r=new f(function(e){p.then(e),y=e});h(o,i,r),d&&d.forEach(function(e){delete l[e]}),d=t.data.methodNames,m(l,o,d,p),clearTimeout(n),e(l)}};b.addEventListener("message",I),p.then(function(){b.removeEventListener("message",I);var e=new Error("Connection destroyed");e.code=r,o(e)}),u("Parent: Loading iframe"),v.src=t}),iframe:v,destroy:c}},l.connectToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentOrigin,o=void 0===t?"*":t,i=e.methods,s=void 0===i?{}:i,c=e.timeout;if(window===window.top){var d=new Error("connectToParent() must be called within an iframe");throw d.code=n,d}var p=void 0,b=new f(function(e){p=e}),v=window,g=v.parent;return{promise:new l.Promise(function(e,t){var n=void 0;void 0!==c&&(n=setTimeout(function(){var e=new Error("Connection to parent timed out after "+c+"ms");e.code=a,t(e),p()},c));var i=function t(r){if(("*"===o||o===r.origin)&&r.source===g&&"handshake-reply"===r.data.penpal){u("Child: Received handshake reply"),v.removeEventListener("message",t);var a={localName:"Child",local:v,remote:g,remoteOrigin:r.origin},i={};h(a,s,b),m(i,a,r.data.methodNames,b),clearTimeout(n),e(i)}};v.addEventListener("message",i),b.then(function(){v.removeEventListener("message",i);var e=new Error("Connection destroyed");e.code=r,t(e)}),u("Child: Sending handshake"),g.postMessage({penpal:"handshake",methodNames:Object.keys(s)},o)}),destroy:p}},t.default=l},function(e,t,o){Object.defineProperty(t,"__esModule",{value:!0});var r=o(2),a=o(0),n=o(3),i=r.getQueryStringParams("embed"),s=!1;"true"===i&&(s=!0,window.Penpal=a.default),window.liveArtLoader=new n.default(s)},function(e,t,o){function r(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=t.exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}Object.defineProperty(t,"__esModule",{value:!0}),t.getQueryStringParams=r},function(t,o,r){var a=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))(function(a,n){function i(e){try{l(r.next(e))}catch(e){n(e)}}function s(e){try{l(r.throw(e))}catch(e){n(e)}}function l(e){e.done?a(e.value):new o(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){function o(e){return function(t){return r([e,t])}}function r(o){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,n&&(i=n[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],n=0}finally{a=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var a,n,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(o,"__esModule",{value:!0});var i=r(0),s=function(){function t(e){this.iframeMode=e}return t.prototype.init=function(t,o,r,s,l){return a(this,void 0,void 0,function(){var c,u,d;return n(this,function(f){switch(f.label){case 0:return c=window.liveArt,this.iframeMode?(u=null,d=i.default.connectToParent({methods:{init:function(i){return a(this,void 0,void 0,function(){var a,d,f,p;return n(this,function(n){switch(n.label){case 0:return a=i&&i.baseConfigUrl||o,d={},"string"!=typeof a?[3,3]:[4,e(a)];case 1:return f=n.sent(),[4,f.json()];case 2:return d=n.sent(),[3,4];case 3:d=a,n.label=4;case 4:return p=Object.assign({},d,i),c.init(t,p,r,s,l),console.warn(l),c.laMain.registerHandler(u.notify.bind(u)),[4,new Promise(function(e){c.onReady=e})];case 5:return n.sent(),[2,{}]}})})},objects_get:function(e){return c.objects.get(e)},objects_getAll:function(){return c.objects.getAll()},objects_update:function(e){return c.objects.update(e)},showPreloader:function(e){return c.showPreloader(e)},prepareVisuals:function(e){return c.prepareVisuals(e)},hidePreloader:function(){return c.hidePreloader()},getDesignInformation:function(e){return c.getDesignInformation(e)},saveDesign:function(e,t){return c.saveDesign(e,t)}}}),[4,d.promise]):[3,2];case 1:return u=f.sent(),[3,3];case 2:c.init(t,o,r,s,l),f.label=3;case 3:return[2]}})})},t}();o.default=s}])}).call(t,o(41))},7:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=t.isNullOrUndefined=function(e){return void 0===e||!e&&"object"===(void 0===e?"undefined":a(e))},i=(t.setProperties=function(e,t){n(e)&&(e={});var o=r({},e);return Object.getOwnPropertyNames(t).forEach(function(r){return n(e[r])&&void(o[r]=t[r])}),r({},o)},0);t.checkUniqueId=function(e){null!=e.attr("id")&&""!=e.attr("id")||(i++,e.attr("id","la-element-id-"+i))},t.buildBreadcrumbsString=function(e,t){var o=t;return e.forEach(function(e){"root"!==e.id()&&(o+="/"+e.name())}),o}},96:function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),n=t.controlsModel=null;t.GlobalsResolver=function(){function e(){r(this,e)}return a(e,null,[{key:"setControlsModel",value:function(e){n||(self.controlsModel=t.controlsModel=n=e)}}]),e}()}});