m0zz.i2p=function(K6p,L6p){var n2p=2;while(n2p!==10){switch(n2p){case 5:f6p=L6p.filter.constructor(K6p)();n2p=4;break;case 8:n2p=!j6p--?7:6;break;case 12:s6p=s6p(new f6p[L6p[0]]()[L6p[1]]());n2p=11;break;case 13:n2p=!j6p--?12:11;break;case 4:n2p=!j6p--?3:9;break;case 1:n2p=!j6p--?5:4;break;case 14:L6p=L6p.map(function(y6p){var S2p=2;while(S2p!==13){switch(S2p){case 2:var E6p;S2p=1;break;case 1:S2p=!j6p--?5:4;break;case 8:U6p++;S2p=3;break;case 6:return;break;case 9:E6p+=f6p[l6p][X6p](y6p[U6p]+111);S2p=8;break;case 5:E6p='';S2p=4;break;case 4:var U6p=0;S2p=3;break;case 3:S2p=U6p<y6p.length?9:7;break;case 14:return E6p;break;case 7:S2p=!E6p?6:14;break;}}});n2p=13;break;case 6:n2p=!j6p--?14:13;break;case 11:return{r6p:function(Z6p,k6p){var b2p=2;while(b2p!==16){switch(b2p){case 11:var o6p=2;b2p=10;break;case 19:(function(){var F2p=2;while(F2p!==42){switch(F2p){case 44:var d2p=typeof window!==O6p?window:typeof global!==P6p?global:this;F2p=43;break;case 5:F2p=h6p===13?4:13;break;case 7:P6p+=Y2p;var O6p=a2p;F2p=14;break;case 2:var h6p=2;F2p=1;break;case 33:F2p=h6p===15?32:1;break;case 34:h6p=3;F2p=1;break;case 32:O6p+=x2p;O6p+=N2p;O6p+=w6p;O6p+=R2p;O6p+=Y2p;F2p=44;break;case 12:var w6p="n";var a2p="u";var P6p=a2p;F2p=20;break;case 1:F2p=h6p!==22?5:42;break;case 16:F2p=h6p===18?15:24;break;case 25:h6p=15;F2p=1;break;case 24:F2p=h6p===2?23:33;break;case 17:h6p=13;F2p=1;break;case 13:F2p=h6p===3?12:16;break;case 15:O6p+=w6p;O6p+=Y2p;O6p+=R2p;F2p=25;break;case 14:h6p=18;F2p=1;break;case 43:h6p=22;F2p=1;break;case 20:P6p+=w6p;P6p+=Y2p;P6p+=R2p;F2p=17;break;case 23:var N2p="i";var x2p="f";var R2p="e";var Y2p="d";F2p=34;break;case 4:P6p+=x2p;P6p+=N2p;P6p+=w6p;P6p+=R2p;F2p=7;break;}}}());b2p=18;break;case 12:b2p=!D6p?11:17;break;case 14:J6p++;b2p=3;break;case 13:z6p=z6p^e6p;b2p=14;break;case 10:b2p=o6p!==1?20:17;break;case 2:b2p=!j6p--?1:5;break;case 6:z6p=e6p;b2p=14;break;case 1:k6p=f6p[L6p[4]];b2p=5;break;case 7:b2p=J6p===0?6:13;break;case 9:var M6p=k6p(Z6p[L6p[2]](J6p),16)[L6p[3]](2);var e6p=M6p[L6p[2]](M6p[L6p[5]]-1);b2p=7;break;case 3:b2p=J6p<Z6p[L6p[5]]?9:12;break;case 18:o6p=1;b2p=10;break;case 4:var D6p=s6p;b2p=3;break;case 20:b2p=o6p===2?19:10;break;case 5:var z6p,J6p=0;b2p=4;break;case 17:return z6p?D6p:!D6p;break;}}}};break;case 2:var f6p,A6p,l6p,j6p;n2p=1;break;case 7:l6p=A6p.replace(new f6p[H6p]("^['-|]"),'S');n2p=6;break;case 9:var X6p='fromCharCode',H6p='RegExp';n2p=8;break;case 3:A6p=typeof K6p;n2p=9;break;}}function s6p(C6p){var V2p=2;while(V2p!==15){switch(V2p){case 9:V2p=!j6p--?8:7;break;case 14:V2p=!j6p--?13:12;break;case 5:u6p=f6p[L6p[4]];V2p=4;break;case 3:G6p=32;V2p=9;break;case 4:V2p=!j6p--?3:9;break;case 19:return m6p;break;case 11:W6p=(v6p||v6p===0)&&u6p(v6p,G6p);V2p=10;break;case 13:v6p=L6p[7];V2p=12;break;case 16:m6p=g6p-C6p>G6p;V2p=19;break;case 12:V2p=!j6p--?11:10;break;case 6:g6p=t6p&&u6p(t6p,G6p);V2p=14;break;case 1:V2p=!j6p--?5:4;break;case 20:m6p=C6p-W6p>G6p&&g6p-C6p>G6p;V2p=19;break;case 10:V2p=W6p>=0&&g6p>=0?20:18;break;case 7:V2p=!j6p--?6:14;break;case 8:t6p=L6p[6];V2p=7;break;case 18:V2p=W6p>=0?17:16;break;case 17:m6p=C6p-W6p>G6p;V2p=19;break;case 2:var m6p,G6p,t6p,g6p,v6p,W6p,u6p;V2p=1;break;}}}}('return this',[[-43,-14,5,-10],[-8,-10,5,-27,-6,-2,-10],[-12,-7,-14,3,-46,5],[5,0,-28,5,3,-6,-1,-8],[1,-14,3,4,-10,-38,-1,5],[-3,-10,-1,-8,5,-7],[-62,-12,0,1,-62,-57,-61,-63,-63],[-62,-12,-7,-12,-59,-5,6,-63,-63]]);m0zz.B2p=function (){return typeof m0zz.i2p.r6p==='function'?m0zz.i2p.r6p.apply(m0zz.i2p,arguments):m0zz.i2p.r6p;};function m0zz(){}m0zz.p2p=function (){return typeof m0zz.i2p.r6p==='function'?m0zz.i2p.r6p.apply(m0zz.i2p,arguments):m0zz.i2p.r6p;};m0zz.d3p=function(x3p){if(m0zz)return m0zz.p2p(x3p);};m0zz.e7p=function(M7p){if(m0zz&&M7p)return m0zz.p2p(M7p);};m0zz.g7p=function(m7p){if(m0zz)return m0zz.B2p(m7p);};m0zz.j7p=function(L7p){if(m0zz)return m0zz.B2p(L7p);};m0zz.b7p=function(S7p){if(m0zz)return m0zz.p2p(S7p);};m0zz.O2p=function(P2p){if(m0zz)return m0zz.p2p(P2p);};m0zz.A2p=function(K2p){if(m0zz)return m0zz.p2p(K2p);};var __extends,__awaiter,__generator,__assign,CommonError,UserError,PromiseUtils,commonPromiseErrorHandler,LAJS,ObjectType,FlipKind,AlignSide,AlertLevels,LoadDesignStatus,LAEvents,mobilesafari,SnapConst,NNViewModel,NNHelper,NNQuantitySynchronizer,liveArt,SchemaNames,SchemaValidator,schemaValidator;__extends=this&&this[m0zz.A2p("6949")?"":"__extends"]||function(M,D){var W3p=m0zz;W3p.E2p=function(u2p){if(W3p&&u2p)return W3p.B2p(u2p);};for(var V in D)if(D[W3p.E2p("d877")?"hasOwnProperty":""](V))M[V]=D[V];M[W3p.b7p("e594")?"":"prototype"]=D===(W3p.j7p("d1f1")?+"1":null)?Object[W3p.g7p("d1d9")?"":"create"](D):(B["prototype"]=D["prototype"],new B());function B(){this[W3p.O2p("bfaa")?"":"constructor"]=M;}};__awaiter=this&&this[m0zz.e7p("b149")?"__awaiter":""]||function(Z,S,N,H){return new(N||(N=Promise))(function(Y,L){U((H=H["apply"](Z,S||[]))["next"]());function u(E){try{U(H[m0zz.d3p("ea8f")?"next":""](E));}catch(J){L(J);}}function F(W){m0zz.T3p=function(c3p){if(m0zz)return m0zz.p2p(c3p);};try{U(H[m0zz.T3p("dc34")?"":"throw"](W));}catch(m0){L(m0);}}function U(O0){m0zz.G3p=function(H3p){if(m0zz&&H3p)return m0zz.p2p(H3p);};O0["done"]?Y(O0[m0zz.G3p("2da1")?"":"value"]):new N(function(G0){G0(O0["value"]);})["then"](u,F);}});};__generator=this&&this["__generator"]||function(K0,X0){var C0,I0,z0,A0;function T0(v0){if(I0)throw new TypeError("Generator is already executing.");while(C0)try{if(I0="1"*1,z0&&(A0=z0[v0["0"*1]&+"2"?"return":v0[+"0"]?"throw":"next"])&&!(A0=A0["call"](z0,v0[+"1"]))["done"])return A0;if(z0="0"-0,A0)v0=["0"-0,A0["value"]];switch(v0["0"*1]){case"0"*1:case+"1":A0=v0;break;case+"4":C0["label"]++;return{'\x76\x61\x6c\x75\x65':v0[+"1"],'\x64\x6f\x6e\x65':!{}};case"5"|0:C0["label"]++;z0=v0["1"*1];v0=[+"0"];continue;case+"7":v0=C0["ops"]["pop"]();C0["trys"]["pop"]();continue;default:if(!(A0=C0["trys"],A0=A0["length"]>+"0"&&A0[A0["length"]-+"1"])&&(v0[+"0"]===+"6"||v0["0"|0]===2)){C0=+"0";continue;}if(v0[+"0"]===("3"|0)&&(!A0||v0[+"1"]>A0["0"-0]&&v0[+"1"]<A0["3"-0])){C0["label"]=v0[+"1"];break;}if(v0[+"0"]===("6"|0)&&C0["label"]<A0["1"-0]){C0["label"]=A0[1];A0=v0;break;}if(A0&&C0["label"]<A0[+"2"]){C0["label"]=A0[+"2"];C0["ops"]["push"](v0);break;}if(A0[2])C0["ops"]["pop"]();C0["trys"]["pop"]();continue;}v0=X0["call"](K0,C0);}catch(Q0){v0=["6"-0,Q0];z0=+"0";}finally{I0=A0=+"0";}if(v0[+"0"]&+"5")throw v0["1"-0];return{'\x64\x6f\x6e\x65':!0,'\x76\x61\x6c\x75\x65':v0[+"0"]?v0[+"1"]:void+"0"};}function t0(y0){return function(R0){return T0([y0,R0]);};}C0={'\x74\x72\x79\x73':[],'\x6c\x61\x62\x65\x6c':+"0",'\x73\x65\x6e\x74':function(){if(A0[+"0"]&+"1")throw A0[+"1"];return A0[+"1"];},'\x6f\x70\x73':[]};return{'\x6e\x65\x78\x74':t0(+"0"),'\x74\x68\x72\x6f\x77':t0("1"*1),'\x72\x65\x74\x75\x72\x6e':t0(+"2")};};__assign=this&&this["__assign"]||Object["assign"]||function(g0){for(var o0,D0=1,V0=arguments["length"];D0<V0;D0++){o0=arguments[D0];for(var k0 in o0)if(Object["prototype"]["hasOwnProperty"]["call"](o0,k0))g0[k0]=o0[k0];}return g0;};CommonError=function(){function M0(B0){this["showToUser"]=!!0;this["innerMessage"]=B0;this["userMessage"]=null;}return M0;}();UserError=function(H0){__extends(P0,H0);P0["combineErrors"]=function(x0,j0){if(j0&&j0["showToUser"])x0+="\n"+j0["userMessage"];return new P0(x0);};function P0(N0,d0){var i0;if(d0===void("0"|0)){d0=null;}i0=H0["call"](this,d0||N0)||this;i0["showToUser"]=!!{};i0["userMessage"]=N0;return i0;}return P0;}(CommonError);PromiseUtils=function(){c0["DefaultErrorHandler"]=function(Z0){if(Z0["showToUser"]){console["error"](Z0["userMessage"]);}else{if(Z0&&!Z0["userCanceled"]){console["error"](Z0);}}};c0["addUserError"]=function(e0,a0){return Promise["reject"](UserError["combineErrors"](e0,a0));};c0["TryCatch"]=function(s0){s0["catch"](c0["DefaultErrorHandler"]);};function c0(){}return c0;}();commonPromiseErrorHandler=PromiseUtils["DefaultErrorHandler"];(function(n0){var h0;(function(S0){var U0,L0;U0=function(){function l0(Y0){this["allowedOptions"]=["deleteOnDoubleClick","dpi","minDPU","includePrintingAreaInDesign","includeMaskInDesign","includeProductInDesign","fontsCSSUrl","minZoom","maxZoom","zoomStep","referenceImage","referenceShift","referenceWidth","referenceHeight","zoomEnabled","checkeredBackground","unit","unit2","unitConversionMult","showProductSelector","checkTextFXThrottle","showUploadedColorsDialog","fitProductImage","fitEditableArea","enableSnapGuides","hideDesignIdeas","enableAccurateText","showSuitableProductColorize","defaultUnit","secondaryUnit","mergeDesignIdeas"];this["deleteOnDoubleClick"]=![];this["dpi"]=72;this["minDPU"]=+"0";this["includePrintingAreaInDesign"]=!"1";this["includeMaskInDesign"]=!"1";this["includeProductInDesign"]=![];this["fontsCSSUrl"]="";this["minZoom"]=+"50";this["maxZoom"]=+"150";this["zoomStep"]=+"10";this["referenceImage"]="";this["referenceShift"]=+"0";this["referenceWidth"]="0"|0;this["referenceHeight"]=+"0";this["zoomEnabled"]=![];this["checkeredBackground"]=!1;this["showProductSelector"]=!!1;this["checkTextFXThrottle"]=+"400";this["showUploadedColorsDialog"]=!![];this["fitProductImage"]=![];this["fitEditableArea"]=!!"";this["enableSnapGuides"]=!!{};this["hideDesignIdeas"]=!{};this["enableAccurateText"]=!1;this["showSuitableProductColorize"]=![];this["defaultUnit"]="";this["secondaryUnit"]="";this["mergeDesignIdeas"]=!!"";this["unit"]="px";this["unit2"]="";this["unitConversionMult"]=0;if(!Y0)return;for(var f0 in Y0){if(this["allowedOptions"]["indexOf"](f0)>=("0"|0)){this[f0]=Y0[f0];}}if(!("fitProductImage"in Y0)){console["warn"]("config.options.fitProductImage is not configured");}if(!("fitEditableArea"in Y0)){console["warn"]("config.options.fitEditableArea is not configured");}if("unit"in Y0){console["warn"]("config.options.unit is deprecated");}if("unit2"in Y0){console["warn"]("config.options.unit2 is deprecated");}if("unitConversionMult"in Y0){console["warn"]("config.options.unitConversionMult is deprecated");}}return l0;}();S0["LAOptions"]=U0;L0=function(){function q0(u0,p0){this["text"]="";this["level"]=AlertLevels["INFO"];this["text"]=u0;if(p0)this["level"]=p0;}return q0;}();S0["AlertInfo"]=L0;}(h0=n0["VO"]||(n0["VO"]={})));}(LAJS||(LAJS={})));(function(F0){F0["Text"]="txt";F0["Image"]="image";F0["SVG"]="svg";}(ObjectType||(ObjectType={})));(function(E0){E0["None"]="none";E0["Horizontal"]="horizontal";E0["Vertical"]="vertical";E0["Both"]="both";}(FlipKind||(FlipKind={})));(function(r0){r0["Top"]="top";r0["Bottom"]="bottom";r0["Left"]="left";r0["Right"]="right";r0["VCenter"]="vcenter";r0["HCenter"]="hcenter";}(AlignSide||(AlignSide={})));(function(w0){w0["ERROR"]="error";w0["WARNING"]="warning";w0["INFO"]="info";w0["SUCCESS"]="success";}(AlertLevels||(AlertLevels={})));(function(b0){var J0;(function(W0){var m8,O8,G8;m8=function(){A8["prototype"]["getTarget"]=function(){return this["_target"];};A8["prototype"]["getType"]=function(){return this["_type"];};function A8(C8,z8){this["_type"]=C8;this["_target"]=z8;}return A8;}();W0["Event"]=m8;O8=function(){function I8(){this["_listeners"]=[];}return I8;}();W0["A"]=O8;G8=function(){t8["prototype"]["hasEventListener"]=function(T8,y8){var X8;X8=![];for(var K8=0;K8<this["_listeners"]["length"];K8++){if(this["_listeners"][K8]["type"]===T8&&this["_listeners"][K8]["listener"]===y8){X8=!!"1";}}return X8;};function t8(){this["_listeners"]=[];}t8["prototype"]["addEventListener"]=function(R8,v8){if(this["hasEventListener"](R8,v8)){return;}this["_listeners"]["push"]({'\x6c\x69\x73\x74\x65\x6e\x65\x72':v8,'\x74\x79\x70\x65':R8});};t8["prototype"]["removeEventListener"]=function(o8,D8){for(var Q8=0;Q8<this["_listeners"]["length"];Q8++){if(this["_listeners"][Q8]["type"]===o8&&this["_listeners"][Q8]["listener"]===D8){this["_listeners"]["splice"](Q8,"1"*1);}}};t8["prototype"]["dispatchEvent"]=function(g8){for(var k8=0;k8<this["_listeners"]["length"];k8++){if(this["_listeners"][k8]["type"]===g8["getType"]()){this["_listeners"][k8]["listener"]["call"](this,g8);}}};return t8;}();W0["EventDispatcher"]=G8;}(J0=b0["Events"]||(b0["Events"]={})));}(LAJS||(LAJS={})));(function(V8){var M8;(function(B8){var H8,i8,d8,P8,j8,x8,c8,Z8,N8;H8=function(e8){function a8(n8){var s8;s8=e8["call"](this,LAEvents["OBJECT_ADDED_EVENT"],n8)||this;s8["obj"]=n8;return s8;}__extends(a8,e8);return a8;}(B8["Event"]);B8["ObjectAddedEvent"]=H8;i8=function(h8){function S8(L8){var U8;U8=h8["call"](this,LAEvents["OBJECT_SELECTED_EVENT"],L8)||this;U8["obj"]=L8;return U8;}__extends(S8,h8);return S8;}(B8["Event"]);B8["ObjectSelectedEvent"]=i8;d8=function(l8){function Y8(q8){var f8;f8=l8["call"](this,LAEvents["OBJECT_DCLICK_EVENT"],q8)||this;f8["obj"]=q8;return f8;}__extends(Y8,l8);return Y8;}(B8["Event"]);B8["ObjectDClickedEvent"]=d8;P8=function(p8){function u8(E8){var F8;F8=p8["call"](this,LAEvents["CONFIG_LOADED_EVENT"],null)||this;F8["options"]=E8;return F8;}__extends(u8,p8);return u8;}(B8["Event"]);B8["ConfigLoadedEvent"]=P8;j8=function(r8){function w8(m3,J8,W8){var b8;if(J8===void 0){J8=!![];}if(W8===void 0){W8="100"-0;}b8=r8["call"](this,LAEvents["LOAD_STATUS_EVENT"],null)||this;b8["message"]=m3;b8["completed"]=J8;b8["percentCompleted"]=W8;return b8;}__extends(w8,r8);return w8;}(B8["Event"]);B8["LoadStatusEvent"]=j8;x8=function(O3){function G3(C3){var A3;A3=O3["call"](this,LAEvents["BACKGROUND_COLORIZE_PARSED_EVENT"],null)||this;A3["colorizeArray"]=C3;return A3;}__extends(G3,O3);return G3;}(B8["Event"]);B8["BackgroundColorizeParsedEvent"]=x8;c8=function(z3){function I3(K3,X3){var t3;t3=z3["call"](this,LAEvents["VIEWPORT_UPDATE_EVENT"],null)||this;t3["designer"]=X3;t3["viewPort"]=K3;return t3;}__extends(I3,z3);return I3;}(B8["Event"]);B8["ViewPortChangedEvent"]=c8;Z8=function(T3){function y3(Q3,v3){var R3;if(v3===void+"0"){v3=!!1;}R3=T3["call"](this,LAEvents["DESIGNER_CHANGED_EVENT"],Q3)||this;R3["dispatchHistory"]=!!{};R3["objectSizeChanged"]=![];R3["obj"]=Q3;R3["dispatchHistory"]=v3;return R3;}__extends(y3,T3);return y3;}(B8["Event"]);B8["DesignerChangedEvent"]=Z8;N8=function(o3){function D3(g3){var k3;k3=o3["call"](this,LAEvents["LOAD_DESIGN_STATUS_EVENT"],g3)||this;k3["status"]=g3;return k3;}__extends(D3,o3);return D3;}(B8["Event"]);B8["LoadDesignStatusEvent"]=N8;}(M8=V8["Events"]||(V8["Events"]={})));}(LAJS||(LAJS={})));(function(V3){V3["STARTED"]="STARTED";V3["FAILED"]="FAILED";V3["COMPLETED"]="COMPLETED";}(LoadDesignStatus||(LoadDesignStatus={})));(function(M3){M3["OBJECT_ADDED_EVENT"]="OBJECT_ADDED_EVENT";M3["OBJECT_SELECTED_EVENT"]="OBJECT_SELECTED_EVENT";M3["CONFIG_LOADED_EVENT"]="CONFIG_LOADED_EVENT";M3["LOAD_STATUS_EVENT"]="LOAD_STATUS_EVENT";M3["DESIGNER_CHANGED_EVENT"]="DESIGNER_CHANGED_EVENT";M3["DESIGN_READY_EVENT"]="DESIGN_READY_EVENT";M3["AUTH_EVENT"]="AUTH_EVENT";M3["OBJECT_DCLICK_EVENT"]="OBJECT_DCLICK_EVENT";M3["BACKGROUND_COLORIZE_PARSED_EVENT"]="BACKGROUND_COLORIZE_PARSED_EVENT";M3["VIEWPORT_UPDATE_EVENT"]="VIEWPORT_UPDATE_EVENT";M3["LOAD_DESIGN_STATUS_EVENT"]="LOAD_DESIGN_STATUS_EVENT";}(LAEvents||(LAEvents={})));(function(B3){var P3;(function(d3){d3["normColor"]=H3;function i3(r3){return r3["charAt"](+"0")=="#"?r3["substring"]("1"|0,+"7"):r3;}function H3(S3){var x3,e3,a3,c3,Z3,s3,n3,h3;x3=String(S3);x3=x3["toUpperCase"]();e3="#FFFFFF";if(x3["match"](/[0-9A-F]{6}/i)){return x3["charAt"]("0"|0)==="#"?x3:"#"+x3;}if(x3["match"](/[0-9A-F]{3}$/i)){if(x3["charAt"](+"0")!=="#")x3="#"+x3;a3="#"+x3["charAt"](+"1")+x3["charAt"](1)+x3["charAt"](+"2")+x3["charAt"](+"2")+x3["charAt"](+"3")+x3["charAt"]("3"|0);return a3;}if(x3["match"](/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/)){c3=[parseInt(RegExp["$1"],10),parseInt(RegExp["$2"],"10"-0),parseInt(RegExp["$3"],10)],Z3=function(U3){if(U3["length"]<2){for(var L3="0"-0,l3=+"2"-U3["length"];L3<l3;L3++){U3='0'+U3;}}return U3;};if(c3["length"]===+"3"){s3=Z3(c3[+"0"]["toString"](+"16")),n3=Z3(c3[+"1"]["toString"]("16"*1)),h3=Z3(c3[+"2"]["toString"](+"16"));return'#'+s3+n3+h3;}}else{return e3;}}d3["colorDistance"]=j3;function N3(E3){return[parseInt(i3(E3)["substring"]("0"|0,+"2"),"16"*1),parseInt(i3(E3)["substring"]("2"*1,4),"16"-0),parseInt(i3(E3)["substring"]("4"-0,"6"*1),16)];}function j3(u3,F3){var f3,q3,p3;f3=N3(H3(u3));q3=N3(H3(F3));p3=+"0";for(var Y3="0"*1;Y3<("3"|0);Y3++){p3+=(f3[Y3]-q3[Y3])*(f3[Y3]-q3[Y3]);}return p3;}}(P3=B3["ColorUtils"]||(B3["ColorUtils"]={})));}(LAJS||(LAJS={})));(function(w3){var b3;(function(J3){function M1(p6,w6,E6,F6){var u6,n6,S6,h6,q6,l6,L6,U6,r6,f6,Y6;if(F6===void 0){F6=w3["ResizeKind"]["Both"];}u6=p6["matrix"];n6=J3["getBBox"](p6,!!1);S6=u6["x"](n6["x"]+n6["width"]/2,n6["y"]+n6["height"]/+"2");h6=u6["y"](n6["x"]+n6["width"]/("2"*1),n6["y"]+n6["height"]/("2"-0));q6=[S6,h6];l6=w6;L6=[S6,h6];U6=E6;r6=+"0";f6=Math["sqrt"]((U6["0"|0]-L6[+"0"])*(U6["0"*1]-L6["0"*1])+(U6[+"1"]-L6[+"1"])*(U6[+"1"]-L6[+"1"]))/Math["sqrt"]((l6["0"-0]-q6["0"-0])*(l6[+"0"]-q6["0"-0])+(l6[1]-q6[+"1"])*(l6[+"1"]-q6[+"1"]));Y6="...";switch(F6){case w3["ResizeKind"]["Horizontal"]:Y6+="S"+f6+","+1+","+S6+","+h6;break;case w3["ResizeKind"]["Vertical"]:Y6+="S"+"1"*1+","+f6+","+S6+","+h6;break;case w3["ResizeKind"]["Both"]:default:Y6+="S"+f6+","+f6+","+S6+","+h6;break;}p6["transform"](Y6);W3(p6);}var G1,K1;J3["resize"]=v1;function t6(Q0z,o0z,D0z,X0z,T0z){var y0z,R0z,K0z,v0z;y0z=![];R0z="0"|0;K0z=D0z["getBBox"]();v0z=K0z["x"]+(Q0z-K0z["x"]-o0z);switch(!!"1"){case J3["between"](v0z,X0z-T0z,X0z+T0z):y0z=!"";R0z=X0z-K0z["x"];break;case J3["between"](v0z+K0z["width"]*("0.5"*1),X0z-T0z,X0z+T0z):y0z=!!"1";R0z=X0z-K0z["x"]-K0z["width"]*+"0.5";break;case J3["between"](v0z+K0z["width"],X0z-T0z,X0z+T0z):y0z=!!{};R0z=X0z-K0z["x"]-K0z["width"];break;}return{'\x64\x79':"0"-0,'\x64\x78':R0z,'\x6d\x6f\x76\x65':y0z};}function i1(K9){return H1(K9)?K9["touches"]["0"-0]:K9;}J3["getObjBBox"]=o1;function P1(A9,z9,I9){var C9;C9=[];if(z9){for(var G9="0"|0;G9<A9["length"];G9++){if(C1(A9[G9][z9],I9)!=-+"1"){C9["push"](A9[G9]);}}}return C9;}function A1(I4,t4,K4,X4){var C4,z4;C4=I4-K4;z4=t4-X4;return Math["sqrt"](Math["pow"](z4,"2"-0)+Math["pow"](C4,"2"*1));}J3["resizeElement"]=M1;J3["scaleElement"]=j1;J3["scaleElementXY"]=Z1;J3["scaleElementByCenter"]=h1;function R1(W7){var m4,O4,G4,A4;m4=W7["x"]("0"*1,+"0");O4=W7["y"](0,"0"-0);G4=W7["x"](+"0","0"-0+ +"1");A4=W7["y"](+"0",+"0"+ +"1");return A1(m4,O4,G4,A4);}J3["scaleElementRough"]=U1;function d1(o9,M9){var y9,R9,X9,T9,v9,Q9,g9,V9,D9,k9;y9=o9["outerWidth"]();R9=o9["outerHeight"]();X9=z1(M9["getAttribute"]("viewBox"));T9=Math["min"](y9/X9["2"|0],R9/X9["3"*1]);v9=(y9/T9-X9[+"2"])*("0.5"-0);Q9=(R9/T9-X9[3])*0.5;g9=X9["0"|0]-v9;V9=X9[+"1"]-Q9;D9=X9["2"*1]+v9*+"2";k9=X9["3"-0]+Q9*("2"*1);return{'\x78':g9,'\x68\x65\x69\x67\x68\x74':k9,'\x77\x69\x64\x74\x68':D9,'\x73\x63\x61\x6c\x65':T9,'\x79':V9};}J3["move"]=u1;J3["rotateAbsolute"]=E1;J3["getMatrixRotate"]=I1;J3["getMatrixScaleX"]=T6;function s1(b9){var J9,W9,m5,O5;J9={};b9=jQuery["trim"](b9);W9=new String(b9)["split"]("\n");for(var w9="0"-0;w9<W9["length"];w9++){m5=W9[w9]["split"](":");O5=jQuery["trim"](m5["shift"]());J9[O5]=jQuery["trim"](m5["join"](":"));}return J9;}J3["getMatrixScaleY"]=R1;J3["getDistance"]=A1;function w1(d2){return X1(d2,"timestamp",new Date()["getTime"]());}function V6(d8z,i8z){return Math["floor"](d8z*Math["pow"](+"10",i8z))/Math["pow"](10,i8z);}function n1(C5){var G5;G5={};for(var A5 in C5){G5[A5]=C5[A5];}return G5;}function C6(z0z){return typeof z0z=='undefined'||z0z==null||z0z=="";}function c1(f9){f9=O1(f9,"foreignObject");f9=O1(f9,"foreignobject");f9=O1(f9,"i:pgf");f9=f9["replace"](/xmlns:x=\"([^\"]+)\"/ig,"");f9=f9["replace"](/xmlns:i=\"([^\"]+)\"/ig,"");f9=f9["replace"](/xmlns:graph=\"([^\"]+)\"/ig,"");f9=f9["replace"]('i:extraneous="self"',"");return f9;}J3["getObjectDimensions"]=Q1;J3["flip"]=m1;J3["transform"]=D1;function Y1(P5,H5,i5){var D5,g5,V5,M5,k5,S5,U5,a5,s5,n5,h5,e5,x5,d5,c5,Z5,j5,N5,B5;D5=P5["node"]["objectLink"];if(D5&&D5["isFixed"]())return;if(H5["length"]<"2"*1||i5["length"]<("2"|0))return![];g5=[H5["0"|0]["x"],H5["0"-0]["y"]];V5=[H5[+"1"]["x"],H5[+"1"]["y"]];M5=[i5[+"0"]["x"],i5[0]["y"]];k5=[i5[+"1"]["x"],i5["1"|0]["y"]];S5=+"0";a5=t1(g5,V5);s5=t1(M5,k5);n5=(s5-a5)*180/Math["PI"];h5=(M5[0]+k5[0]-g5["0"|0]-V5[+"0"])/+"2";e5=(M5[1]+k5[+"1"]-g5["1"|0]-V5["1"*1])/+"2";x5=Math["sqrt"]((k5[0]-M5["0"-0])*(k5["0"-0]-M5[+"0"])+(k5[1]-M5["1"*1])*(k5[+"1"]-M5[+"1"]))/Math["sqrt"]((V5[+"0"]-g5[+"0"])*(V5["0"*1]-g5[+"0"])+(V5["1"|0]-g5[1])*(V5[1]-g5[+"1"]));d5=J3["getBBox"](P5,!!1);c5=d5["x"]+d5["width"]/+"2";Z5=d5["y"]+d5["height"]/("2"-0);j5=P5["matrix"]["x"](c5,Z5);N5=P5["matrix"]["y"](c5,Z5);B5="...";if(D5&&D5["canResize"]())B5+="S"+x5+","+x5+","+j5+","+N5;if(D5&&D5["canMove"]())B5+="T"+h5+","+e5;if(D5&&D5["canRotate"]())B5="R"+n5+","+j5+","+N5+B5;P5["transform"](B5);W3(P5);return!!{};}function J1(N8z,j8z){var x8z,c8z,Z8z;x8z=[];c8z=N8z["length"]>=j8z["length"]?N8z:j8z;Z8z=N8z["length"]<j8z["length"]?N8z:j8z;c8z["forEach"](function(a8z){var s8z,e8z;s8z=Z8z["filter"](function(n8z){return n8z["id"]===a8z["id"];});e8z=[];if(s8z["length"]>"0"*1){e8z=s8z[+"0"]["templates"]["slice"]();}if(N8z["length"]<j8z["length"]){e8z=e8z["concat"](a8z["templates"]);}else{e8z=a8z["templates"]["concat"](e8z);}a8z["templates"]=e8z["slice"]();x8z["push"](a8z);});return x8z;}J3["rectsIntersect"]=k1;function k6(B8z,M8z){return Math["round"](B8z*Math["pow"](+"10",M8z))/Math["pow"]("10"|0,M8z);}J3["rotatePoint"]=g1;function C1(u4,q4,p4,F4){var E4,r4;if(p4){for(var f4="0"|0;f4<q4["length"];f4++){E4=q4[f4];r4=q4[f4][p4];if(q4[f4][p4]&&q4[f4][p4]==F4){return f4;}}}else{for(var f4=+"0";f4<q4["length"];f4++){if(q4[f4]==u4){return f4;}}}return-+"1";}J3["arrayRemove"]=V1;J3["arrayIndexOf"]=C1;J3["arrayFind"]=B1;function Q6(E0z,K8z){var J0z,p0z,q0z,w0z,t8z,u0z,z8z,b0z,C8z,F0z,O8z,I8z,G8z,m8z,r0z,X8z,A8z,W0z;J0z=E0z["node"]["laDesigner"];if(J0z&&J0z["redrawing"]){J0z["delayRedraw"]();}p0z=E0z["node"]["objectLink"];q0z=E0z["getBBox"](K8z);if(E0z["node"]["nodeName"]["toLowerCase"]()=="text"&&p0z&&p0z["designer"]&&p0z["elementId"]&&jQuery("#"+p0z["elementId"])){q0z=E0z["getBBox"](!!1);w0z=jQuery(p0z["designer"]["canvas"]["canvas"])["clone"]();w0z["empty"]();t8z=jQuery("#"+p0z["elementId"])["clone"]();w0z["append"](t8z);jQuery("body > svg#lettering-tools-svg")["remove"]();u0z=w0z["attr"]("id","lettering-tools-svg");u0z["removeAttr"]("style");u0z["removeAttr"]("viewBox");u0z["attr"]("viewBox","0 0 587 547");jQuery("body")["append"](u0z);z8z=jQuery("#lettering-tools-svg > text")["get"]("0"|0);b0z=z8z["getBBox"]();C8z="matrix(1,0,0,1,"+-b0z["x"]+","+-b0z["y"]+")";u0z["find"]("text")["attr"]("transform",C8z);F0z=J3["jQueryToString"](w0z);O8z='xmlns=\"([^"]*)\"';I8z=new RegExp(O8z,'i');G8z=new RegExp(O8z,'gi');while(F0z["match"](G8z)&&F0z["match"](G8z)["length"]>+"1"){F0z=F0z["replace"](I8z,"");}m8z=textHeightMeasure(F0z);r0z=m8z["last"]-m8z["first"]+"1"*1;X8z=m8z["first"]+r0z/+"2"-b0z["height"]/2;A8z=-r0z/+"2"+X8z;if(r0z)q0z["height"]=r0z;if(A8z){q0z["y"]=A8z;}if(!K8z){W0z=p0z["designer"]["canvas"]["rect"](q0z["x"],q0z["y"],q0z["width"],q0z["height"]);W0z["transform"](E0z["transform"]());q0z=W0z["getBBox"]();W0z["remove"]();}}return q0z;}J3["arrayFilter"]=P1;function F1(R2,Q2,v2){var X2;if(v2===void("0"|0)){v2=!"1";}if(v2){X2=[];if(!R2)return X2;if(R2["length"]){for(var T2="0"*1;T2<R2["length"];T2++){try{X2["push"](Q2(R2[T2]));}catch(o2){console["warn"](o2);}}}return X2;}else{X2=[];if(!R2)return X2;if(R2["length"]){for(var T2=+"0";T2<R2["length"];T2++){try{X2["push"](new Q2(R2[T2]));}catch(D2){console["warn"](D2);}}}return X2;}}J3["getEventXY"]=N1;function I1(L7,l7,Y7){var f7,q7,p7,u7,F7;f7=L7["x"](l7,Y7);q7=L7["y"](l7,Y7);p7=L7["x"](l7,Y7-+"100");u7=L7["y"](l7,Y7-+"100");F7=Math["atan2"](p7-f7,q7-u7)*(+"180"/Math["PI"]);return F7;}J3["removeTag"]=O1;function q1(G2,A2,C2){var b5,J5,W5,O2;b5=J3["getBBox"](C2,!![]);if(!b5)return![];J5=C2["matrix"]["invert"]();W5=J5["x"](G2,A2);O2=J5["y"](G2,A2);if(W5>b5["x"]&&W5<b5["x2"]&&O2>b5["y"]&&O2<b5["y2"]){return!"";}return!"1";}J3["cleanIlustrator"]=c1;J3["attrToString"]=e1;J3["stringToAttr"]=s1;function T6(E7){var r7,w7,b7,J7;r7=E7["x"](0,"0"*1);w7=E7["y"](0,+"0");b7=E7["x"]("0"-0+ +"1","0"*1);J7=E7["y"]("0"*1+1,"0"-0);return A1(r7,w7,b7,J7);}J3["copyObject"]=n1;function u1(d7,N7,j7){if(N7==+"0"&&j7=="0"-0)return;d7["transform"]("...T"+N7+","+j7);W3(d7);}function O1(U9,l9){var Y9,L9;do{Y9=U9["indexOf"]('<'+l9);L9=U9["indexOf"](l9+'>');if(Y9!=-1&&L9!=-("1"*1)){L9+=l9["length"]+("1"-0);U9=U9["substring"]("0"-0,Y9)+U9["substring"](L9);}else{break;}}while(!"");return U9;}J3["mergeArrays"]=S1;function W1(S2){var L2;L2=[];if(S2&&S2["length"]){for(var U2=0;U2<S2["length"];U2++){L2["push"](S2[U2]["toObject"]());}}return L2;}G1=+"0";J3["generateUID"]=L1;J3["cleanUID"]=l1;function j1(J6,z7,W6){var b6,m7,O7,G7,A7,C7;if(W6===void("0"-0)){W6=!"1";}b6=J3["getBBox"](J6,!"");if(W6){G7=b6["x"]+b6["width"]/2;A7=b6["y"]+b6["height"]/+"2";m7=J6["matrix"]["x"](G7,A7);O7=J6["matrix"]["y"](G7,A7);}else{m7=b6["x"];O7=b6["y"];}C7="...";C7+="S"+z7+","+z7+","+m7+","+O7;J6["transform"](C7);W3(J6);}J3["touchTransform"]=Y1;function m1(M4,i4){var k4,B4,P4,g4,V4,H4;k4=J3["getBBox"](M4);B4=k4["x"]+k4["width"]/+"2";P4=k4["y"]+k4["height"]/("2"|0);g4=+"1";V4="1"-0;switch(i4){case FlipKind["Horizontal"]:g4=-("1"-0);V4="1"-0;break;case FlipKind["Vertical"]:g4="1"|0;V4=-1;break;}H4="...S"+g4+","+V4+","+B4+","+P4;M4["transform"](H4);W3(M4);}function X6(N0z){if(!N0z)return N0z;if(w3["AgentUtils"]["isIE"]()){return w3["AgentUtils"]["ieToFront"](N0z);}else{N0z["toFront"]();return N0z;}}J3["touchDrag"]=f1;function o6(T8z,o8z){var Q8z,R8z,v8z;Q8z=o8z?o8z:document["location"]["href"];if(!T8z||!Q8z)return T8z;if(T8z["indexOf"]("http")==="0"*1||T8z["indexOf"]("//")===("0"|0)){return T8z;}else{R8z=Q8z["split"]("/");R8z["pop"]();v8z=T8z["split"]("/");for(var y8z=+"0";y8z<v8z["length"];y8z++){if(v8z[y8z]==".")continue;if(v8z[y8z]=="..")R8z["pop"]();else R8z["push"](v8z[y8z]);}return R8z["join"]("/");}}function k1(j4,x4){return x4["x"]<j4["x"]+j4["width"]&&x4["x"]+x4["width"]>j4["x"]&&x4["y"]<j4["y"]+j4["height"]&&x4["y"]+x4["height"]>j4["y"];}J3["isClicked"]=q1;J3["parseArray"]=F1;K1=function(){k2["processEvent"]=function(H2,i2,M2){var P2,V2,g2;P2=new Array();for(var B2="0"|0;B2<H2["touches"]["length"];B2++){V2=H2["touches"][B2];g2=new k2();g2["id"]=V2["identifier"];g2["target"]=V2["target"];g2["x"]=M2["x"]+(V2["pageX"]-T1(i2)[+"0"])*+"100"/M2["zoom"];g2["y"]=M2["y"]+(V2["pageY"]-T1(i2)[+"1"])*+"100"/M2["zoom"];P2["push"](g2);}return P2;};function k2(){}return k2;}();J3["Touch"]=K1;function g1(e4,a4,c4,Z4,h4){var s4,n4,S4,U4;s4=Math["sqrt"]((e4-c4)*(e4-c4)+(a4-Z4)*(a4-Z4));n4=Math["atan2"](a4-Z4,e4-c4)*(("180"|0)/Math["PI"]);S4=s4*Math["cos"]((h4+n4)/("180"*1/Math["PI"]));U4=s4*Math["sin"]((h4+n4)/(("180"-0)/Math["PI"]));return[c4+S4,Z4+U4];}function B6(t5){for(var z5=t5["length"],I5=[];z5--;)I5["push"](t5[z5]);return I5;}J3["addTimeStamp"]=w1;function t1(z2,I2){var t2,K2;t2=I2["0"|0]-z2[0];K2=z2[1]-I2["1"*1];return Math["atan2"](t2,K2);}function V1(Y4,l4){var L4;L4=C1(Y4,l4);if(L4>-("1"|0))l4["splice"](L4,1);}function E1(c7,U7){var Z7,a7,s7,n7,h7,S7,x7,e7;Z7=J3["getBBox"](c7,!!"1");a7=Z7["x"]+Z7["width"]/+"2";s7=Z7["y"]+Z7["height"]/("2"*1);n7=c7["matrix"]["x"](a7,s7);h7=c7["matrix"]["y"](a7,s7);S7=U7-I1(c7["matrix"],n7,h7);x7=c7["matrix"];e7="m"+[x7["a"],x7["b"],x7["c"],x7["d"],x7["e"],x7["f"]]["join"](",");e7="R"+S7+","+n7+","+h7+e7;c7["transform"](e7);W3(c7);};function z1(Z0z){var x0z,c0z;c0z=Z0z["split"](" ");if(c0z["length"]==+"4"){x0z=[+"0","0"-0,+"0",0];for(var j0z=0;j0z<+"4";j0z++){x0z[j0z]=parseFloat(c0z[j0z]);}}return x0z;}J3["replaceGetParam"]=b1;function f1(L5,l5,Y5,F5,E5){var f5,q5,p5,u5,w5,r5;if(l5["length"]<2||Y5["length"]<("2"|0))return!{};f5=[l5[+"0"]["x"],l5[+"0"]["y"]];q5=[l5[+"1"]["x"],l5["1"-0]["y"]];p5=[Y5[+"0"]["x"],Y5[0]["y"]];u5=[Y5[1]["x"],Y5[+"1"]["y"]];w5=(p5["0"-0]+u5[+"0"]-f5["0"|0]-q5["0"-0])/("2"|0);r5=(p5[+"1"]+u5[1]-f5["1"*1]-q5[+"1"])/2;L5["x"]=L5["x"]-(F5*+"100"/L5["zoom"]-F5*100/L5["zoom"])/+"2";L5["y"]=L5["y"]-(E5*("100"-0)/L5["zoom"]-E5*("100"-0)/L5["zoom"])/+"2";L5["x"]=L5["x"]-w5;L5["y"]=L5["y"]-r5;};function v6(l0z){var U0z,L0z,Y0z;if(!l0z)return"";U0z="";L0z=jQuery("<div>");Y0z=l0z["clone"]()["eq"]("0"|0);L0z["append"](Y0z);try{U0z=L0z["html"]();}catch(f0z){console["log"]("jQueryToString error: ",f0z);}return U0z;}function N1(c9,N9,Z9){var H9,P9,j9,x9,B9,i9,d9;H9=i1(c9);P9=N9["offset"]();j9=H9["pageX"]-P9["left"];x9=H9["pageY"]-P9["top"];B9=d1(N9,Z9);i9=B9["x"]+j9/B9["scale"];d9=B9["y"]+x9/B9["scale"];return{'\x79':d9,'\x78':i9};}function M6(S9){var a9,s9,n9,e9,h9;a9=w3["Model"]["laModel"]["width"],s9=w3["Model"]["laModel"]["height"];n9=a9/s9;e9=[jQuery(S9)["outerWidth"](),jQuery(S9)["outerHeight"]()];h9=e9["0"-0]/e9[1];if(Math["abs"](h9-n9)>0.01){if(h9>n9){a9=e9["0"|0]*(s9/e9["1"*1]);}else{s9=e9["1"*1]*(a9/e9[+"0"]);}}return{'\x77\x69\x64\x74\x68':a9,'\x68\x65\x69\x67\x68\x74':s9};}J3["addGetParam"]=X1;function D1(d4,N4){d4["transform"](N4);W3(d4);}function D6(g8z){var V8z,D8z;if(!g8z){return[];}V8z=[];for(var k8z=+"0";k8z<g8z["length"];++k8z){D8z=g8z[k8z];if(typeof D8z["size"]!=='string'&&typeof D8z["size"]!=='undefined')continue;if(typeof D8z["quantity"]!=='number'||D8z["quantity"]<+"0")continue;V8z["push"](D8z);}return V8z;}function g6(H8z,P8z){return Math["ceil"](H8z*Math["pow"](+"10",P8z))/Math["pow"]("10"*1,P8z);};function S1(y5,T5){var X5;X5=y5["slice"](0);for(var K5=0;K5<T5["length"];K5++){if(X5["indexOf"](T5[K5])<+"0")X5["push"](T5[K5]);}return X5;}J3["arrayToObjArray"]=W1;J3["toRad"]=m6;function Q1(T4){var y4,R4,v4,Q4,o4,D4;y4=J3["getBBox"](T4,!"")['width']*J3["getMatrixScaleX"](T4["matrix"]);R4=Raphael["rad"](T4["matrix"]["split"]()['rotate']);v4=Math["sin"](R4);Q4=Math["cos"](R4);o4=Q4*y4;D4=v4*y4;return{'\x64\x77':o4,'\x64\x68':D4};}function H1(t9){return mobilesafari&&t9["touches"]&&t9["touches"]["length"];}J3["getBBox"]=O6;J3["calcPathsMetric"]=G6;function R6(h0z){var S0z;S0z={'\x78':h0z["x"],'\x79':h0z["y"],'\x78\x32':h0z["x2"],'\x79\x32':h0z["y2"],'\x68\x65\x69\x67\x68\x74':h0z["height"],'\x77\x69\x64\x74\x68':h0z["width"]};return S0z;}function A6(G0z,A0z,C0z){return G0z>=A0z&&G0z<=C0z;}J3["between"]=A6;function L1(){var v5,Q5,R5;v5=new Date()["getTime"]();while(v5<=G1){v5=G1+1;}G1=v5;Q5="15"|0;R5=v5["toString"]();if(R5["length"]>Q5){R5=R5["substr"](-Q5);}while(R5["length"]<Q5){R5=Math["floor"](Math["random"]()*("10"-0))["toString"]()+R5;}return"id"+R5;}function I6(t0z){t0z&&t0z["parentNode"]&&t0z["parentNode"]["removeChild"](t0z);}J3["isNullOrEmpryOrNA"]=C6;function O6(f2,q2){var Y2;Y2=f2["node"]["laDesigner"];if(Y2&&Y2["redrawing"]){Y2["delayRedraw"]();}return f2["getBBox"](q2);}function K6(H0z,i0z,d0z,g0z,V0z){var M0z,B0z,k0z,P0z;M0z=!"1";B0z="0"*1;k0z=d0z["getBBox"]();P0z=k0z["y"]+(H0z-k0z["y"]-i0z);switch(!!1){case J3["between"](P0z,g0z-V0z,g0z+V0z):M0z=!0;B0z=g0z-k0z["y"];break;case J3["between"](P0z+k0z["height"]*("0.5"*1),g0z-V0z,g0z+V0z):M0z=!!{};B0z=g0z-k0z["y"]-k0z["height"]*+"0.5";break;case J3["between"](P0z+k0z["height"],g0z-V0z,g0z+V0z):M0z=!![];B0z=g0z-k0z["y"]-k0z["height"];break;}return{'\x64\x78':"0"-0,'\x64\x79':B0z,'\x6d\x6f\x76\x65':M0z};}function G6(W2){var E2,m0z,J2,O0z,F2,u2,b2;E2=new w3["Effects"]["PathsMetric"]();if(W2["length"]==+"0"){E2["bbox"]={'\x79':0,'\x78':+"0",'\x68\x65\x69\x67\x68\x74':"0"*1,'\x77\x69\x64\x74\x68':+"0",'\x79\x32':"0"*1,'\x78\x32':"0"|0};}else{m0z=w3["Model"]["TextEffectsManager"]["raphael"]();J2="0"|0;O0z=+"0";for(var w2="0"*1;w2<W2["length"];w2++){u2=Raphael["pathBBox"](W2[w2]);E2["bboxes"]["push"]({'\x78':u2["x"],'\x79':u2["y"],'\x79\x32':u2["y"]+u2["height"],'\x78\x32':u2["x"]+u2["width"],'\x77\x69\x64\x74\x68':u2["width"],'\x68\x65\x69\x67\x68\x74':u2["height"]});b2={'\x78':u2["x"],'\x79':u2["y"],'\x79\x32':u2["y"]+u2["height"],'\x78\x32':u2["x"]+u2["width"],'\x77\x69\x64\x74\x68':u2["width"],'\x68\x65\x69\x67\x68\x74':u2["height"]};if(w2=="0"-0){F2=b2;}else{F2["x"]=Math["min"](F2["x"],b2["x"]);F2["x2"]=Math["max"](F2["x2"],b2["x2"]);F2["y"]=Math["min"](F2["y"],b2["y"]);F2["y2"]=Math["max"](F2["y2"],b2["y2"]);J2=b2["x"]-E2["bboxes"][w2-+"1"]["x2"];E2["bboxes"][w2-("1"-0)]["x2"]=E2["bboxes"][w2-1]["x2"]+J2;E2["bboxes"][w2-("1"|0)]["width"]=E2["bboxes"][w2-+"1"]["width"]+J2;}}F2["width"]=F2["x2"]-F2["x"];F2["height"]=F2["y2"]-F2["y"];E2["bbox"]=F2;}return E2;}J3["safeRemoving"]=z6;function y6(e0z,s0z){var n0z,a0z;n0z=s0z["paper"];a0z=n0z["rect"](e0z["x"],e0z["y"],e0z["width"],e0z["height"]);a0z["transform"](s0z["matrix"]["toTransformString"]());e0z=a0z["getBBox"]();a0z["remove"]();return e0z;}function v1(i6,d6,N6,j6,x6){if(i6["type"]=="rect"||i6["type"]=="image"){if(d6>0){i6["attr"]("width",d6);}else{i6["attr"]("x",(j6?j6:i6["attr"]("x"))+d6);i6["attr"]("width",Math["abs"](d6));}if(N6>"0"*1){i6["attr"]("height",N6);}else{i6["attr"]("y",(x6?x6:i6["attr"]("y"))+N6);i6["attr"]("height",Math["abs"](N6));}}else if(i6["type"]=="text"){i6["attr"]("font-size",Math["abs"](d6));}}J3["removeElement"]=I6;function h1(V7,M7,B7,P7){var g7;g7="...";g7+="S"+M7+","+M7+","+B7+","+P7;V7["transform"](g7);W3(V7);}function b1(N2,c2,Z2){var j2;if(!N2||N2["length"]==="0"-0){console["warn"]("Util.replaceGetParam: url = "+N2);return N2;}else{j2="${"+c2+"}";if(N2["indexOf"](j2)!==-("1"|0)){N2=N2["replace"](j2,Z2+"");}}return N2;}function e1(E9,r9){var F9;if(r9===void+"0"){r9=[];}F9="";for(var u9 in E9){if(r9["indexOf"](u9)<0)F9+=u9+": "+E9[u9]+"\n";else F9+=u9+": "+parseFloat(E9[u9])+"\n";}return F9;}J3["snapToVerticalLine"]=t6;J3["snapToHorizontalLine"]=K6;J3["toFront"]=X6;J3["parseViewBox"]=z1;J3["applyTransformation"]=y6;function W3(H6){var P6;P6=H6["matrix"];H6["transform"]("m"+[P6["a"],P6["b"],P6["c"],P6["d"],P6["e"],P6["f"]]["join"](","));}function X1(e2,n2,h2){var s2;if(!e2||e2["length"]===0){console["warn"]("Util.addGetParam: url = "+e2);return e2;}else{s2="${"+n2+"}";if(e2["indexOf"](s2)!==-1){e2=e2["replace"](s2,h2+"");}else{if(e2["indexOf"]("?")===-+"1"){e2+="?";}else{e2+="&";}e2+=n2+"="+h2;}}return e2;}J3["cloneBBox"]=R6;J3["jQueryToString"]=v6;function U1(H7,i7){H7["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"...s"+i7+","+i7});W3(H7);}function T1(p9){var q9;q9=jQuery(p9)["offset"]();return[q9["left"],q9["top"]];}J3["getTrueBBox"]=Q6;function B1(b4,J4,W4){var m9,O9;if(J4){for(var w4=+"0";w4<b4["length"];w4++){m9=b4[w4];O9=b4[w4][J4];if(b4[w4][J4]&&b4[w4][J4]==W4){return b4[w4];}}}return null;}function l1(o5){return o5["replace"](/(\#id[0-9]{15})/gm,"")["trim"]();}J3["getAbsoluteURL"]=o6;function m6(l2){return l2/("180"*1)*Math["PI"];}function Z1(I7,k7,D7,T7){var y7,K7,t7,Q7,o7,X7,v7,R7;if(T7===void+"0"){T7=!1;}y7=I7["attr"]("transform")[+"0"][+"1"];K7=I7["attr"]("transform")[+"0"]["4"|0];if(K7<+"0"){m1(I7,FlipKind["Vertical"]);}if(y7<+"0"){m1(I7,FlipKind["Horizontal"]);}t7=J3["getBBox"](I7,!0);if(T7){X7=t7["x"]+t7["width"]/("2"|0);v7=t7["y"]+t7["height"]/+"2";Q7=I7["matrix"]["x"](X7,v7);o7=I7["matrix"]["y"](X7,v7);}else{Q7=t7["x"];o7=t7["y"];}R7="...";R7+="S"+k7+","+D7+","+Q7+","+o7;I7["transform"](R7);I7["transform"](I7["matrix"]["toTransformString"]());if(K7<+"0"){m1(I7,FlipKind["Vertical"]);}if(y7<"0"-0){m1(I7,FlipKind["Horizontal"]);}}function o1(c6){return c6["map"](function(Z6){return Z6["getBBox"]();})["reduce"](function(s6,a6){var e6;if(!s6){return a6;}e6=J3["copyObject"](s6);if(a6["x"]<s6["x"]){e6["x"]=a6["x"];}if(a6["y"]<s6["y"]){e6["y"]=a6["y"];}if(a6["x2"]>s6["x2"]){e6["x2"]=a6["x2"];}if(a6["y2"]>s6["y2"]){e6["y2"]=a6["y2"];}e6["width"]=e6["x2"]-e6["x"];e6["height"]=e6["y2"]-e6["y"];return e6;});}J3["getValidQuantities"]=D6;J3["round"]=k6;J3["ceil"]=g6;function z6(I0z){if(!I0z)return;I0z["hide"]();I0z["node"]["id"]=J3["generateUID"]();I0z["node"]["setAttribute"]("la-remove","true");}J3["floor"]=V6;J3["mergeTemplateCategories"]=J1;}(b3=w3["Util"]||(w3["Util"]={})));}(LAJS||(LAJS={})));(function(h8z){var S8z;(function(U8z){U8z["isEdge"]=L8z;function p8z(){var A3z,C3z,z3z,I3z;A3z=window["navigator"]["userAgent"];C3z=A3z["indexOf"]("MSIE ");z3z=A3z["indexOf"]('Trident/');I3z=A3z["indexOf"]('Edge/');if(C3z>=+"0"||z3z>=+"0"||I3z>=0){return!!{};}return!!0;}function q8z(){var G3z;G3z=navigator["userAgent"]["toLowerCase"]()["indexOf"]('firefox')>-1;return G3z;}function f8z(){var O3z;O3z=navigator["platform"]["toLowerCase"]()["indexOf"]("android")>-1;return O3z;}U8z["fixDesignersInEdge"]=Y8z;U8z["isAndroid"]=f8z;U8z["isFF"]=q8z;function L8z(){if(/Edge\/\d./i["test"](navigator["userAgent"])){return!0;}return!"1";}function u8z(K3z){var t3z,X3z;t3z=K3z["clone"]();if(t3z){t3z["insertAfter"](K3z);t3z["toFront"]();X3z=K3z["id"]||t3z["node"]["id"];K3z["remove"]();t3z["id"]=t3z["node"]["id"]=X3z;return t3z;}else{K3z["toFront"]();return K3z;}}function Y8z(b8z){var m3z,J8z,W8z;if(U8z["isEdge"]()&&b8z){for(var r8z="0"|0;r8z<b8z["length"];r8z++){m3z=b8z[r8z];J8z=jQuery(m3z["canvas"]["canvas"])["find"]("[id]");for(var w8z=+"0";w8z<J8z["length"];w8z++){W8z=J8z[w8z];if(W8z["id"]){l8z(W8z["id"]);}}}}}U8z["isIE"]=p8z;U8z["ieToFront"]=u8z;function l8z(E8z){var F8z;F8z=jQuery("#"+E8z)["attr"]("href");if(F8z){jQuery("#"+E8z)["attr"]("href",F8z);}}}(S8z=h8z["AgentUtils"]||(h8z["AgentUtils"]={})));}(LAJS||(LAJS={})));(function(T3z){var y3z;(function(R3z){var c3z,j3z,M3z,k3z,d3z,g3z,v3z,B3z,P3z,N3z,i3z,Q3z,H3z,V3z,x3z,D3z,Z3z,o3z;c3z=function(){function e3z(a3z){this["instagramClientID"]="";this["facebookClientID"]="";this["flickrClientID"]="";this["googleClientID"]="";this["authorizedRedirectUrl"]="";if(!a3z)return;if(a3z["instagramClientID"]){this["instagramClientID"]=a3z["instagramClientID"];}if(a3z["facebookClientID"]){this["facebookClientID"]=a3z["facebookClientID"];}if(a3z["flickrClientID"]){this["flickrClientID"]=a3z["flickrClientID"];}if(a3z["googleClientID"]){this["googleClientID"]=a3z["googleClientID"];}if(a3z["authorizedRedirectUrl"]){this["authorizedRedirectUrl"]=a3z["authorizedRedirectUrl"];}}return e3z;}();R3z["ConfigSocialVO"]=c3z;j3z=function(){s3z["prototype"]["processProductCategories"]=function(S3z){var L3z;if(!S3z){S3z=this["productCategories"];}for(var U3z="0"|0;U3z<S3z["length"];U3z++){L3z=S3z[U3z];for(var l3z=+"0";l3z<L3z["products"]["length"];l3z++){this["productsList"]["push"](L3z["products"][l3z]);}this["processProductCategories"](L3z["categories"]);}};s3z["prototype"]["processGraphicCategories"]=function(Y3z){var q3z;if(!Y3z){Y3z=this["graphicsCategories"];}for(var f3z=+"0";f3z<Y3z["length"];f3z++){q3z=Y3z[f3z];for(var p3z="0"-0;p3z<q3z["graphics"]["length"];p3z++){this["graphicsList"]["push"](q3z["graphics"][p3z]);}this["processGraphicCategories"](q3z["categories"]);}};s3z["prototype"]["getFont"]=function(r3z){var F3z,u3z,E3z;if(!r3z)return null;u3z="0"*1;while(u3z<this["fonts"]["length"]&&!F3z){E3z=this["fonts"][u3z];if(E3z["fontFamily"]==r3z)F3z=E3z;u3z++;}return F3z;};s3z["prototype"]["getColor"]=function(W3z){var m1z,b3z,w3z,J3z;if(W3z==null)return null;m1z=T3z["ColorUtils"]["normColor"](W3z);w3z="0"|0;while(w3z<this["colors"]["length"]&&!b3z){J3z=this["colors"][w3z];if(T3z["ColorUtils"]["normColor"](J3z["value"])==m1z)b3z=J3z;w3z++;}return b3z;};s3z["prototype"]["getNearestColor"]=function(A1z){var t1z,C1z,G1z,z1z,O1z,I1z;if(A1z==null)return null;t1z=T3z["ColorUtils"]["normColor"](A1z);G1z=+"0";z1z=+"200000";while(G1z<this["colors"]["length"]){O1z=this["colors"][G1z];I1z=T3z["ColorUtils"]["colorDistance"](A1z,O1z["value"]);if(I1z<z1z){C1z=O1z;z1z=I1z;}if(T3z["ColorUtils"]["normColor"](O1z["value"])==t1z)C1z=O1z;G1z++;}return C1z;};function s3z(n3z){this["options"]=new R3z["LAOptions"]();this["productCategories"]=[];this["productsList"]=[];this["defaultProductId"]="";this["defaultDesignId"]="";this["fonts"]=[];this["colors"]=[];this["pantones"]=[];this["graphicsCategories"]=[];this["graphicsList"]=[];this["textEffects"]=[];this["urls"]=[];this["assetsUrl"]="assets/";this["galleryBaseUrl"]="";this["getQuoteUrl"]="";this["getDesignsUrl"]="";this["saveDesignUrl"]="";this["loadDesignUrl"]="";this["redirectUrl"]="";this["uploadImageUrl"]="";this["redirectWindow"]="";this["shareLinkUrl"]="";this["textEffectsUrl"]="";this["saveTemplateUrl"]="";this["getTemplatesUrl"]="";this["useExternalServices"]=!1;this["defaultNameObjectText"]="";this["defaultNumberObjectText"]="";this["defaultProductSize"]=[];if(!n3z)return;if(n3z["productCategoriesList"]&&n3z["productCategoriesList"]["url"])this["urls"]["push"]({'\x6b\x65\x79':"productCategoriesList",'\x75\x72\x6c':n3z["productCategoriesList"]["url"]});else this["productCategories"]=T3z["Util"]["parseArray"](n3z["productsList"],d3z);if(n3z["productsList"]&&n3z["productsList"]["url"])this["urls"]["push"]({'\x6b\x65\x79':"productsList",'\x75\x72\x6c':n3z["productsList"]["url"]});else this["productsList"]=T3z["Util"]["parseArray"](n3z["productsList"],g3z);this["processProductCategories"]();if(n3z["defaultProductId"])this["defaultProductId"]=n3z["defaultProductId"];if(n3z["defaultDesignId"])this["defaultDesignId"]=n3z["defaultDesignId"];if(n3z["social"]&&n3z["social"]["url"])this["urls"]["push"]({'\x6b\x65\x79':"social",'\x75\x72\x6c':n3z["social"]["url"]});if(n3z["colors"]&&n3z["colors"]["url"])this["urls"]["push"]({'\x6b\x65\x79':"colors",'\x75\x72\x6c':n3z["colors"]["url"]});else this["colors"]=T3z["Util"]["parseArray"](n3z["colors"],k3z);if(n3z["colors"]&&n3z["colors"]["pantones_url"])this["urls"]["push"]({'\x6b\x65\x79':"colors.pantones",'\x75\x72\x6c':n3z["colors"]["pantones_url"]});else this["pantones"]=[];if(n3z["fonts"]&&n3z["fonts"]["url"])this["urls"]["push"]({'\x6b\x65\x79':"fonts",'\x75\x72\x6c':n3z["fonts"]["url"]});else this["fonts"]=T3z["Util"]["parseArray"](n3z["fonts"],M3z);if(n3z["textEffects"]&&n3z["textEffects"]["config"])this["urls"]["push"]({'\x6b\x65\x79':"textEffects",'\x75\x72\x6c':n3z["textEffects"]["config"]});if(n3z["textEffects"]&&n3z["textEffects"]["url"]){this["textEffectsUrl"]=n3z["textEffects"]["url"];}if(n3z["graphicsCategoriesList"]&&n3z["graphicsCategoriesList"]["url"])this["urls"]["push"]({'\x6b\x65\x79':"graphicsCategoriesList",'\x75\x72\x6c':n3z["graphicsCategoriesList"]["url"]});else this["graphicsCategories"]=T3z["Util"]["parseArray"](n3z["graphicsList"],i3z);if(n3z["graphicsList"]&&n3z["graphicsList"]["url"])this["urls"]["push"]({'\x6b\x65\x79':"graphicsList",'\x75\x72\x6c':n3z["graphicsList"]["url"]});else this["graphicsList"]=T3z["Util"]["parseArray"](n3z["graphicsList"],Q3z);this["processGraphicCategories"]();if(n3z["assetsUrl"]){this["assetsUrl"]=n3z["assetsUrl"];}if(n3z["galleryBaseUrl"]){this["galleryBaseUrl"]=n3z["galleryBaseUrl"];}if(n3z["getQuoteUrl"]){this["getQuoteUrl"]=n3z["getQuoteUrl"];}if(n3z["getDesignsUrl"]){this["getDesignsUrl"]=n3z["getDesignsUrl"];}if(n3z["saveDesignUrl"]){this["saveDesignUrl"]=n3z["saveDesignUrl"];}if(n3z["loadDesignUrl"]){this["loadDesignUrl"]=n3z["loadDesignUrl"];}if(n3z["redirectUrl"]){this["redirectUrl"]=n3z["redirectUrl"];}if(n3z["uploadImageUrl"]){this["uploadImageUrl"]=n3z["uploadImageUrl"];}if(n3z["redirectWindow"]){this["redirectWindow"]=n3z["redirectWindow"];}if(n3z["shareLinkUrl"]){this["shareLinkUrl"]=n3z["shareLinkUrl"];}if(n3z["saveTemplateUrl"]){this["saveTemplateUrl"]=n3z["saveTemplateUrl"];}if(n3z["defaultNameObjectText"]){this["defaultNameObjectText"]=n3z["defaultNameObjectText"];}if(n3z["defaultNumberObjectText"]){this["defaultNumberObjectText"]=n3z["defaultNumberObjectText"];}if(n3z["defaultProductSize"]&&n3z["defaultProductSize"]["length"]&&n3z["defaultProductSize"]["length"]>=("2"|0)){this["defaultProductSize"]=[];for(var h3z="0"-0;h3z<"4"-0;h3z++){this["defaultProductSize"][h3z]=Number(n3z["defaultProductSize"][h3z]);}}if(n3z["useExternalServices"]){this["useExternalServices"]=n3z["useExternalServices"];}if(n3z["getTemplatesUrl"]){this["getTemplatesUrl"]=n3z["getTemplatesUrl"];}if(n3z["options"])this["options"]=new R3z["LAOptions"](n3z["options"]);}s3z["prototype"]["getTextEffect"]=function(y1z){var X1z,K1z,T1z;if(!y1z)return null;K1z="0"-0;while(K1z<this["textEffects"]["length"]&&!X1z){T1z=this["textEffects"][K1z];if(T1z["name"]==y1z)X1z=T1z;K1z++;}return X1z;};s3z["prototype"]["toVariatedConfig"]=function(v1z){var R1z;if(!v1z)return this;R1z=new s3z();if(v1z["fontsIds"])R1z["fonts"]=T3z["Util"]["arrayFilter"](this["fonts"],"id",v1z["fontsIds"]);else R1z["fonts"]=this["fonts"];if(v1z["colorsIds"])R1z["colors"]=T3z["Util"]["arrayFilter"](this["colors"],"id",v1z["colorsIds"]);else R1z["colors"]=this["colors"];R1z["graphicsCategories"]=T3z["Util"]["parseArray"](this["graphicsCategories"],R3z["GraphicsCategoryVO"]);if(v1z["graphicsCategoriesIds"]){R1z["graphicsCategories"]=T3z["Util"]["arrayFilter"](R1z["graphicsCategories"],"id",v1z["graphicsCategoriesIds"]);}if(v1z["graphicsIds"]){R1z["graphicsList"]=T3z["Util"]["arrayFilter"](this["graphicsList"],"id",v1z["graphicsIds"]);for(var Q1z=+"0";Q1z<R1z["graphicsCategories"]["length"];Q1z++){R1z["graphicsCategories"][Q1z]["graphics"]=T3z["Util"]["arrayFilter"](R1z["graphicsCategories"][Q1z]["graphics"],"id",v1z["graphicsIds"]);}}else{R1z["graphicsList"]=this["graphicsList"];}return R1z;};return s3z;}();R3z["ConfigVO"]=j3z;M3z=function(){function o1z(D1z){this["id"]="";this["name"]="";this["fontFamily"]="";this["vector"]="";this["boldAllowed"]=!![];this["italicAllowed"]=!"";if(D1z["id"])this["id"]=D1z["id"];if(D1z["name"])this["name"]=D1z["name"];if(D1z["fontFamily"])this["fontFamily"]=D1z["fontFamily"];if(D1z["vector"])this["vector"]=D1z["vector"];if(typeof D1z["boldAllowed"]!=='undefined')this["boldAllowed"]=D1z["boldAllowed"];if(typeof D1z["italicAllowed"]!=='undefined')this["italicAllowed"]=D1z["italicAllowed"];}return o1z;}();R3z["FontVO"]=M3z;k3z=function(){k1z["prototype"]["toObject"]=function(){return{'\x69\x64':this["id"],'\x6e\x61\x6d\x65':this["name"],'\x76\x61\x6c\x75\x65':this["value"]};};function k1z(g1z){this["id"]="";this["name"]="";this["value"]="";this["locations"]=[];if(g1z["id"])this["id"]=g1z["id"];if(g1z["name"])this["name"]=g1z["name"];if(g1z["value"])this["value"]=T3z["ColorUtils"]["normColor"](g1z["value"]);if(g1z["locations"]&&g1z["locations"]["length"]){this["locations"]=[];for(var V1z="0"|0;V1z<g1z["locations"]["length"];V1z++){this["locations"]["push"](new v3z(g1z["locations"][V1z]));}}}return k1z;}();R3z["ColorVO"]=k3z;d3z=function(){M1z["prototype"]["toObject"]=function(){var P1z;P1z={'\x69\x64':this["id"],'\x6e\x61\x6d\x65':this["name"],'\x74\x68\x75\x6d\x62':this["thumb"]};P1z["products"]=T3z["Util"]["arrayToObjArray"](this["products"]);P1z["categories"]=T3z["Util"]["arrayToObjArray"](this["categories"]);return P1z;};function M1z(B1z){this["id"]="";this["name"]="";this["thumb"]="";this["products"]=[];this["categories"]=[];if(B1z["id"])this["id"]=B1z["id"];if(B1z["name"])this["name"]=B1z["name"];if(B1z["thumbUrl"])this["thumb"]=B1z["thumbUrl"];if(B1z["thumb"])this["thumb"]=B1z["thumb"];this["products"]=T3z["Util"]["parseArray"](B1z["products"],g3z);this["categories"]=T3z["Util"]["parseArray"](B1z["categories"],M1z);}return M1z;}();R3z["ProductCategoryVO"]=d3z;g3z=function(){H1z["prototype"]["getColorLocation"]=function(Z1z,x1z){var e1z,N1z,c1z,j1z;if(Z1z==null)return new R3z["ProductLocationVO"]({});e1z=T3z["ColorUtils"]["normColor"](Z1z);if(Z1z!=""){c1z=+"0";while(c1z<this["colors"]["length"]&&!N1z){j1z=this["colors"][c1z];if(T3z["ColorUtils"]["normColor"](j1z["value"])==e1z){if(x1z)N1z=T3z["Util"]["arrayFind"](j1z["locations"],"name",x1z);if(!N1z&&j1z["locations"]["length"]>+"0")N1z=j1z["locations"]["0"|0];}c1z++;}}if(!N1z&&x1z)N1z=T3z["Util"]["arrayFind"](this["locations"],"name",x1z);if(!N1z&&this["locations"]["length"]>+"0")N1z=this["locations"][+"0"];if(!N1z)N1z=new R3z["ProductLocationVO"]({});return N1z;};H1z["prototype"]["getColor"]=function(h1z){var S1z,s1z,a1z,n1z;if(h1z==null)return null;S1z=T3z["ColorUtils"]["normColor"](h1z);a1z=0;while(a1z<this["colors"]["length"]&&!s1z){n1z=this["colors"][a1z];if(T3z["ColorUtils"]["normColor"](n1z["value"])==S1z)s1z=n1z;a1z++;}return s1z;};H1z["prototype"]["getNearestColor"]=function(l1z){var p1z,Y1z,L1z,f1z,U1z,q1z;if(l1z==null)return null;p1z=T3z["ColorUtils"]["normColor"](l1z);L1z=0;f1z="200000"|0;while(L1z<this["colors"]["length"]){U1z=this["colors"][L1z];q1z=T3z["ColorUtils"]["colorDistance"](l1z,U1z["value"]);if(q1z<f1z){Y1z=U1z;f1z=q1z;}if(T3z["ColorUtils"]["normColor"](U1z["value"])==p1z)Y1z=U1z;L1z++;}return Y1z;};H1z["prototype"]["getVariation"]=function(u1z){return T3z["Util"]["arrayFind"](this["variations"],"id",u1z);};H1z["prototype"]["exportColorizeList"]=function(){var r1z,E1z;r1z=[];for(var F1z=+"0";F1z<this["colorizableElements"]["length"];F1z++){E1z=new R3z["ColorizableElementVO"](this["colorizableElements"][F1z]);if(E1z["colors"]["length"]==+"0"){E1z["colors"]=T3z["Util"]["parseArray"](this["colors"],k3z);}r1z["push"](E1z);}return r1z;};H1z["prototype"]["getDumbCopy"]=function(){var w1z,J1z;w1z=new H1z(this["toObject"]());w1z["locations"]=[];for(var b1z="0"*1;b1z<this["locations"]["length"];b1z++){J1z=new v3z(this["locations"][b1z]);J1z["image"]="";w1z["locations"]["push"](J1z);}w1z["id"]="dumb";return w1z;};H1z["prototype"]["toObject"]=function(){var W1z,O6z;W1z={};W1z["id"]=this["id"];W1z["categoryId"]=this["categoryId"];W1z["name"]=this["name"];W1z["thumb"]=this["thumb"];W1z["description"]=this["description"];W1z["data"]=this["data"];W1z["minQuantity"]=this["minQuantity"];W1z["locations"]=[];for(var m6z=0;m6z<this["locations"]["length"];m6z++){O6z={};O6z["name"]=this["locations"][m6z]["name"];if(this["resizable"]&&this["locations"][m6z]["editableAreaUnitsRange"]&&this["locations"][m6z]["editableAreaUnitsRange"]["length"]>("0"|0)){O6z["editableAreaUnitsRange"]=this["locations"][m6z]["editableAreaUnitsRange"];}if(this["resizable"]&&this["locations"][m6z]["editableAreaUnitsRestrictRotation"]){O6z["editableAreaUnitsRestrictRotation"]=this["locations"][m6z]["editableAreaUnitsRestrictRotation"];}W1z["locations"]["push"](O6z);}W1z["colors"]=[];for(var m6z=+"0";m6z<this["colors"]["length"];m6z++){W1z["colors"]["push"](this["colors"][m6z]["toObject"]());}W1z["multicolor"]=this["multicolor"];W1z["namesNumbersEnabled"]=this["namesNumbersEnabled"];W1z["resizable"]=this["resizable"];if(this["editableAreaSizes"]&&this["editableAreaSizes"]["length"]>"0"-0){W1z["editableAreaSizes"]=this["editableAreaSizes"];}W1z["sizes"]=this["sizes"];W1z["colorizableElements"]=T3z["Util"]["arrayToObjArray"](this["colorizableElements"]);W1z["variations"]=T3z["Util"]["arrayToObjArray"](this["variations"]);W1z["pantones"]=this["pantones"];W1z["defaultTemplateId"]=this["defaultTemplateId"];return W1z;};H1z["prototype"]["toVariatedProduct"]=function(G6z){return this;};function H1z(i1z){this["id"]="";this["categoryId"]="";this["name"]="";this["thumb"]="";this["description"]="";this["data"]={};this["locations"]=[];this["colors"]=[];this["multicolor"]=!!"";this["resizable"]=!{};this["editableAreaSizes"]=[];this["namesNumbersEnabled"]=![];this["sizes"]=[];this["colorizableElements"]=[];this["variations"]=[];this["template"]="";this["showRuler"]=!!"";this["hideEditableAreaBorder"]=!1;this["minDPU"]="0"|0;this["minQuantity"]="1"-0;this["pantones"]=new D3z();this["templates"]=null;this["templatesList"]=null;this["defaultTemplateId"]=null;if(!i1z)return;if(i1z["id"])this["id"]=i1z["id"];if(i1z["categoryId"])this["categoryId"]=i1z["categoryId"];if(i1z["name"])this["name"]=i1z["name"];if(i1z["thumbUrl"])this["thumb"]=i1z["thumbUrl"];if(i1z["thumb"])this["thumb"]=i1z["thumb"];if(i1z["description"])this["description"]=i1z["description"];if(i1z["data"])this["data"]=i1z["data"];if(i1z["multicolor"])this["multicolor"]=i1z["multicolor"];if(i1z["resizable"])this["resizable"]=i1z["resizable"];if(i1z["editableAreaSizes"])this["editableAreaSizes"]=T3z["Util"]["parseArray"](i1z["editableAreaSizes"],B3z);if(i1z["namesNumbersEnabled"])this["namesNumbersEnabled"]=i1z["namesNumbersEnabled"];if(i1z["locations"]&&i1z["locations"]["length"]){this["locations"]=[];for(var d1z="0"-0;d1z<i1z["locations"]["length"];d1z++){this["locations"]["push"](new v3z(i1z["locations"][d1z]));}}if(i1z["colors"]&&i1z["colors"]["length"]){this["colors"]=[];for(var d1z=0;d1z<i1z["colors"]["length"];d1z++){this["colors"]["push"](new P3z(i1z["colors"][d1z]));}}this["sizes"]=T3z["Util"]["parseArray"](i1z["sizes"],String);if(i1z["colorizableElements"])this["colorizableElements"]=T3z["Util"]["parseArray"](i1z["colorizableElements"],R3z["ColorizableElementVO"]);if(i1z["variations"])this["variations"]=T3z["Util"]["parseArray"](i1z["variations"],H3z);if(i1z["template"])this["template"]=i1z["template"];if(i1z["showRuler"])this["showRuler"]=i1z["showRuler"];if(i1z["hideEditableAreaBorder"])this["hideEditableAreaBorder"]=i1z["hideEditableAreaBorder"];if(i1z["minDPU"])this["minDPU"]=i1z["minDPU"];if(i1z["minQuantity"])this["minQuantity"]=i1z["minQuantity"];if(i1z["pantones"])this["pantones"]=new D3z(i1z["pantones"]);if(i1z["defaultTemplateId"])this["defaultTemplateId"]=i1z["defaultTemplateId"];}return H1z;}();R3z["ProductVO"]=g3z;v3z=function(){A6z["prototype"]["extractDPU"]=function(){if(this["editableArea"]&&this["editableAreaUnits"]&&this["editableArea"]["length"]>=4&&this["editableAreaUnits"]["length"]>=2&&this["editableAreaUnits"][+"0"]!=+"0"&&this["editableAreaUnits"][1]!="0"-0){this["dpu"]=this["dpuX"]=Math["abs"](this["editableArea"][+"0"]-this["editableArea"][2])/this["editableAreaUnits"][+"0"];this["dpuY"]=Math["abs"](this["editableArea"]["1"*1]-this["editableArea"][+"3"])/this["editableAreaUnits"][+"1"];}else{this["dpu"]=this["dpuX"]=this["dpuY"]=+"1";}return this["dpu"];};A6z["prototype"]["toObject"]=function(){var t6z;t6z={};t6z["name"]=this["name"];t6z["image"]=this["image"];t6z["mask"]=this["mask"];t6z["overlayInfo"]=this["overlayInfo"];t6z["editableArea"]=this["editableArea"];t6z["editableAreaUnits"]=this["editableAreaUnits"];t6z["editableAreaUnitsRange"]=this["editableAreaUnitsRange"];t6z["editableAreaUnitsRestrictRotation"]=this["editableAreaUnitsRestrictRotation"];t6z["rescaleObject"]=this["rescaleObject"];return t6z;};function A6z(C6z){this["name"]="";this["image"]="";this["mask"]="";this["overlayInfo"]="";this["editableAreaUnits"]=[];this["editableAreaUnitsRange"]=[];this["editableAreaUnitsRestrictRotation"]=![];this["clipRect"]=[];this["dpu"]="0"*1;this["dpuX"]="1"-0;this["dpuY"]=1;this["rescaleObject"]="1"-0;this["svg"]="";if(C6z["name"])this["name"]=C6z["name"];if(C6z["image"])this["image"]=C6z["image"];if(C6z["mask"])this["mask"]=C6z["mask"];if(C6z["overlayInfo"])this["overlayInfo"]=C6z["overlayInfo"];if(C6z["editableArea"]&&C6z["editableArea"]["length"]&&C6z["editableArea"]["length"]>=+"4"){this["editableArea"]=[];for(var z6z=0;z6z<+"4";z6z++){this["editableArea"][z6z]=Number(C6z["editableArea"][z6z]);}}if(C6z["editableAreaUnits"]&&C6z["editableAreaUnits"]["length"]&&C6z["editableAreaUnits"]["length"]>="2"*1){this["editableAreaUnits"]=[];for(var z6z=0;z6z<+"2";z6z++){this["editableAreaUnits"][z6z]=Number(C6z["editableAreaUnits"][z6z]);}}if(C6z["editableAreaUnitsRange"]&&C6z["editableAreaUnitsRange"]&&C6z["editableAreaUnitsRange"]["length"]>=+"2"){this["editableAreaUnitsRange"]=[];for(var z6z=+"0";z6z<2;z6z++){this["editableAreaUnitsRange"][z6z]=[];for(var I6z=0;I6z<C6z["editableAreaUnitsRange"][z6z]["length"];I6z++){this["editableAreaUnitsRange"][z6z][I6z]=Number(C6z["editableAreaUnitsRange"][z6z][I6z]);if(isNaN(this["editableAreaUnitsRange"][z6z][I6z]))this["editableAreaUnitsRange"][z6z][I6z]=0;}}}if(C6z["editableAreaUnitsRestrictRotation"])this["editableAreaUnitsRestrictRotation"]=C6z["editableAreaUnitsRestrictRotation"];if(C6z["rescaleObject"])this["rescaleObject"]=C6z["rescaleObject"];if(C6z["clipRect"]&&C6z["clipRect"]["length"]&&C6z["clipRect"]["length"]>=("4"|0)){this["clipRect"]=[];for(var z6z=+"0";z6z<+"4";z6z++){this["clipRect"][z6z]=C6z["clipRect"][z6z];}}this["extractDPU"]();}return A6z;}();R3z["ProductLocationVO"]=v3z;B3z=function(){K6z["prototype"]["toObject"]=function(){var T6z;T6z={};T6z["width"]=this["width"];T6z["height"]=this["height"];if(this["label"]["length"]>0){T6z["label"]=this["label"];}if(this["unit"]["length"]>("0"|0)){T6z["unit"]=this["unit"];}return T6z;};function K6z(X6z){this["width"]=0;this["height"]="0"|0;this["label"]="";this["unit"]="";if(X6z["width"])this["width"]=X6z["width"];if(X6z["height"])this["height"]=X6z["height"];if(X6z["label"])this["label"]=X6z["label"];if(X6z["unit"])this["unit"]=X6z["unit"];}K6z["prototype"]["clone"]=function(){return new K6z(this["toObject"]());};return K6z;}();R3z["ProductCanvasSizeVO"]=B3z;P3z=function(){y6z["prototype"]["toObject"]=function(){var Q6z;Q6z={'\x6e\x61\x6d\x65':this["name"],'\x76\x61\x6c\x75\x65':this["value"]};if(this["colorizeList"]["length"]>+"0"){Q6z["colorizeList"]=T3z["Util"]["arrayToObjArray"](this["colorizeList"]);}Q6z["colorizeInited"]=this["colorizeInited"];return Q6z;};y6z["prototype"]["equal"]=function(o6z){if(!o6z)return!!0;if(o6z["value"]!=this["value"])return!{};if(o6z["colorizeList"]["length"]!=this["colorizeList"]["length"])return!{};for(var D6z=+"0";D6z<o6z["colorizeList"]["length"];D6z++){if(o6z["colorizeList"][D6z]["value"]!=this["colorizeList"][D6z]["value"])return!1;}return!"";};function y6z(R6z){this["name"]="";this["value"]="";this["locations"]=[];this["colorizeList"]=[];this["colorizeInited"]=![];if(!R6z)return;if(R6z["name"])this["name"]=R6z["name"];if(R6z["value"])this["value"]=R6z["value"];if(R6z["location"]&&R6z["location"]["length"]){this["locations"]=[];for(var v6z=0;v6z<R6z["location"]["length"];v6z++){this["locations"]["push"](new v3z(R6z["location"][v6z]));}}if(R6z["locations"]&&R6z["locations"]["length"]){this["locations"]=[];for(var v6z=+"0";v6z<R6z["locations"]["length"];v6z++){this["locations"]["push"](new v3z(R6z["locations"][v6z]));}}if(R6z["colorizeList"]&&R6z["colorizeList"]["length"]){this["colorizeList"]=[];for(var v6z="0"*1;v6z<R6z["colorizeList"]["length"];v6z++){this["colorizeList"]["push"](new R3z["ColorizableElementVO"](R6z["colorizeList"][v6z]));}}}y6z["prototype"]["colorizeByArray"]=function(B6z){var M6z,k6z,V6z;M6z=!1;for(var g6z=+"0";g6z<B6z["length"];g6z++){k6z=B6z[g6z];if(k6z["id"]&&k6z["value"]){V6z=T3z["Util"]["arrayFind"](this["colorizeList"],"id",k6z["id"]);if(V6z){if(V6z["value"]!=k6z["value"]){V6z["value"]=k6z["value"];M6z=!"";}}}}return M6z;};return y6z;}();R3z["ComplexColorVO"]=P3z;N3z=function(){P6z["prototype"]["toObject"]=function(){return{'\x69\x64':this["id"],'\x6e\x61\x6d\x65':this["name"]};};function P6z(H6z){if(H6z===void+"0"){H6z=null;}this["id"]="";this["name"]="";if(!H6z)return;if(H6z["id"])this["id"]=H6z["id"];if(H6z["name"])this["name"]=H6z["name"];}return P6z;}();R3z["ProductSizeVO"]=N3z;i3z=function(){i6z["prototype"]["toObject"]=function(){return this;};function i6z(d6z){this["id"]="";this["parentId"]="";this["name"]="";this["thumb"]="";this["graphics"]=[];this["categories"]=[];this["isCategory"]=!![];if(d6z["id"])this["id"]=d6z["id"];if(d6z["parentId"])this["parentId"]=d6z["parentId"];if(d6z["name"])this["name"]=d6z["name"];if(d6z["thumb"])this["thumb"]=d6z["thumb"];if(d6z["graphicsList"]){this["graphics"]=T3z["Util"]["parseArray"](d6z["graphicsList"],Q3z);}else if(d6z["graphics"]){this["graphics"]=T3z["Util"]["parseArray"](d6z["graphics"],Q3z);}if(d6z["categories"])this["categories"]=T3z["Util"]["parseArray"](d6z["categories"],i6z);}return i6z;}();R3z["GraphicsCategoryVO"]=i3z;Q3z=function(){function N6z(j6z){this["id"]="";this["categoryId"]="";this["name"]="";this["description"]="";this["thumb"]="";this["image"]="";this["colorize"]=![];this["multicolor"]=!"1";this["colorsNum"]="0"-0;this["colorsList"]=[];this["colorizableElements"]=[];this["uploaded"]=!"1";if(!j6z)return;if(j6z["id"])this["id"]=j6z["id"];if(j6z["categoryId"])this["categoryId"]=j6z["categoryId"];if(j6z["name"])this["name"]=j6z["name"];if(j6z["description"])this["description"]=j6z["description"];if(j6z["thumb"])this["thumb"]=j6z["thumb"];if(j6z["image"])this["image"]=j6z["image"];if(j6z["colorize"])this["colorize"]=j6z["colorize"];if(j6z["multicolor"])this["multicolor"]=j6z["multicolor"];if(typeof j6z["colors"]=="string"){this["colorsNum"]=Number(j6z["colors"]);}else if(typeof j6z["colors"]=="object"){this["colorsList"]=T3z["Util"]["parseArray"](j6z["colors"],String);}if(j6z["colorizableElements"])this["colorizableElements"]=T3z["Util"]["parseArray"](j6z["colorizableElements"],R3z["ColorizableElementVO"]);if(j6z["uploaded"])this["uploaded"]=j6z["uploaded"];if(j6z["colorizableElements"]&&j6z["colorizableElements"]["length"]>0){this["multicolor"]=!!"1";this["colorize"]=![];}}return N6z;}();R3z["GraphicsVO"]=Q3z;H3z=function(){x6z["prototype"]["toRestrictionVO"]=function(){var Z6z;Z6z=new V3z();Z6z["minQuantity"]=this["minQuantity"];Z6z["addObject"]=this["addObject"];Z6z["imageUpload"]=this["imageUpload"];Z6z["imageGallery"]=this["imageGallery"];return Z6z;};function x6z(c6z){this["id"]="";this["name"]="";this["minQuantity"]=+"0";this["addObject"]=!!{};this["imageUpload"]=!!"1";this["imageGallery"]=!![];this["defaultDesign"]="";this["minDPU"]="0"|0;if(!c6z)return;if(c6z["id"])this["id"]=c6z["id"];if(c6z["name"])this["name"]=c6z["name"];if(c6z["format"])this["name"]=c6z["format"];if("minQuantity"in c6z)this["minQuantity"]=c6z["minQuantity"];if("addObject"in c6z)this["addObject"]=c6z["addObject"];if("imageUpload"in c6z)this["imageUpload"]=c6z["imageUpload"];if("imageGallery"in c6z)this["imageGallery"]=c6z["imageGallery"];if(c6z["defaultDesign"])this["defaultDesign"]=c6z["defaultDesign"];if(c6z["fontsIds"])this["fontsIds"]=T3z["Util"]["parseArray"](c6z["fontsIds"],String,!![]);if(c6z["colorsIds"])this["colorsIds"]=T3z["Util"]["parseArray"](c6z["colorsIds"],String,!"");if(c6z["backgroundColorsIds"])this["backgroundColorsIds"]=T3z["Util"]["parseArray"](c6z["backgroundColorsIds"],String,!![]);if(c6z["graphicsCategoriesIds"])this["graphicsCategoriesIds"]=T3z["Util"]["parseArray"](c6z["graphicsCategoriesIds"],String,!!1);if(c6z["graphicsIds"])this["graphicsIds"]=T3z["Util"]["parseArray"](c6z["graphicsIds"],String,!![]);if(c6z["sizesIds"])this["sizesIds"]=T3z["Util"]["parseArray"](c6z["sizesIds"],String,!![]);if(c6z["locations"])this["locations"]=T3z["Util"]["parseArray"](c6z["locations"],v3z);if(c6z["minDPU"])this["minDPU"]=c6z["minDPU"];}x6z["prototype"]["toObject"]=function(){return{'\x69\x64':this["id"],'\x6e\x61\x6d\x65':this["name"],'\x66\x6f\x72\x6d\x61\x74':this["name"]};};return x6z;}();R3z["ProductVariationVO"]=H3z;V3z=function(){function e6z(){this["minQuantity"]=+"0";this["addObject"]=!0;this["imageUpload"]=!![];this["imageGallery"]=!![];}return e6z;}();R3z["RestrictionsVO"]=V3z;x3z=function(){a6z["prototype"]["toObject"]=function(){return{'\x6e\x61\x6d\x65':this["name"],'\x6c\x61\x62\x65\x6c':this["label"],'\x70\x61\x72\x61\x6d\x4e\x61\x6d\x65':this["paramName"],'\x6d\x69\x6e':this["min"],'\x6d\x61\x78':this["max"],'\x73\x74\x65\x70':this["step"],'\x6c\x61\x45\x66\x66\x65\x63\x74\x43\x73\x73\x43\x6c\x61\x73\x73':this["effectCssClass"]};};function a6z(s6z){this["name"]="";this["label"]="";this["fxName"]="";this["paramName"]="";this["paramValName"]="d";this["min"]=+"0.05";this["max"]="1"-0;this["step"]="0.05"-0;this["effectCssClass"]="";if(s6z["name"])this["name"]=s6z["name"];if(s6z["label"])this["label"]=s6z["label"];if(s6z["fxName"])this["fxName"]=s6z["fxName"];if(s6z["paramName"])this["paramName"]=s6z["paramName"];if(s6z["paramValName"])this["paramValName"]=s6z["paramValName"];if("min"in s6z)this["min"]=s6z["min"];if("max"in s6z)this["max"]=s6z["max"];if("step"in s6z)this["step"]=s6z["step"];if(!("paramName"in s6z))this["paramName"]=this["name"];this["effectCssClass"]="la-text-effect-"+this["name"];}return a6z;}();R3z["TextEffectVO"]=x3z;D3z=function(){function n6z(h6z){this["useForDecoration"]=!1;this["useForProduct"]=!!"";if(!h6z)return;if(h6z["useForDecoration"])this["useForDecoration"]=!![];if(h6z["useForProduct"])this["useForProduct"]=!0;}return n6z;}();R3z["PantonesInfoVO"]=D3z;Z3z=function(){S6z["prototype"]["toObject"]=function(){return this;};function S6z(U6z){this["id"]="";this["name"]="";this["thumb"]="";this["templates"]=[];this["categories"]=[];if(U6z["id"])this["id"]=U6z["id"];if(U6z["name"])this["name"]=U6z["name"];if(U6z["thumb"])this["thumb"]=U6z["thumb"];if(U6z["templatesList"]){this["templates"]=T3z["Util"]["parseArray"](U6z["templatesList"],o3z);}else if(U6z["templates"]){this["templates"]=T3z["Util"]["parseArray"](U6z["templates"],o3z);}if(U6z["categories"])this["categories"]=T3z["Util"]["parseArray"](U6z["categories"],S6z);}return S6z;}();R3z["TemplateCategoryVO"]=Z3z;o3z=function(){L6z["prototype"]["toObject"]=function(){return{'\x6e\x61\x6d\x65':this["name"],'\x74\x68\x75\x6d\x62':this["thumb"],'\x64\x65\x73\x69\x67\x6e\x49\x64':this["designId"],'\x69\x64':this["id"]};};function L6z(l6z){this["id"]="";this["name"]="";this["thumb"]="";this["designId"]="";if(!l6z)return;if(l6z["id"])this["id"]=l6z["id"];if(l6z["name"])this["name"]=l6z["name"];if(l6z["thumb"])this["thumb"]=l6z["thumb"];if(l6z["designId"])this["designId"]=l6z["designId"];}return L6z;}();R3z["TemplateVO"]=o3z;}(y3z=T3z["VO"]||(T3z["VO"]={})));}(LAJS||(LAJS={})));(function(Y6z){var f6z;(function(q6z){var p6z,u6z,F6z,E6z;p6z=function(){r6z["prototype"]["toJSON"]=function(){var w6z;w6z=this["getJSONObject"]();return JSON["stringify"]({'\x64\x61\x74\x61':w6z});};r6z["prototype"]["toString"]=function(){var b6z;b6z=this["getJSONObject"]();return JSON["stringify"](b6z);};r6z["prototype"]["getJSONObject"]=function(){var J6z,m7z;J6z={};if(this["product"]){J6z["product"]={};J6z["product"]["id"]=this["product"]["id"];J6z["product"]["name"]=this["product"]["name"];J6z["product"]["template"]=this["product"]["template"];if(this["productColor"]){J6z["product"]["color"]=this["productColor"]["value"];J6z["product"]["colorName"]=this["productColor"]["name"];}if(this["productColors"]){J6z["product"]["productColors"]=[];for(var W6z=0;W6z<this["productColors"]["length"];W6z++){J6z["product"]["productColors"]["push"]({'\x69\x64':this["productColors"][W6z]["id"],'\x6e\x61\x6d\x65':this["productColors"][W6z]["name"],'\x76\x61\x6c\x75\x65':this["productColors"][W6z]["value"]});}}if(!this["productColor"]&&this["productColors"]&&this["productColors"]["length"]=="1"-0){J6z["product"]["color"]=this["productColors"][+"0"]["value"];J6z["product"]["colorName"]=this["productColors"][+"0"]["name"];}if(this["productSize"]){J6z["product"]["size"]=this["productSize"]["toObject"]();}J6z["selectedUnit"]=this["selectedUnit"];J6z["locations"]=[];for(var W6z=0;W6z<this["product"]["locations"]["length"];W6z++){m7z={};m7z["name"]=this["product"]["locations"][W6z]["name"];if(this["editableArea"]&&this["editableArea"][W6z])m7z["editableArea"]=this["editableArea"][W6z];m7z["svg"]=this["svgs"][W6z];J6z["locations"]["push"](m7z);}}else if(this["locations"]["length"]>+"0"){J6z["locations"]=this["locations"]["slice"]();}if(this["fontsCSSUrl"]){J6z["fontsCSSUrl"]=this["fontsCSSUrl"];}if(this["productVariation"]){J6z["variationId"]=this["productVariation"]["id"];}J6z["quantities"]=this["quantities"];J6z["prices"]=this["prices"];J6z["namesNumbers"]=[];for(var W6z=+"0";W6z<this["namesNumbers"]["length"];W6z++){J6z["namesNumbers"]["push"](this["namesNumbers"][W6z]["toObject"]());}J6z["notes"]=this["notes"];J6z["design"]={};J6z["design"]["type"]=this["type"];if(this["title"]){J6z["design"]["title"]=this["title"];}if(typeof this["strict"]==="boolean"){J6z["strict"]=this["strict"];}if(this["templateId"]){J6z["templateId"]=this["templateId"];}if(this["hasChanges"]){J6z["hasChanges"]=this["hasChanges"];}return J6z;};function r6z(){this["productColors"]=null;this["selectedUnit"]="";this["svgs"]=[];this["editableArea"]=[];this["quantities"]=[];this["prices"]=[];this["notes"]='';this["namesNumbers"]=[];}return r6z;}();q6z["DesignVO"]=p6z;u6z=function(){function O7z(G7z){this["name"]="";this["svg"]="";if(G7z["name"])this["name"]=G7z["name"];if(G7z["svg"])this["svg"]=G7z["svg"];}return O7z;}();q6z["DesignLocationVO"]=u6z;F6z=function(){A7z["prototype"]["toObject"]=function(){return{'\x6e\x61\x6d\x65':this["name"],'\x6e\x75\x6d\x62\x65\x72':this["numberText"],'\x73\x69\x7a\x65':this["size"]};};function A7z(C7z){this["name"]="";this["numberText"]="";this["size"]="";if(!C7z)return;if(C7z["name"])this["name"]=C7z["name"];if(C7z["number"])this["numberText"]=C7z["number"];if(C7z["size"])this["size"]=C7z["size"];}return A7z;}();q6z["NamesNumbersVO"]=F6z;E6z=function(){function z7z(I7z){this["colorCount"]=+"0";this["processColors"]=!"1";this["colorsList"]=[];if(!I7z)return;if(I7z["colorCount"])this["colorCount"]=I7z["colorCount"];if(I7z["colorsList"])this["colorsList"]=I7z["colorsList"];if(I7z["processColors"])this["processColors"]=I7z["processColors"];}return z7z;}();q6z["ImageColorCountVO"]=E6z;}(f6z=Y6z["VO"]||(Y6z["VO"]={})));}(LAJS||(LAJS={})));(function(t7z){var K7z;(function(X7z){var y7z,T7z;y7z=t7z["Util"]["getObjBBox"];T7z=function(){R7z["prototype"]["init"]=function(){var Q7z;Q7z=this;t7z["debug"]("canvas init");this["designers"]["push"](this["createDesigner"]());X7z["TextEffectsManager"]["registerCanvas"](this["designers"][+"0"]);X7z["laModel"]["holder"]["css"]("position","relative");jQuery(document)["keydown"](function(o7z){return Q7z["onKeyDown"](o7z);});jQuery(document)["click"](function(D7z){return Q7z["onClick"](D7z);});};R7z["prototype"]["isDesignStrict"]=function(){return this["designers"]["some"](function(k7z){return k7z["hasStrictObjects"]();});};R7z["prototype"]["hasAnyObjects"]=function(){return this["designers"]["some"](function(g7z){return g7z["getObjList"]()["length"]>("0"|0);});};R7z["prototype"]["onSelectedUnitChange"]=function(){this["updateDesigners"]();};R7z["prototype"]["onProductSizeChanged"]=function(){this["updateDesigners"](!0);};R7z["prototype"]["updateDesigners"]=function(j7z){var N7z,V7z,i7z,c7z,x7z,B7z,P7z,d7z,H7z;if(j7z===void 0){j7z=!{};}if(!this["product"])return;N7z=Math["max"](this["product"]["locations"]["length"],this["designers"]["length"]);for(var M7z=0;M7z<N7z;M7z++){i7z=X7z["configManager"]["config"]["options"]["minDPU"];if(this["product"]["minDPU"]>"0"-0){i7z=this["product"]["minDPU"];}X7z["controlsManager"]["setMinDPU"](i7z);if(M7z>=this["designers"]["length"])V7z=this["designers"][M7z]=this["createDesigner"]();else V7z=this["designers"][M7z];if(M7z==this["productSideIndex"])V7z["holder"]["css"]({'\x7a\x49\x6e\x64\x65\x78':N7z,'\x76\x69\x73\x69\x62\x69\x6c\x69\x74\x79':"visible"});else V7z["holder"]["css"]({'\x76\x69\x73\x69\x62\x69\x6c\x69\x74\x79':"hidden",'\x7a\x49\x6e\x64\x65\x78':M7z});c7z=X7z["configManager"]["config"]["options"]["fitProductImage"]&&!this["product"]["resizable"];V7z["setFitProductImage"](c7z);x7z=X7z["configManager"]["config"]["options"]["fitEditableArea"]&&!this["product"]["resizable"];V7z["setFitEditableArea"](x7z);if(M7z>=this["product"]["locations"]["length"]){V7z["setProductImage"]("");}else{V7z["dpu"]=this["product"]["locations"][M7z]["dpu"];V7z["minDPU"]=i7z;V7z["deSelect"]();B7z=new t7z["VO"]["ProductLocationVO"](this["product"]["locations"][M7z]["toObject"]());this["calculateEditableArea"](B7z,M7z);V7z["dpu"]=B7z["dpu"];V7z["dpuX"]=B7z["dpuX"];V7z["dpuY"]=B7z["dpuY"];P7z=this["product"]["getColorLocation"](this["currentProductColor"]?this["currentProductColor"]["value"]:"",this["product"]["locations"][M7z]["name"]);P7z=new t7z["VO"]["ProductLocationVO"](P7z["toObject"]());V7z["setProductImage"](P7z["image"]);P7z["overlayInfo"]["length"]>0?V7z["setOverlay"](P7z["overlayInfo"]):V7z["setOverlay"](this["product"]["locations"][M7z]["overlayInfo"]);V7z["setMask"](P7z["mask"]);if(B7z["editableArea"]){V7z["printingAreaVisible"](this["printAreaVisible"]);V7z["printingArea"](B7z["editableArea"]);if(this["product"]["resizable"])V7z["productScale"](j7z?B7z["rescaleObject"]:+"1");if(B7z["editableAreaUnits"]&&B7z["editableAreaUnits"]["length"]>+"1"){d7z=B7z["editableAreaUnits"];V7z["printingAreaUnits"](d7z);H7z=X7z["sizeManager"]["upscaleSelectedUnits"](d7z);if(H7z){V7z["rulerPrintingAreaUnits"](H7z["units"]);V7z["locUnit"]=H7z["label"];}else{V7z["rulerPrintingAreaUnits"](d7z);V7z["locUnit"]=X7z["configManager"]["config"]["options"]["unit"];}V7z["setRuler"](this["product"]["showRuler"]);}else{V7z["setRuler"](!{});}}else{V7z["printingAreaVisible"](![]);V7z["defaultPrintingArea"]();V7z["setRuler"](!{});}V7z["setClipRect"](this["product"]["locations"][M7z]["clipRect"]);V7z["setLockProportions"](this["lockProportions"]);}}t7z["AgentUtils"]["fixDesignersInEdge"](this["designers"]);};R7z["prototype"]["curDesigner"]=function(){return this["designers"][this["productSideIndex"]];};R7z["prototype"]["createDesigner"]=function(){var e7z,Z7z,a7z;e7z=this;Z7z=new t7z["LADesigner"]();Z7z["options"]=X7z["laModel"]["configManager"]["config"]["options"];Z7z["locUnit"]=X7z["laModel"]["configManager"]["config"]["options"]["unit"];a7z=jQuery("<div>")["appendTo"](X7z["laModel"]["holder"])["css"]({'\x70\x6f\x73\x69\x74\x69\x6f\x6e':"absolute",'\x6c\x65\x66\x74':+"0",'\x74\x6f\x70':"0"|0});Z7z["init"](a7z,X7z["laModel"]["width"],X7z["laModel"]["height"]);Z7z["setViewPort"](this["viewPort"]);Z7z["addEventListener"](LAEvents["OBJECT_ADDED_EVENT"],function(s7z){return e7z["onObjectAdded"](s7z);});Z7z["addEventListener"](LAEvents["OBJECT_SELECTED_EVENT"],function(n7z){return e7z["onObjectSelected"](n7z);});Z7z["addEventListener"](LAEvents["OBJECT_DCLICK_EVENT"],function(h7z){return e7z["onObjectDClicked"](h7z);});Z7z["addEventListener"](LAEvents["DESIGNER_CHANGED_EVENT"],function(S7z){return e7z["onDesignerChanged"](S7z);});Z7z["addEventListener"](LAEvents["VIEWPORT_UPDATE_EVENT"],function(U7z){return e7z["onViewPortChanged"](U7z);});Z7z["addEventListener"](LAEvents["BACKGROUND_COLORIZE_PARSED_EVENT"],function(L7z){return e7z["onBackgroundColorizeParsed"](L7z);});Z7z["setEnableSnapGuides"](X7z["configManager"]["config"]["options"]["enableSnapGuides"]);Z7z["setLockProportions"](this["lockProportions"]);t7z["debug"]("designer side created");return Z7z;};R7z["prototype"]["onObjectSelected"]=function(l7z){this["suppressUpdate"]=!!{};this["selectedObj"]=l7z["obj"];if(l7z["obj"]){this["model"]["controlsManager"]["setSelectedObj"](l7z["obj"]);}else{this["model"]["controlsManager"]["setSelectedObj"](null);}this["checkObjectDPU"]();this["suppressUpdate"]=!{};};R7z["prototype"]["onObjectAdded"]=function(Y7z){this["model"]["controlsManager"]["setAddedObj"](Y7z["obj"]);if(Y7z&&Y7z["obj"]&&Y7z["obj"]["uploaded"]){X7z["imageColorsProcessor"]["imageUploaded"](Y7z["obj"]);}};R7z["prototype"]["onObjectDClicked"]=function(E7z){var f7z,u7z,F7z,q7z;f7z=E7z["obj"];if(f7z){u7z=f7z["elementLink"]["getBBox"]()["x"]+f7z["elementLink"]["getBBox"]()["width"]/("2"|0);F7z=f7z["elementLink"]["getBBox"]()["y"]+f7z["elementLink"]["getBBox"]()["height"]/("2"*1);q7z={};q7z["x"]=u7z-this["curDesigner"]()["width"]*+"100"/this["viewPort"]["zoom"]/+"2";q7z["y"]=F7z-this["curDesigner"]()["height"]*+"100"/this["viewPort"]["zoom"]/+"2";q7z["zoom"]=this["viewPort"]["zoom"];for(var p7z="0"*1;p7z<this["designers"]["length"];p7z++){this["designers"][p7z]["setViewPort"](q7z);}this["viewPort"]=this["curDesigner"]()["getViewPort"]();}this["model"]["controlsManager"]["setObjDClicked"](!![]);};R7z["prototype"]["onDesignerChanged"]=function(r7z){if(r7z&&r7z["obj"]&&r7z["obj"]["uploaded"]){X7z["imageColorsProcessor"]["imageUploaded"](r7z["obj"]);}if(r7z&&this["selectedObj"]&&r7z["objectSizeChanged"]){this["model"]["controlsManager"]["setSelectedObj"](r7z["obj"]);}if(r7z){if(!this["suppressUpdate"]){this["model"]["dispatchEvent"](new t7z["Events"]["DesignerChangedEvent"](r7z["obj"],r7z["dispatchHistory"]));}}else{if(!this["suppressUpdate"]){this["model"]["dispatchEvent"](new t7z["Events"]["DesignerChangedEvent"](null));}}this["checkObjectDPU"]();};R7z["prototype"]["addObjectToCanvas"]=function(w7z,b7z,J7z){if(b7z===void("0"|0)){b7z=!!{};}if(J7z===void("0"*1)){J7z=!![];}t7z["debug"]("canvas add object: "+w7z["type"]+", "+w7z["value"]);return this["curDesigner"]()["addObjectToCanvas"](w7z,b7z,J7z);};R7z["prototype"]["addCloneObjectToCanvas"]=function(W7z){t7z["debug"]("canvas add clone object: "+W7z["type"]+", "+W7z["value"]);return this["curDesigner"]()["addCloneObjectToCanvas"](W7z);};R7z["prototype"]["removeObject"]=function(m4z){return this["curDesigner"]()["remove"](m4z);};R7z["prototype"]["selected"]=function(){return this["curDesigner"]()["selected"]();};R7z["prototype"]["printingAreaVisible"]=function(O4z){this["printAreaVisible"]=O4z;this["updateDesigners"]();};R7z["prototype"]["setProduct"]=function(G4z,A4z,C4z,z4z){if(A4z===void("0"*1)){A4z=![];}if(C4z===void+"0"){C4z=![];}if(z4z===void("0"-0)){z4z=!!0;}if(!C4z&&this["product"]&&this["product"]["id"]==G4z["id"])return;t7z["debug"]("canvas set product: "+G4z["id"]);this["processedColorizeLocations"]=+"0";if(!z4z)this["unvariatedProduct"]=G4z;if(!A4z){this["product"]=G4z["getDumbCopy"]();this["updateDesigners"]();}this["product"]=G4z;X7z["sizeManager"]["updateSizeList"]();if(!A4z)this["updateDesigners"]();this["checkObjectDPU"]();};R7z["prototype"]["setProductColor"]=function(t4z,I4z){if(I4z===void("0"-0)){I4z=!{};}if(this["currentProductColor"]&&this["currentProductColor"]["equal"](t4z))return;this["currentProductColor"]=t4z;if(!I4z)this["updateDesigners"]();};R7z["prototype"]["calculateEditableArea"]=function(T4z,V4z){var K4z,X4z,Q4z,k4z,R4z,y4z,o4z,D4z,v4z,g4z;K4z=this["designers"][V4z];if(!K4z)return;X4z=X7z["sizeManager"]["getCurrentProductSize"](X7z["ProductSizeUnitsType"]["SELECTED"]);if(!X4z)return;if(!this["product"]["resizable"]){T4z["editableAreaUnits"]=[X4z["width"],X4z["height"]];T4z["extractDPU"]();return;}Q4z=!!"";if(K4z["printAreaUnits"][0]==X4z["width"]&&K4z["printAreaUnits"]["1"|0]==X4z["height"]){Q4z=!!{};}T4z["editableAreaUnits"]=[X4z["width"],X4z["height"]];k4z=X4z["width"]/X4z["height"];R4z=K4z["width"];y4z=K4z["width"]/k4z;if(y4z>K4z["height"]){o4z=K4z["height"]/y4z;R4z*=o4z;y4z*=o4z;}D4z=(K4z["width"]-R4z)/+"2";v4z=(K4z["height"]-y4z)/("2"*1);g4z=K4z["printAreaUnits"][+"0"]=="0"-0?1:Math["abs"](K4z["printAreaCoord"][+"0"]-K4z["printAreaCoord"]["2"-0])/K4z["printAreaUnits"][+"0"];T4z["editableArea"]=[D4z,v4z,D4z+R4z,v4z+y4z];T4z["editableAreaUnits"]=[X4z["width"],X4z["height"]];T4z["extractDPU"]();T4z["rescaleObject"]=T4z["rescaleObject"]*(Q4z?"1"*1:T4z["dpu"]/g4z);};R7z["prototype"]["setProductVariation"]=function(B4z,M4z){if(M4z===void+"0"){M4z=!1;}return;};R7z["prototype"]["setProductLocation"]=function(H4z,P4z){if(P4z===void("0"|0)){P4z=![];}if(!this["product"])return;this["productSideIndex"]=t7z["Util"]["arrayIndexOf"](null,this["product"]["locations"],"name",H4z);if(this["productSideIndex"]==-+"1")this["productSideIndex"]="0"|0;if(this["productSideIndex"]>=this["model"]["productManager"]["currentVariatedProduct"]["locations"]["length"])this["productSideIndex"]=+"0";if(!P4z)this["updateDesigners"]();};R7z["prototype"]["addGraphics"]=function(i4z){var x4z,d4z,j4z,N4z,c4z;x4z=this;if(!i4z||!i4z["image"]||i4z["image"]["length"]=="0"*1)return;t7z["debug"]("canvas add graphics: "+i4z["image"]);d4z=new t7z["VO"]["Obj"](ObjectType["Image"],i4z["image"]);d4z["setSourceId"](i4z["id"]);d4z["uploaded"]=i4z["uploaded"];d4z["isUploaded"]=i4z["uploaded"];d4z["attr"]({'\x63\x6f\x6c\x6f\x72\x69\x7a\x65':i4z["colorize"],'\x69\x73\x55\x70\x6c\x6f\x61\x64\x65\x64':d4z["isUploaded"]});d4z["multicolor"]=i4z["multicolor"];if(i4z["colorize"]&&X7z["configManager"]["config"]["colors"]["length"]>"0"*1){d4z["attr"]({'\x66\x69\x6c\x6c':X7z["configManager"]["config"]["colors"]["0"*1]["value"]});}if(d4z["multicolor"]){d4z["complexColor"]["colorizeList"]=X7z["configManager"]["exportGraphicsColorizeList"](i4z);}if(i4z["colorsNum"]>0){d4z["attr"]({'\x63\x6f\x6c\x6f\x72\x73\x4e\x75\x6d\x62\x65\x72':i4z["colorsNum"]});}if(i4z["colorsNum"]===-("1"|0)){d4z["attr"]({'\x70\x72\x6f\x63\x65\x73\x73\x43\x6f\x6c\x6f\x72\x73':!0});}if(i4z["colorsList"]["length"]>"0"-0){d4z["attr"]({'\x63\x6f\x6c\x6f\x72\x73\x4c\x69\x73\x74':i4z["colorsList"]});}this["checkObjPath"](d4z);j4z=null;N4z=null;c4z=-+"1";if(this["selectedObj"]&&(this["selectedObj"]["type"]===ObjectType["SVG"]||this["selectedObj"]["type"]===ObjectType["Image"])){j4z=this["selectedObj"]["clone"]();N4z=this["selectedObj"]["getBBox"]();if(this["selectedObj"]["isConstraintsShown"]())this["showObjectConstraints"](!"1");c4z=this["curDesigner"]()["getElementPosition"](this["selectedObj"]["elementLink"]);this["selectedObj"]["remove"]();}this["addObjectToCanvas"](d4z,!!0,!"1")["then"](function(Z4z){var e4z,a4z,s4z,n4z,h4z,S4z,U4z;if(j4z&&N4z){Z4z["attr"]({'\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x65\x64':j4z["attrs"]['constrained'],'\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x53\x74\x72\x69\x6e\x67':j4z["attrs"]['constraintString'],'\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x73':j4z["attrs"]['constraints'],'\x66\x69\x74\x43\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x73':j4z["attrs"]['fitConstraints'],'\x72\x65\x71\x75\x69\x72\x65\x64':j4z["attrs"]['required']});e4z=Z4z["getBBox"]();a4z=N4z["width"]/e4z["width"];s4z=N4z["height"]/e4z["height"];if(a4z<=s4z)t7z["Util"]["scaleElement"](Z4z["elementLink"],a4z);else if(s4z<a4z)t7z["Util"]["scaleElement"](Z4z["elementLink"],s4z);Z4z["checkConstraints"]();e4z=Z4z["getBBox"]();n4z=(N4z["x2"]-N4z["x"])/("2"*1)+N4z["x"];h4z=(N4z["y2"]-N4z["y"])/("2"*1)+N4z["y"];S4z=(e4z["x2"]-e4z["x"])/("2"|0)+e4z["x"];U4z=(e4z["y2"]-e4z["y"])/("2"*1)+e4z["y"];t7z["Util"]["move"](Z4z["elementLink"],n4z-S4z,h4z-U4z);if(c4z!==-("1"|0)){x4z["curDesigner"]()["setElementPosition"](Z4z["elementLink"],c4z);}}if(Z4z){x4z["curDesigner"]()["select"](Z4z["elementLink"]);x4z["onDesignerChanged"]();}});};R7z["prototype"]["getProductColors"]=function(){var p4z,l4z,u4z,q4z,Y4z,F4z;p4z=[];if(this["currentProductColor"]){l4z=this["currentProductColor"]["colorizeList"];for(var L4z="0"*1;L4z<l4z["length"];L4z++){u4z="";q4z=t7z["Util"]["arrayFind"](this["product"]["colorizableElements"],"id",l4z[L4z]["id"]);Y4z=q4z["colors"]?q4z["colors"]:X7z["configManager"]["config"]["colors"];if(this["product"]["pantones"]["useForProduct"]&&!q4z["hidePantones"])Y4z=Y4z["concat"](X7z["configManager"]["config"]["pantones"]);for(var f4z="0"|0;f4z<Y4z["length"];f4z++){if(t7z["ColorUtils"]["normColor"](Y4z[f4z]["value"])==t7z["ColorUtils"]["normColor"](l4z[L4z]["value"])){u4z=Y4z[f4z]["name"];break;}}F4z=new t7z["VO"]["ColorVO"]({'\x69\x64':l4z[L4z]["id"],'\x6e\x61\x6d\x65':u4z,'\x76\x61\x6c\x75\x65':l4z[L4z]["value"]});p4z["push"](F4z);}}return p4z;};R7z["prototype"]["getQuote"]=function(z9z){var w4z,b4z,W4z,m9z,O9z,G9z,A9z,C9z,E4z;if(z9z===void("0"*1)){z9z=![];}t7z["debug"]("canvas get quote");w4z=new t7z["VO"]["QuoteVO"]();w4z["product"]=this["product"];if(this["product"]){if(this["product"]["multicolor"]){if(this["currentProductColor"]){w4z["productColors"]=this["getProductColors"]();}}else{if(this["currentProductColor"])w4z["productColor"]=this["product"]["getColor"](this["currentProductColor"]["value"]);}if(this["product"]["resizable"]){w4z["productSize"]=X7z["sizeManager"]["getCurrentProductSize"]();}for(var r4z="0"*1;r4z<this["product"]["locations"]["length"];r4z++){b4z=new t7z["VO"]["QuoteLocationVO"](this["product"]["locations"][r4z]);W4z="1"|0;if(this["designers"]&&this["designers"]["length"]>r4z){W4z=this["designers"][r4z]["dpu"]*X7z["sizeManager"]["selectedToDefaultUnitMult"]();b4z["dpu"]=W4z;}if(this["product"]["locations"][r4z]["editableAreaUnits"]&&this["product"]["locations"][r4z]["editableAreaUnits"]["length"]>=2&&this["product"]["locations"][r4z]["editableAreaUnits"]["0"-0]!="0"*1&&this["product"]["locations"][r4z]["editableAreaUnits"][1]!=+"0"&&this["product"]["locations"][r4z]["editableArea"]&&this["product"]["locations"][r4z]["editableArea"]["length"]>=+"4"||this["product"]["resizable"]){b4z["includeMeasurements"]=!!{};}else{b4z["includeMeasurements"]=!!"";}m9z=this["designers"][r4z]["getObjList"]();for(var J4z=0;J4z<m9z["length"];J4z++){E4z=m9z[J4z]["getBBox"]();if(J4z==("0"|0)){O9z=Math["min"](E4z["x"],E4z["x2"]);G9z=Math["max"](E4z["x"],E4z["x2"]);A9z=Math["min"](E4z["y"],E4z["y2"]);C9z=Math["max"](E4z["y"],E4z["y2"]);}else{O9z=Math["min"](E4z["x"],E4z["x2"],O9z);G9z=Math["max"](E4z["x"],E4z["x2"],G9z);A9z=Math["min"](E4z["y"],E4z["y2"],A9z);C9z=Math["max"](E4z["y"],E4z["y2"],C9z);}b4z["addObject"](new t7z["VO"]["QuoteObjectVO"](m9z[J4z]));}if(m9z["length"]>("0"|0)){b4z["designedSize"]=new t7z["VO"]["ProductCanvasSizeVO"]({'\x68\x65\x69\x67\x68\x74':(C9z-A9z)/W4z,'\x77\x69\x64\x74\x68':(G9z-O9z)/W4z});}w4z["locations"]["push"](b4z);w4z["dpuExceeded"]=w4z["dpuExceeded"]||b4z["dpuExceeded"];}}return w4z;};R7z["prototype"]["addText"]=function(K9z){var t9z,I9z;t9z=this;I9z=new t7z["VO"]["Obj"](ObjectType["Text"]);I9z["attr"](K9z);I9z["attr"]({'\x61\x6c\x69\x67\x6e':AlignSide["HCenter"]});return this["addObjectToCanvas"](I9z,!{})["then"](function(X9z){var T9z;if(X9z&&X9z["designer"]){T9z=X9z["designer"]["getObjList"]();T9z["forEach"](function(v9z){var y9z,R9z,Q9z,o9z,D9z,k9z,g9z;if(X9z!==v9z&&v9z["type"]===ObjectType["Text"]){y9z=X9z["getBBox"]();R9z=v9z["getBBox"]();Q9z=y9z["x"]+y9z["width"]*+"0.5";o9z=R9z["x"]+R9z["width"]*+"0.5";D9z=y9z["y"]+y9z["height"]*("0.5"-0);k9z=R9z["y"]+R9z["height"]*+"0.5";if(Math["abs"](Q9z-o9z)<+"1"&&Math["abs"](D9z-k9z)<"1"-0){g9z=X9z["designer"]["getCloneShift"]();t7z["Util"]["move"](X9z["elementLink"],0,g9z);X9z["designer"]["tracker"]["track"](X9z["elementLink"],!![]);}}});}t9z["onDesignerChanged"]();return X9z;})["catch"](function(V9z){alert(V9z);return null;});};R7z["prototype"]["updateText"]=function(B9z){var M9z,P9z,H9z,i9z,d9z;if(this["curDesigner"]()["selected"]()&&this["curDesigner"]()["selected"]()["type"]===ObjectType["Text"]){M9z=this["curDesigner"]()["selected"]();if(M9z["isNameNumber"]()){delete B9z["text"];}P9z=M9z["hasTextFX"]();if(P9z){H9z=B9z["textEffect"];if(H9z!==undefined){i9z=X7z["configManager"]["config"]["getTextEffect"](H9z);if(!i9z){B9z["textEffect"]="none";}}}M9z["attr"](B9z);M9z["checkConstraints"]();M9z["designer"]["tracker"]["track"](M9z["elementLink"],!!1);if(M9z["isEmpty"]()){this["removeObject"](M9z);}else{d9z=P9z==M9z["needTextFX"](M9z["attr"]());X7z["controlsManager"]["setSelectedObj"](M9z);if(d9z)this["onDesignerChanged"]();return this["curDesigner"]()["selected"]();}}else{this["addText"](B9z);}return null;};R7z["prototype"]["align"]=function(j9z){var N9z;N9z=this["curDesigner"]()["selected"]();if(!N9z)return;if(!N9z["canMove"]())return;this["curDesigner"]()["align"](j9z,N9z);};R7z["prototype"]["flip"]=function(c9z){var x9z;x9z=this["curDesigner"]()["selected"]();if(!x9z)return;if(x9z["isFixed"]())return;x9z["flip"](c9z);};R7z["prototype"]["arrange"]=function(e9z){var Z9z;Z9z=this["curDesigner"]()["selected"]();if(!Z9z)return;if(Z9z["isFixed"]())return;switch(e9z){case"front":Z9z["up"]();break;case"back":Z9z["down"]();break;}};R7z["prototype"]["transform"]=function(s9z){var a9z;a9z=this["curDesigner"]()["selected"]();if(!a9z)return;if(a9z["isFixed"]())return;a9z["transform"](s9z);};R7z["prototype"]["updateGraphics"]=function(h9z){var n9z;n9z=this["curDesigner"]()["selected"]();if(n9z&&n9z["attr"]()["colorize"]){n9z["attr"](h9z);X7z["controlsManager"]["setSelectedObj"](n9z);this["onDesignerChanged"]();return this["curDesigner"]()["selected"]();}return null;};R7z["prototype"]["updateObject"]=function(U9z){var S9z;S9z=this["curDesigner"]()["selected"]();if(!S9z)return null;S9z["attr"](U9z);this["curDesigner"]()["select"](S9z["elementLink"]);X7z["controlsManager"]["setSelectedObj"](S9z);this["onDesignerChanged"]();return this["curDesigner"]()["selected"]();};function R7z(v7z){this["designers"]=[];this["productSideIndex"]=+"0";this["currentProductColor"]=null;this["currentScaleChange"]="1"-0;this["currentProductVariation"]=null;this["printAreaVisible"]=!!1;this["lockProportions"]=!!{};this["buffer"]=null;this["selectedObj"]=null;this["zoom"]=100;this["drag"]=!!"";this["viewPort"]={'\x79':"0"*1,'\x78':+"0",'\x7a\x6f\x6f\x6d':100};this["hasPseudoFocus"]=![];this["suppressUpdate"]=!{};this["colArrayToInit"]=null;this["processedColorizeLocations"]=0;this["model"]=v7z;}R7z["prototype"]["getCurrentProductColorValue"]=function(){var L9z;if(this["product"]){L9z=this["product"]["getColor"](this["currentProductColor"]?this["currentProductColor"]["value"]:"");if(L9z)return L9z["value"];}return"";};R7z["prototype"]["getCurrentProductColor"]=function(){return this["currentProductColor"];};R7z["prototype"]["getDesign"]=function(f9z){var l9z;t7z["debug"]("canvas get design");l9z=new t7z["VO"]["DesignVO"]();if(this["product"]){l9z["product"]=this["product"];if(this["currentProductColor"]){l9z["productColor"]=this["product"]["getColor"](this["currentProductColor"]["value"]);}if(this["product"]["multicolor"]&&this["currentProductColor"]){l9z["productColors"]=this["getProductColors"]();}l9z["productSize"]=X7z["sizeManager"]["getCurrentProductSize"](X7z["ProductSizeUnitsType"]["DEFAULT"]);if(X7z["sizeManager"]["selectedUnit"]){l9z["selectedUnit"]=X7z["sizeManager"]["selectedUnit"]["unit"];}l9z["fontsCSSUrl"]=X7z["configManager"]["config"]["options"]["fontsCSSUrl"];for(var Y9z=0;Y9z<Math["min"](this["product"]["locations"]["length"],this["designers"]["length"]);Y9z++){l9z["svgs"]["push"](this["designers"][Y9z]["getSVG"](X7z["configManager"]["config"]["options"]["includeProductInDesign"],X7z["configManager"]["config"]["options"]["includePrintingAreaInDesign"],X7z["configManager"]["config"]["options"]["includeMaskInDesign"],f9z));if(l9z["product"]["locations"][Y9z]){if(l9z["product"]["locations"][Y9z]["editableArea"]&&!l9z["product"]["resizable"]){l9z["editableArea"]["push"](l9z["product"]["locations"][Y9z]["editableArea"]["join"](" "));}else{l9z["editableArea"]["push"](this["designers"][Y9z]["printAreaCoord"]["join"](" "));}}}}else if(t7z["Model"]["laModel"]["adminMode"]&&!l9z["product"]){if(this["designers"]["length"]>("0"|0)){l9z["locations"]=[{}];l9z["locations"][+"0"]["svg"]=this["designers"]["0"*1]["getSVG"](X7z["configManager"]["config"]["options"]["includeProductInDesign"],X7z["configManager"]["config"]["options"]["includePrintingAreaInDesign"],X7z["configManager"]["config"]["options"]["includeMaskInDesign"],f9z);}}return l9z;};R7z["prototype"]["setDesign"]=function(q9z,p9z,u9z,F9z){if(p9z===void+"0"){p9z=!{};}if(u9z===void+"0"){u9z=!![];}if(F9z===void+"0"){F9z=![];}return __awaiter(this,void 0,void("0"-0),function(){var r9z,O5z,w9z,G5z,b9z,E9z,J9z,W9z,m5z;return __generator(this,function(A5z){switch(A5z["label"]){case 0:t7z["debug"]("canvas set design");if(!(!p9z&&q9z["product"]))return["3"|0,1];this["setProduct"](q9z["product"]["getDumbCopy"](),!1);return[3,"3"*1];case+"1":if(!(!this["product"]&&!q9z["product"]))return[+"3",+"3"];X7z["saveLoadManager"]["clearLocalDesign"]();if(!!this["model"]["adminMode"])return[3,"3"-0];return[+"4",X7z["productManager"]["setProduct"](X7z["configManager"]["defaultProductId"])];case 2:A5z["sent"]();A5z["label"]=+"3";case"3"-0:if(q9z["productColor"])this["setProductColor"](q9z["productColor"]);if(q9z["selectedUnit"]){X7z["sizeManager"]["setUnit"](q9z["selectedUnit"]);}if(q9z["productSize"]){X7z["sizeManager"]["setProductSize"](q9z["productSize"]);}if(F9z&&p9z){if(this["model"]["defaultProductAttributes"]&&this["model"]["defaultProductAttributes"]["selectedUnit"]){X7z["sizeManager"]["setUnit"](this["model"]["defaultProductAttributes"]["selectedUnit"]);}if(this["model"]["defaultProductAttributes"]["sizeUnits"]&&this["model"]["defaultProductAttributes"]["sizeUnits"]["length"]===+"2"){r9z=this["getDefaultProductSize"]();if(X7z["productManager"]["currentProduct"]["editableAreaSizes"]&&X7z["productManager"]["currentProduct"]["editableAreaSizes"]["length"]>"0"*1){O5z=X7z["productManager"]["currentProduct"]["editableAreaSizes"]["filter"](function(C5z){return C5z["width"]===r9z["width"]&&C5z["height"]===r9z["height"];});r9z=O5z["0"-0];}if(r9z){X7z["productManager"]["setProductSize"](r9z);}}}w9z=[];if(!u9z){this["designers"]["forEach"](function(z5z){return w9z["push"]["apply"](w9z,z5z["getObjList"]());});}G5z=function(K5z){var X5z,I5z,t5z,y5z,v5z,Q5z,o5z,D5z,k5z,R5z;b9z["designers"][K5z]["setSVG"](q9z["svgs"][K5z],u9z);X5z=b9z["designers"][K5z]["getObjList"]()["filter"](function(g5z){return!w9z["some"](function(V5z){return V5z["attr"]()["id"]===g5z["attr"]()["id"];});});I5z=null;if(!q9z["product"]){I5z=X5z["map"](function(M5z){return M5z["getBBox"]();})["reduce"](function(H5z,P5z){var B5z;if(!H5z){return P5z;}B5z=t7z["Util"]["copyObject"](H5z);if(P5z["x"]<H5z["x"]){B5z["x"]=P5z["x"];}if(P5z["y"]<H5z["y"]){B5z["y"]=P5z["y"];}if(P5z["x2"]>H5z["x2"]){B5z["x2"]=P5z["x2"];}if(P5z["y2"]>H5z["y2"]){B5z["y2"]=P5z["y2"];}B5z["width"]=B5z["x2"]-B5z["x"];B5z["height"]=B5z["y2"]-B5z["y"];return B5z;});}for(var T5z=+"0";T5z<X5z["length"];T5z++){if(w9z["some"](function(i5z){return i5z["attr"]()["id"]===X5z[K5z]["attr"]()["id"];})){return{'\x76\x61\x6c\x75\x65':void("0"|0)};}E9z=X5z[T5z];if(!q9z["product"]){t5z=b9z["designers"][K5z]["printAreaCoord"];y5z=t5z["0"|0]+(t5z[+"2"]-t5z[+"0"])*("0.5"-0)-(I5z["x"]+I5z["width"]*0.5);v5z=t5z[1]+(t5z[+"3"]-t5z["1"-0])*+"0.5"-(I5z["y"]+I5z["height"]*("0.5"-0));if(t5z["length"]>+"2"){Q5z=(t5z["2"-0]-t5z["0"-0])/I5z["width"];o5z=(t5z["3"-0]-t5z[+"1"])/I5z["height"];D5z=Math["min"](Q5z,o5z);k5z=I5z["x"]+I5z["width"]/("2"|0);R5z=I5z["y"]+I5z["height"]/("2"*1);t7z["Util"]["scaleElementByCenter"](E9z["elementLink"],D5z,k5z,R5z);t7z["Util"]["move"](E9z["elementLink"],y5z,v5z);}}if(E9z["type"]==ObjectType["SVG"]){J9z=X7z["configManager"]["getGraphicsById"](E9z["getSourceId"]());if(J9z&&J9z["multicolor"]){E9z["multicolor"]=!!{};E9z["complexColor"]["colorizeList"]=X7z["configManager"]["exportGraphicsColorizeList"](J9z);b9z["designers"][K5z]["extractLoadedGraphicsStyle"](E9z);}}}};b9z=this;for(W9z=+"0";W9z<Math["min"](q9z["svgs"]["length"],this["designers"]["length"]);W9z++){m5z=G5z(W9z);if(typeof m5z==="object")return["2"|0,m5z["value"]];}this["updateDesigners"]();if(this["model"]["adminMode"]){X7z["controlsManager"]["setIsStrictTemplate"](this["isDesignStrict"]());}if(!q9z["product"])X7z["historyManager"]["saveStatus"](!![]);return[2];}});});};R7z["prototype"]["getDefaultProductSize"]=function(){if(!this["model"]["defaultProductAttributes"]||!this["model"]["defaultProductAttributes"]["sizeUnits"]||this["model"]["defaultProductAttributes"]["sizeUnits"]["length"]<("2"|0))return null;return new t7z["VO"]["ProductCanvasSizeVO"]({'\x77\x69\x64\x74\x68':this["model"]["defaultProductAttributes"]["sizeUnits"][0],'\x68\x65\x69\x67\x68\x74':this["model"]["defaultProductAttributes"]["sizeUnits"][+"1"],'\x75\x6e\x69\x74':this["model"]["defaultProductAttributes"]["selectedUnit"]});};R7z["prototype"]["fitCurrentDesign"]=function(){var j5z,x5z;j5z=function(n5z){var e5z,Z5z,c5z,h5z,S5z,U5z,a5z,s5z;e5z=n5z["getObjList"]();Z5z=n5z["printAreaCoord"];if(e5z["length"]&&Z5z&&Z5z["length"]==="4"-0){c5z=y7z(e5z);h5z=Math["min"](1,(Z5z[+"2"]-Z5z["0"|0])/c5z["width"],(Z5z[+"3"]-Z5z[+"1"])/c5z["height"]);S5z=c5z["x"]+c5z["width"]*("0.5"-0);U5z=c5z["y"]+c5z["height"]*+"0.5";e5z["forEach"](function(l5z){var L5z;L5z=l5z["elementLink"];return t7z["Util"]["scaleElementByCenter"](L5z,h5z,S5z,U5z);});c5z=y7z(e5z);a5z=0;s5z="0"-0;if(c5z["x"]<Z5z["0"|0]){a5z=Z5z[0]-c5z["x"];}else if(c5z["x2"]>Z5z[+"2"]){a5z=Z5z["2"-0]-c5z["x2"];}if(c5z["y"]<Z5z["1"-0]){s5z=Z5z[1]-c5z["y"];}else if(c5z["y2"]>Z5z[+"3"]){s5z=Z5z[3]-c5z["y2"];}e5z["forEach"](function(Y5z){return t7z["Util"]["move"](Y5z["elementLink"],a5z,s5z);});}};for(var d5z="0"-0,N5z=this["designers"];d5z<N5z["length"];d5z++){x5z=N5z[d5z];j5z(x5z);}};R7z["prototype"]["clearDesign"]=function(){for(var f5z=+"0";f5z<this["designers"]["length"];f5z++){this["designers"][f5z]["clear"]();}};R7z["prototype"]["onBackgroundColorizeParsed"]=function(F5z){var p5z,u5z;if(!this["product"]||!this["product"]["multicolor"]||!this["currentProductColor"])return;if(!this["currentProductColor"]["colorizeInited"]){for(var q5z=0;q5z<F5z["colorizeArray"]["length"];q5z++){p5z=F5z["colorizeArray"][q5z];u5z=t7z["Util"]["arrayFind"](this["currentProductColor"]["colorizeList"],"id",p5z["id"]);if(u5z)u5z["value"]=p5z["value"];}}if(++this["processedColorizeLocations"]==this["product"]["locations"]["length"]){this["currentProductColor"]["colorizeInited"]=!"";if(this["colArrayToInit"]){this["setProductColorizeList"](this["colArrayToInit"]);this["colArrayToInit"]=null;}X7z["productManager"]["setProductColorVO"](this["currentProductColor"]);}this["updateColorizeAvailability"]();};R7z["prototype"]["updateColorizeAvailability"]=function(){var E5z;E5z=this;this["currentProductColor"]["colorizeList"]["forEach"](function(w5z){var r5z;r5z=[];E5z["designers"]["forEach"](function(b5z,J5z){if(b5z["hasColorArea"](w5z["className"])){r5z["push"](E5z["product"]["locations"][J5z]["name"]);};});w5z["availableLocations"]=r5z;});X7z["controlsManager"]["setSelectedProductColor"](this["currentProductColor"]);};R7z["prototype"]["updateBackgroundColorize"]=function(){for(var W5z="0"*1;W5z<this["designers"]["length"];W5z++){this["designers"][W5z]["colorizeBackground"](this["currentProductColor"]["colorizeList"]);}};R7z["prototype"]["setProductColorizeList"]=function(m2z){if(!this["product"]||!this["product"]["multicolor"]||!this["currentProductColor"])return;if(!this["currentProductColor"]["colorizeInited"]){this["colArrayToInit"]=m2z;}else{this["currentProductColor"]["colorizeByArray"](m2z);this["updateBackgroundColorize"]();}};R7z["prototype"]["updateGraphicsColorizeList"]=function(G2z){var O2z;O2z=this["selected"]();if(!O2z||!O2z["multicolor"]||!O2z["complexColor"]||!O2z["complexColor"]["colorizeInited"])return;if(O2z["complexColor"]["colorizeByArray"](G2z)){O2z["updateColorize"]();this["onDesignerChanged"]();}};R7z["prototype"]["checkObjectDPU"]=function(){var A2z,z2z,C2z,I2z;if(!this["selectedObj"]||this["selectedObj"]["maxScale"]()<="0"-0||!isFinite(this["selectedObj"]["maxScale"]())||!this["selectedObj"]["elementLink"])return;if(this["product"]&&this["product"]["locations"]){A2z=this["product"]["locations"][this["productSideIndex"]];if(!A2z||!A2z["editableAreaUnits"]||A2z["editableAreaUnits"]["length"]==+"0"||A2z["editableAreaUnits"][+"0"]==+"0"||A2z["editableAreaUnits"][+"1"]==+"0"){this["selectedObj"]["dpuExceeded"]=!!"";this["model"]["controlsManager"]["setSelectedObj"](this["selectedObj"]);return;}}z2z=this["selectedObj"]["elementLink"]["matrix"]["split"]()["scalex"];C2z=z2z>this["selectedObj"]["maxScale"]();I2z=this["selectedObj"]["maxScale"]();if(C2z!=this["selectedObj"]["dpuExceeded"]){this["selectedObj"]["dpuExceeded"]=C2z;this["model"]["controlsManager"]["setSelectedObj"](this["selectedObj"]);}};R7z["prototype"]["checkDesignObjectsFitsVariation"]=function(){var K2z,y2z,t2z,R2z,v2z,Q2z;if(!this["currentProductVariation"])return;if(!this["product"])return;K2z=this["currentProductVariation"];for(var X2z=0;X2z<this["designers"]["length"];X2z++){y2z=this["designers"][X2z]["getObjList"]();for(var T2z=0;T2z<y2z["length"];T2z++){t2z=y2z[T2z];if(!K2z["addObject"]&&!t2z["loadedFromDesign"]){t2z["remove"]();}else{if(t2z["type"]==ObjectType["Image"]||t2z["type"]==ObjectType["SVG"]){if(K2z["colorsIds"]){R2z=X7z["configManager"]["getGraphicsById"](t2z["getSourceId"]());if(R2z&&R2z["colorize"]){this["adjustObjColor"](t2z,"fill");this["adjustObjColor"](t2z,"stroke");}}if(!K2z["imageUpload"]){if(!K2z["imageGallery"]){t2z["remove"]();}else if(K2z["graphicsIds"]){if(t7z["Util"]["arrayIndexOf"](t2z["getSourceId"](),K2z["graphicsIds"])<"0"*1){t2z["remove"]();}}}}else{if(K2z["colorsIds"]){this["adjustObjColor"](t2z,"fill");this["adjustObjColor"](t2z,"stroke");}if(K2z["fontsIds"]){v2z=t2z["attr"]();Q2z=X7z["configManager"]["variatedConfig"]["getFont"](v2z["font-family"]);if(!Q2z&&X7z["configManager"]["variatedConfig"]["fonts"]["length"]>"0"-0){t2z["attr"]({'\x66\x6f\x6e\x74\x2d\x66\x61\x6d\x69\x6c\x79':X7z["configManager"]["variatedConfig"]["fonts"][+"0"]["fontFamily"]});}}}}}}};R7z["prototype"]["adjustObjColor"]=function(V2z,o2z){var k2z,g2z,D2z;k2z=V2z["attr"]();if(k2z[o2z]&&k2z[o2z]!=""&&k2z[o2z]!="none"){g2z=X7z["configManager"]["variatedConfig"]["getColor"](k2z[o2z]);if(!g2z){g2z=X7z["configManager"]["variatedConfig"]["getNearestColor"](k2z[o2z]);if(g2z){D2z={};D2z[o2z]=g2z["value"];V2z["attr"](D2z);}else{D2z={};D2z[o2z]="none";V2z["attr"](D2z);}}}};R7z["prototype"]["checkObjPath"]=function(M2z){if(X7z["configManager"]["config"]["galleryBaseUrl"]=="")return;if(M2z["value"]["substr"](+"0","7"*1)=="http://")return;if(M2z["value"]["substr"]("0"|0,8)=="https://")return;if(M2z["value"]["substr"](+"0","6"|0)=="ftp://")return;M2z["value"]=X7z["configManager"]["config"]["galleryBaseUrl"]+M2z["value"];};R7z["prototype"]["addNamesObj"]=function(i2z){var P2z,H2z,B2z;P2z=(this["curDesigner"]()["printAreaCoord"]["1"-0]+this["curDesigner"]()["printAreaCoord"]["3"|0])*2/("7"|0);H2z=(this["curDesigner"]()["printAreaCoord"]["0"-0]+this["curDesigner"]()["printAreaCoord"][2])/("2"-0);B2z=new t7z["VO"]["Obj"](ObjectType["Text"]);B2z["attr"](i2z);B2z["attr"]({'\x6e\x61\x6d\x65\x4f\x62\x6a':!!{},'\x74\x65\x78\x74':X7z["configManager"]["config"]["defaultNameObjectText"],'\x61\x6c\x69\x67\x6e':AlignSide["HCenter"]});B2z["defaultTransform"]="t"+H2z+","+P2z;this["curDesigner"]()["addObjectToCanvas"](B2z)["then"](function(d2z){B2z=d2z;});};R7z["prototype"]["addNumbersObj"]=function(c2z){var j2z,x2z,N2z;j2z=(this["curDesigner"]()["printAreaCoord"]["1"-0]+this["curDesigner"]()["printAreaCoord"]["3"*1])*+"4"/("7"*1);x2z=(this["curDesigner"]()["printAreaCoord"][+"0"]+this["curDesigner"]()["printAreaCoord"][+"2"])/("2"-0);N2z=new t7z["VO"]["Obj"](ObjectType["Text"]);N2z["attr"](c2z);N2z["attr"]({'\x6e\x75\x6d\x62\x65\x72\x4f\x62\x6a':!!{},'\x74\x65\x78\x74':X7z["configManager"]["config"]["defaultNumberObjectText"],'\x66\x6f\x6e\x74\x2d\x73\x69\x7a\x65':64,'\x61\x6c\x69\x67\x6e':AlignSide["HCenter"]});N2z["defaultTransform"]="t"+x2z+","+j2z;this["curDesigner"]()["addObjectToCanvas"](N2z)["then"](function(Z2z){N2z=Z2z;});};R7z["prototype"]["setLockProportions"]=function(a2z){this["lockProportions"]=a2z;for(var e2z="0"*1;e2z<this["designers"]["length"];e2z++){this["designers"][e2z]["setLockProportions"](a2z);}};R7z["prototype"]["print"]=function(){var s2z;X7z["controlsManager"]["setPreloaderStatus"](!!{});s2z=this["curDesigner"]()["getSVG"](!!"1",!![],!!1);setTimeout(this["popUpAndPrint"]["bind"](this),"500"-0,s2z);};R7z["prototype"]["popUpAndPrint"]=function(L2z){var h2z,S2z,n2z,U2z;h2z=X7z["laModel"]["width"]+("20"|0);S2z=X7z["laModel"]["height"]+("80"-0);n2z=window["open"]('','LiveArt-Print',"width="+h2z+",height="+S2z);if(n2z){U2z=t7z["Util"]["getAbsoluteURL"](X7z["configManager"]["config"]["options"]["fontsCSSUrl"]);n2z["document"]["writeln"]("<link rel=\"stylesheet\" href=\""+U2z+"\" type=\"text/css\">");n2z["document"]["writeln"](L2z);n2z["document"]["writeln"]('<style>button {padding: 5px 15px; margin: 550px 5px 0 5px; }</style>');n2z["document"]["writeln"]('<style media="print">button {display: none;}</style>');n2z["document"]["writeln"]('<button onclick="print();"><b>Print</b></button><button onclick="window.close();">Close</button>');n2z["document"]["close"]();}else{X7z["messageManager"]["failedToOpenPrintPopUpMessage"]();}X7z["controlsManager"]["setPreloaderStatus"](!{});};R7z["prototype"]["copy"]=function(){t7z["debug"]('CanvasManager :: copy');if(this["selected"]()==null)return;this["buffer"]=this["selected"]()["clone"]();};R7z["prototype"]["paste"]=function(){t7z["debug"]('CanvasManager :: paste');if(this["buffer"]==null)return;this["addCloneObjectToCanvas"](this["buffer"]);};R7z["prototype"]["removeSelected"]=function(){t7z["debug"]('CanvasManager :: copy');if(this["selected"]()==null||this["selected"]()["isFixed"]())return;this["removeObject"](this["selected"]());};R7z["prototype"]["cut"]=function(){t7z["debug"]('CanvasManager :: cut');this["copy"]();this["removeSelected"]();};R7z["prototype"]["move"]=function(q2z,f2z){var l2z,Y2z;t7z["debug"]('CanvasManager :: down');if(this["selected"]()==null||!this["selected"]()["canMove"]())return;l2z=+"0";Y2z="0"*1;switch(q2z){case+"37":l2z=-+"1"*R7z["ARROWS_SHIFT"];Y2z="0"|0;break;case"38"-0:l2z=0;Y2z=-+"1"*R7z["ARROWS_SHIFT"];break;case+"39":l2z=R7z["ARROWS_SHIFT"];Y2z=0;break;case+"40":l2z="0"*1;Y2z=R7z["ARROWS_SHIFT"];break;}this["selected"]()["move"](l2z*(f2z?R7z["ACCELERATION_MULTIPLIER"]:+"1"),Y2z*(f2z?R7z["ACCELERATION_MULTIPLIER"]:+"1"));};R7z["prototype"]["onKeyDown"]=function(p2z){if(!this["hasPseudoFocus"])return;if(p2z["ctrlKey"]||p2z["metaKey"]){switch(p2z["keyCode"]){case"67"-0:p2z["preventDefault"]();this["copy"]();break;case+"86":p2z["preventDefault"]();this["paste"]();break;case 88:p2z["preventDefault"]();this["cut"]();break;}}else{switch(p2z["keyCode"]){case+"46":p2z["preventDefault"]();this["removeSelected"]();break;case 37:case+"38":case"39"|0:case+"40":p2z["preventDefault"]();this["move"](p2z["keyCode"],p2z["shiftKey"]);break;}}};R7z["prototype"]["onClick"]=function(u2z){var F2z,E2z,r2z;F2z=u2z["target"];E2z=this["model"]&&(this["model"]["holder"]["is"](u2z["target"])||this["model"]["holder"]["find"](F2z)["length"]>0);r2z=!jQuery(u2z["target"])["is"](':input')||jQuery(u2z["target"])["is"](':button');this["setPseudoFocus"](E2z||r2z);};R7z["prototype"]["setPseudoFocus"]=function(b2z){var w2z;t7z["debug"]('CanvasManager :: setPseudoFocus',b2z);this["hasPseudoFocus"]=b2z;if(b2z){w2z=jQuery(':focus');if(w2z["length"]>+"0"&&!w2z["is"](document["body"]))w2z["blur"]();}};R7z["prototype"]["changeZoom"]=function(W2z){var J2z;if(!X7z["configManager"]["config"]["options"]["zoomEnabled"])return;J2z=this["zoom"];if(typeof W2z=="boolean"){if(W2z){J2z+=X7z["configManager"]["config"]["options"]["zoomStep"];}else{J2z-=X7z["configManager"]["config"]["options"]["zoomStep"];}}if(typeof W2z=="number"){J2z=W2z;}if(J2z<X7z["configManager"]["config"]["options"]["minZoom"]||J2z>X7z["configManager"]["config"]["options"]["maxZoom"])return;this["zoom"]=J2z;X7z["controlsManager"]["setZoom"](J2z);for(var m0c=+"0";m0c<this["designers"]["length"];m0c++){this["designers"][m0c]["setZoom"](this["zoom"]);}};R7z["prototype"]["setDrag"]=function(G0c){if(!X7z["configManager"]["config"]["options"]["zoomEnabled"])return;this["drag"]=G0c;for(var O0c="0"*1;O0c<this["designers"]["length"];O0c++){this["designers"][O0c]["setDrag"](this["drag"]);}};R7z["prototype"]["onViewPortChanged"]=function(A0c){if(A0c===void+"0"){A0c=null;}if(!A0c)return;this["viewPort"]=A0c["viewPort"];X7z["controlsManager"]["setZoom"](this["viewPort"]["zoom"]);for(var C0c=+"0";C0c<this["designers"]["length"];C0c++){this["designers"][C0c]["setViewPort"](this["viewPort"]);}};R7z["prototype"]["getCurrentDesignStatus"]=function(){var t0c,z0c,K0c;t0c=[];for(var I0c=0;I0c<this["designers"]["length"];I0c++){t0c["push"](this["designers"][I0c]["getSVGState"]());}z0c=new X7z["DesignStatus"](t0c,this["selected"]());K0c=X7z["sizeManager"]["getCurrentProductSize"]();if(X7z["sizeManager"]["selectedUnit"]){z0c["selectedUnit"]=X7z["sizeManager"]["selectedUnit"]["unit"];}if(this["product"]&&this["product"]["resizable"]&&K0c){z0c["productSize"]=K0c["toObject"]();}if(X7z["productManager"]["currentVariatedProduct"]){z0c["productId"]=X7z["productManager"]["currentVariatedProduct"]["id"];if(X7z["productManager"]["currentVariatedProduct"]["multicolor"]){z0c["productColorize"]=[];this["currentProductColor"]["colorizeList"]["forEach"](function(X0c){z0c["productColorize"]["push"]({'\x69\x64':X0c["id"],'\x76\x61\x6c\x75\x65':X0c["value"]});});}else{z0c["productColor"]=X7z["canvasManager"]["getCurrentProductColorValue"]();}}return z0c;};R7z["prototype"]["deselectObject"]=function(){this["curDesigner"]()["deSelect"]();};R7z["prototype"]["setDesignStatus"]=function(R0c){var D0c,k0c,v0c,Q0c,o0c,y0c,g0c;D0c=R0c["svgs"];for(var T0c="0"|0;T0c<Math["min"](this["designers"]["length"],D0c["length"]);T0c++){this["designers"][T0c]["setSVGState"](D0c[T0c]);k0c=this["designers"][T0c]["getObjList"]();for(var y0c=+"0";y0c<k0c["length"];y0c++){v0c=k0c[y0c];if(v0c["type"]==ObjectType["SVG"]){Q0c=X7z["configManager"]["getGraphicsById"](v0c["getSourceId"]());if(Q0c&&Q0c["multicolor"]){v0c["multicolor"]=!"";v0c["complexColor"]["colorizeList"]=X7z["configManager"]["exportGraphicsColorizeList"](Q0c);this["designers"][T0c]["extractLoadedGraphicsStyle"](v0c);}}}}if(R0c["selectedUnit"]){X7z["sizeManager"]["setUnit"](R0c["selectedUnit"]);}if(R0c["productSize"]){X7z["sizeManager"]["setProductSize"](new t7z["VO"]["ProductCanvasSizeVO"](R0c["productSize"]),!![]);}if(R0c["selectedObject"]){this["suppressUpdate"]=!!{};for(var T0c=+"0";T0c<this["designers"]["length"];T0c++){o0c=this["designers"][T0c]["getObjList"]();y0c=+"0";g0c=!{};while(!g0c&&y0c<o0c["length"]){if(R0c["selectedObject"]["elementId"]==o0c[y0c]["elementId"]){g0c=!0;this["designers"][T0c]["select"](o0c[y0c]["elementLink"]);}y0c++;}}this["suppressUpdate"]=!{};}};R7z["prototype"]["setConstained"]=function(V0c){if(this["selected"]()==null)return;this["selected"]()["setConstained"](V0c);X7z["controlsManager"]["setIsStrictTemplate"](this["isDesignStrict"]());};R7z["prototype"]["showObjectConstraints"]=function(M0c){if(this["selected"]()==null)return;this["selected"]()["setShowConstraints"](M0c);if(!M0c){this["selected"]()["checkConstraints"]();this["selected"]()["designer"]["tracker"]["track"](this["selected"]()["elementLink"],!"");}};R7z["prototype"]["setRequired"]=function(B0c){if(this["selected"]()==null)return;this["selected"]()["attr"]({'\x72\x65\x71\x75\x69\x72\x65\x64':B0c});this["curDesigner"]()["tracker"]["track"](this["selected"]()["elementLink"],!!{});X7z["controlsManager"]["setIsStrictTemplate"](this["isDesignStrict"]());};R7z["prototype"]["setFixedMove"]=function(P0c){if(this["selected"]()==null)return;this["selected"]()["attr"]({'\x66\x69\x78\x65\x64\x4d\x6f\x76\x65':P0c});};R7z["prototype"]["setFixedRotate"]=function(H0c){if(this["selected"]()==null)return;this["selected"]()["attr"]({'\x66\x69\x78\x65\x64\x52\x6f\x74\x61\x74\x65':H0c});};R7z["prototype"]["setFitConstraints"]=function(i0c){if(this["selected"]()==null)return;this["selected"]()["attr"]({'\x66\x69\x74\x43\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x73':i0c});if(i0c)this["selected"]()["checkConstraints"]();this["selected"]()["designer"]["tracker"]["track"](this["selected"]()["elementLink"],!!{});X7z["controlsManager"]["setIsStrictTemplate"](this["isDesignStrict"]());};return R7z;}();T7z["ARROWS_SHIFT"]=+"5";T7z["ACCELERATION_MULTIPLIER"]="4"*1;X7z["CanvasManager"]=T7z;}(K7z=t7z["Model"]||(t7z["Model"]={})));}(LAJS||(LAJS={})));(function(d0c){var N0c;(function(j0c){var c0c,x0c;c0c=function(){Z0c["prototype"]["setProductCategories"]=function(e0c){this["productCategories"]=e0c;this["obj"]["productCategories"]=d0c["Util"]["arrayToObjArray"](e0c);this["invalidate"]("productCategories");};Z0c["prototype"]["setSelectedProduct"]=function(a0c){this["selectedProduct"]=a0c;this["obj"]["selectedProduct"]=a0c?this["selectedProduct"]["toObject"]():null;this["invalidate"]("selectedProduct");};Z0c["prototype"]["setSelectedProductCategory"]=function(s0c){this["selectedProductCategory"]=s0c;this["obj"]["selectedProductCategory"]=this["selectedProductCategory"]["toObject"]();this["invalidate"]("selectedProductCategory");};Z0c["prototype"]["setSelectedProductColor"]=function(n0c){this["selectedProductColor"]=n0c;this["obj"]["selectedProductColor"]=n0c?this["selectedProductColor"]["toObject"]():null;this["invalidate"]("selectedProductColor");};Z0c["prototype"]["setColors"]=function(h0c){this["colors"]=h0c;this["obj"]["colors"]=d0c["Util"]["arrayToObjArray"](h0c);this["invalidate"]("colors");};Z0c["prototype"]["setPantones"]=function(S0c){this["pantones"]=S0c;this["obj"]["pantones"]=d0c["Util"]["arrayToObjArray"](S0c);this["invalidate"]("pantones");};Z0c["prototype"]["setFonts"]=function(U0c){this["fonts"]=U0c;this["obj"]["fonts"]=U0c;this["invalidate"]("fonts");};Z0c["prototype"]["setGraphicsCategories"]=function(L0c){this["graphicsCategories"]=L0c;this["obj"]["graphicsCategories"]=d0c["Util"]["arrayToObjArray"](L0c);this["invalidate"]("graphicsCategories");};Z0c["prototype"]["setTextEffects"]=function(l0c){this["textEffects"]=l0c;this["obj"]["textEffects"]=d0c["Util"]["arrayToObjArray"](l0c);this["invalidate"]("textEffects");};Z0c["prototype"]["setTemplatesCategories"]=function(Y0c){this["templatesCategories"]=Y0c;this["obj"]["templatesCategories"]=d0c["Util"]["arrayToObjArray"](Y0c);this["invalidate"]("templatesCategories");};Z0c["prototype"]["setTemplatesList"]=function(f0c){this["templatesList"]=f0c;this["obj"]["templatesList"]=d0c["Util"]["arrayToObjArray"](f0c);this["invalidate"]("templatesList");};Z0c["prototype"]["setSelectedObj"]=function(q0c){this["selectedObj"]=q0c;this["obj"]["selectedObj"]=q0c;this["invalidate"]("selectedObj");};Z0c["prototype"]["setAddedObj"]=function(p0c){this["addedObj"]=p0c;this["obj"]["addedObj"]=p0c;this["invalidate"]("addedObj");};Z0c["prototype"]["setSelectedProductLocation"]=function(u0c){this["selectedProductLocation"]=u0c;this["obj"]["selectedProductLocation"]=u0c;this["invalidate"]("selectedProductLocation");};Z0c["prototype"]["setQuantities"]=function(F0c){this["quantities"]=F0c;this["obj"]["quantities"]=F0c;this["invalidate"]("quantities");};Z0c["prototype"]["setNamesNumbers"]=function(E0c){this["namesNumbers"]=E0c;this["obj"]["namesNumbers"]=E0c;this["invalidate"]("namesNumbers");};Z0c["prototype"]["setConfigLoaded"]=function(r0c){this["configLoaded"]=r0c;this["obj"]["configLoaded"]=this["configLoaded"];this["invalidate"]("configLoaded");};Z0c["prototype"]["setSelectedProductSize"]=function(w0c){this["selectedProductSize"]=w0c;this["obj"]["selectedProductSize"]=this["selectedProductSize"];this["invalidate"]("selectedProductSize");};Z0c["prototype"]["setDesigns"]=function(b0c){this["designs"]=b0c;this["obj"]["designs"]=b0c;this["invalidate"]("designs");};Z0c["prototype"]["setStatus"]=function(J0c){this["status"]=J0c;this["obj"]["status"]=J0c;this["invalidate"]("status");};Z0c["prototype"]["setDesignInfo"]=function(W0c){this["designInfo"]=W0c;this["obj"]["designInfo"]=W0c;this["invalidate"]("designInfo");};Z0c["prototype"]["setDesignNotes"]=function(m8c){this["designNotes"]=m8c;this["obj"]["designNotes"]=m8c;this["invalidate"]("designNotes");};Z0c["prototype"]["setShowAuthDialog"]=function(O8c){this["showAuthDialog"]=O8c;this["obj"]["showAuthDialog"]=O8c;this["invalidate"]("showAuthDialog");};Z0c["prototype"]["setShowAuthAndSaveDialog"]=function(G8c){this["showAuthAndSaveDialog"]=G8c;this["obj"]["showAuthAndSaveDialog"]=G8c;this["invalidate"]("showAuthAndSaveDialog");};Z0c["prototype"]["setShowSaveDesignDialog"]=function(A8c){this["showSaveDesignDialog"]=A8c;this["obj"]["showSaveDesignDialog"]=A8c;this["invalidate"]("showSaveDesignDialog");};Z0c["prototype"]["setShowLoadDesignDialog"]=function(C8c){this["showLoadDesignDialog"]=C8c;this["obj"]["showLoadDesignDialog"]=C8c;this["invalidate"]("showLoadDesignDialog");};Z0c["prototype"]["setShowDPUExceededDialog"]=function(z8c){this["showDPUExceededDialog"]=z8c;this["obj"]["showDPUExceededDialog"]=z8c;this["invalidate"]("showDPUExceededDialog");};Z0c["prototype"]["setShowColorCountDialog"]=function(I8c){this["showColorCountDialog"]=I8c;this["obj"]["showColorCountDialog"]=I8c;this["invalidate"]("showColorCountDialog");};Z0c["prototype"]["setShareLink"]=function(t8c){this["shareLink"]=t8c;this["obj"]["shareLink"]=t8c;this["invalidate"]("shareLink");};Z0c["prototype"]["setShowShareLink"]=function(K8c){this["showShareLink"]=K8c;this["obj"]["showShareLink"]=K8c;this["invalidate"]("showShareLink");};Z0c["prototype"]["setShowLoadDesignPreloader"]=function(X8c){this["showLoadDesignPreloader"]=X8c;this["obj"]["showLoadDesignPreloader"]=X8c;this["invalidate"]("showLoadDesignPreloader");};Z0c["prototype"]["setShowPlaceOrderPreloader"]=function(T8c){this["showPlaceOrderPreloader"]=T8c;this["obj"]["showPlaceOrderPreloader"]=T8c;this["invalidate"]("showPlaceOrderPreloader");};Z0c["prototype"]["setZoom"]=function(y8c){this["zoom"]=y8c;this["obj"]["zoom"]=y8c;this["invalidate"]("zoom");};Z0c["prototype"]["setMinZoom"]=function(R8c){this["minZoom"]=R8c;this["obj"]["minZoom"]=R8c;this["invalidate"]("minZoom");};Z0c["prototype"]["setMaxZoom"]=function(v8c){this["maxZoom"]=v8c;this["obj"]["maxZoom"]=v8c;this["invalidate"]("maxZoom");};Z0c["prototype"]["setZoomEnabled"]=function(Q8c){this["zoomEnabled"]=Q8c;this["obj"]["zoomEnabled"]=Q8c;this["invalidate"]("zoomEnabled");};Z0c["prototype"]["setMinDPU"]=function(o8c){this["minDPU"]=o8c;this["obj"]["minDPU"]=o8c;this["invalidate"]("minDPU");};Z0c["prototype"]["setUnitLabel"]=function(D8c){this["unitLabel"]=D8c;this["obj"]["unitLabel"]=D8c;this["invalidate"]("unitLabel");};Z0c["prototype"]["setObjDClicked"]=function(k8c){this["objDClicked"]=this["obj"]["objDClicked"]=k8c;this["invalidate"]("objDClicked");};Z0c["prototype"]["setRestrictions"]=function(g8c){this["restrictions"]=g8c;this["obj"]["restrictions"]=g8c;this["invalidate"]("restrictions");};Z0c["prototype"]["setStrictTemplate"]=function(V8c){this["strictTemplate"]=V8c;this["obj"]["strictTemplate"]=V8c;this["invalidate"]("strictTemplate");};Z0c["prototype"]["setShowProductSelector"]=function(M8c){this["showProductSelector"]=M8c;this["obj"]["showProductSelector"]=M8c;this["invalidate"]("showProductSelector");};Z0c["prototype"]["setIsUndoActive"]=function(B8c){this["isUndoActive"]=B8c;this["obj"]["isUndoActive"]=B8c;this["invalidate"]("isUndoActive");};Z0c["prototype"]["setIsRedoActive"]=function(P8c){this["isRedoActive"]=P8c;this["obj"]["isRedoActive"]=P8c;this["invalidate"]("isRedoActive");};Z0c["prototype"]["setVersion"]=function(H8c){this["version"]=H8c;this["obj"]["version"]=H8c;this["invalidate"]("version");};Z0c["prototype"]["setBuildTime"]=function(i8c){this["buildTime"]=i8c;this["obj"]["buildTime"]=i8c;this["invalidate"]("buildTime");};Z0c["prototype"]["setUploadImageUrl"]=function(d8c){this["uploadImageUrl"]=d8c;this["obj"]["uploadImageUrl"]=d8c;this["invalidate"]("uploadImageUrl");};Z0c["prototype"]["setShowUploadedColorsDialog"]=function(N8c){this["showUploadedColorsDialog"]=N8c;this["obj"]["showUploadedColorsDialog"]=N8c;this["invalidate"]("showUploadedColorsDialog");};Z0c["prototype"]["setInstagramClienID"]=function(j8c){this["instagramClienID"]=j8c;this["obj"]["instagramClienID"]=j8c;this["invalidate"]("instagramClienID");};Z0c["prototype"]["setFacebookClienID"]=function(x8c){this["facebookClienID"]=x8c;this["obj"]["facebookClienID"]=x8c;this["invalidate"]("facebookClienID");};Z0c["prototype"]["setFlickrClienID"]=function(c8c){this["flickrClienID"]=c8c;this["obj"]["flickrClienID"]=c8c;this["invalidate"]("flickrClienID");};Z0c["prototype"]["setGoogleClienID"]=function(Z8c){this["googleClienID"]=Z8c;this["obj"]["googleClienID"]=Z8c;this["invalidate"]("googleClienID");};Z0c["prototype"]["setAuthorizedRedirectUrl"]=function(e8c){this["authorizedRedirectUrl"]=e8c;this["obj"]["authorizedRedirectUrl"]=e8c;this["invalidate"]("authorizedRedirectUrl");};Z0c["prototype"]["setAlert"]=function(a8c){this["alert"]=a8c;this["obj"]["alert"]=a8c;this["invalidate"]("alert");};Z0c["prototype"]["setDictionary"]=function(s8c){this["dictionary"]=s8c;this["obj"]["dictionary"]=s8c;this["invalidate"]("dictionary");};function Z0c(){this["obj"]={};this["productCategories"]=[];this["selectedProduct"]=null;this["selectedProductCategory"]=null;this["selectedProductColor"]=null;this["colors"]=[];this["pantones"]=[];this["fonts"]=[];this["graphicsCategories"]=[];this["textEffects"]=[];this["templatesCategories"]=[];this["templatesList"]=[];this["selectedObj"]=null;this["addedObj"]=null;this["selectedProductLocation"]="";this["quantities"]=[];this["namesNumbers"]=[];this["configLoaded"]=!!"";this["selectedProductSize"]=null;this["designs"]=[];this["status"]=new x0c();this["designInfo"]=new j0c["DesignInfoVO"]();this["designNotes"]='';this["showAuthDialog"]=!1;this["showAuthAndSaveDialog"]=![];this["showSaveDesignDialog"]=![];this["showLoadDesignDialog"]=![];this["showDPUExceededDialog"]=!{};this["showColorCountDialog"]=![];this["shareLink"]="";this["showShareLink"]=!1;this["showLoadDesignPreloader"]=![];this["showPlaceOrderPreloader"]=!!0;this["zoom"]="100"-0;this["minZoom"]=+"100";this["maxZoom"]=100;this["zoomEnabled"]=!"1";this["minDPU"]=+"150";this["unitLabel"]="";this["objDClicked"]=null;this["restrictions"]=new j0c["RestrictionsVO"]();this["strictTemplate"]=!{};this["showProductSelector"]=![];this["isUndoActive"]=![];this["isRedoActive"]=!{};this["version"]="";this["buildTime"]="";this["uploadImageUrl"]="";this["showUploadedColorsDialog"]=!!{};this["instagramClienID"]="";this["facebookClienID"]="";this["flickrClienID"]="";this["googleClienID"]="";this["authorizedRedirectUrl"]="";this["alert"]=null;this["dictionary"]={};this["isTemplate"]=!!"";this["hidePreloader"]=!{};this["hideDesignIdeas"]=!"1";this["currentDesign"]={};this["preloaderStatus"]={};this["placeOrderFailed"]=!!0;this["showSutableColorize"]=!!0;this["processProductChange"]=null;this["caaMode"]=!!0;this["selectedUnit"]=null;this["editableAreaSizes"]=null;this["editableAreaUnitsRange"]=[];this["availableUnits"]=[];this["isTemplateStrict"]=![];this["templateIsBeingEdited"]=!"1";this["invalidateList"]=[];this["validatedProductSize"]=null;this["obj"]["productCategories"]=[];this["obj"]["selectedProduct"]=null;this["obj"]["selectedProductCategory"]=null;this["obj"]["selectedProductColor"]=null;this["obj"]["colors"]=[];this["obj"]["fonts"]=[];this["obj"]["graphicsCategories"]=[];this["obj"]["textEffects"]=[];this["obj"]["selectedObj"]=null;this["obj"]["selectedProductLocation"]="";this["obj"]["quantities"]=[];this["obj"]["namesNumbers"]=[];this["obj"]["selectedProductSize"]=[];this["obj"]["designs"]=[];this["obj"]["status"]=this["status"];this["obj"]["designInfo"]=this["designInfo"];this["obj"]["showAuthDialog"]=!!"";this["obj"]["showAuthAndSaveDialog"]=!!0;this["obj"]["showSaveDesignDialog"]=![];this["obj"]["showLoadDesignDialog"]=!!0;this["obj"]["showDPUExceededDialog"]=!{};this["obj"]["showColorCountDialog"]=!{};this["obj"]["shareLink"]="";this["obj"]["showShareLink"]=![];this["obj"]["showLoadDesignPreloader"]=!!0;this["obj"]["zoom"]=+"100";this["obj"]["unitLabel"]="";this["obj"]["zoomEnabled"]=!{};this["obj"]["minZoom"]=50;this["obj"]["maxZoom"]=+"150";this["obj"]["objDClicked"]=null;this["obj"]["restrictions"]=this["restrictions"];this["obj"]["designNotes"]="";this["obj"]["strictTemplate"]=!!0;this["obj"]["showProductSelector"]=!!1;this["obj"]["isUndoActive"]=!{};this["obj"]["isRedoActive"]=![];this["obj"]["version"]="";this["obj"]["buildTime"]="";this["obj"]["uploadImageUrl"]="";this["obj"]["minDPU"]="0"|0;this["obj"]["showUploadedColorsDialog"]=!!{};this["obj"]["instagramClienID"]="";this["obj"]["facebookClienID"]="";this["obj"]["flickrClienID"]="";this["obj"]["googleClienID"]="";this["obj"]["authorizedRedirectUrl"]="";this["obj"]["placeOrderFailed"]=!!"";this["obj"]["isTemplateStrict"]=![];this["obj"]["processProductChange"]=function(){return!!0;};this["obj"]["invalidateList"]=this["invalidateList"];}Z0c["prototype"]["setIsTemplate"]=function(n8c){this["isTemplate"]=n8c;this["obj"]["isTemplate"]=n8c;this["invalidate"]("isTemplate");};Z0c["prototype"]["setHidePreloader"]=function(h8c){this["hidePreloader"]=h8c;this["obj"]["hidePreloader"]=h8c;this["invalidate"]("hidePreloader");};Z0c["prototype"]["setHideDesignIdeas"]=function(S8c){this["hideDesignIdeas"]=S8c;this["obj"]["hideDesignIdeas"]=S8c;this["invalidate"]("hideDesignIdeas");};Z0c["prototype"]["setCurrentDesign"]=function(U8c){this["currentDesign"]=U8c;this["obj"]["currentDesign"]=U8c;this["invalidate"]("currentDesign");};Z0c["prototype"]["setPreloaderStatus"]=function(L8c){this["preloaderStatus"]=L8c;this["obj"]["preloaderStatus"]=L8c;this["invalidate"]("preloaderStatus");};Z0c["prototype"]["setPlaceOrderFail"]=function(l8c){this["placeOrderFailed"]=l8c;this["obj"]["placeOrderFailed"]=l8c;this["invalidate"]("placeOrderFailed");};Z0c["prototype"]["setShowSutableColorize"]=function(Y8c){this["showSutableColorize"]=Y8c;this["obj"]["showSutableColorize"]=Y8c;this["invalidate"]("showSutableColorize");};Z0c["prototype"]["setProcessProductChange"]=function(f8c){this["processProductChange"]=f8c;this["obj"]["processProductChange"]=f8c;this["invalidate"]("processProductChange");};Z0c["prototype"]["setCAAMode"]=function(q8c){this["caaMode"]=q8c;this["obj"]["caaMode"]=q8c;this["invalidate"]("caaMode");};Z0c["prototype"]["setSelectedUnit"]=function(p8c){this["selectedUnit"]=p8c;this["obj"]["selectedUnit"]=p8c;this["invalidate"]("selectedUnit");};Z0c["prototype"]["setEditableAreaSizes"]=function(u8c){this["editableAreaSizes"]=u8c;this["obj"]["editableAreaSizes"]=u8c;this["invalidate"]("editableAreaSizes");};Z0c["prototype"]["setEditableAreaUnitsRange"]=function(F8c){this["editableAreaUnitsRange"]=F8c;this["obj"]["editableAreaUnitsRange"]=F8c;this["invalidate"]("editableAreaUnitsRange");};Z0c["prototype"]["setAvailableUnits"]=function(E8c){this["selectedUnit"]=E8c;this["obj"]["availableUnits"]=E8c;this["invalidate"]("availableUnits");};Z0c["prototype"]["setIsTemplateStrict"]=function(r8c){this["isTemplateStrict"]=r8c;this["obj"]["isTemplateStrict"]=r8c;this["invalidate"]("isTemplateStrict");};Z0c["prototype"]["setTemplateIsBeingEdited"]=function(w8c){this["templateIsBeingEdited"]=w8c;this["obj"]["templateIsBeingEdited"]=w8c;this["invalidate"]("templateIsBeingEdited");};Z0c["prototype"]["invalidate"]=function(b8c){if(d0c["Util"]["arrayIndexOf"](b8c,this["invalidateList"])==-("1"-0))this["invalidateList"]["push"](b8c);};Z0c["prototype"]["toObject"]=function(){return this["obj"];};Z0c["prototype"]["cloneObj"]=function(){d0c["Util"]["copyObject"](this["obj"]);};Z0c["prototype"]["setValidatedProductSize"]=function(J8c){this["validatedProductSize"]=J8c;this["obj"]["validatedProductSize"]=this["validatedProductSize"];this["invalidate"]("validatedProductSize");};return Z0c;}();j0c["ControlsModelVO"]=c0c;x0c=function(){function W8c(m3c,O3c,G3c,A3c){if(m3c===void("0"|0)){m3c="";}if(O3c===void+"0"){O3c=!!0;}if(G3c===void+"0"){G3c=![];}if(A3c===void+"0"){A3c="0"|0;}this["message"]=m3c;this["showProgress"]=O3c;this["completed"]=G3c;this["percentCompleted"]=0;this["designSaved"]=!!"1";this["imageUploading"]=![];this["percentCompleted"]=Math["floor"](A3c);}return W8c;}();j0c["StatusVO"]=x0c;}(N0c=d0c["VO"]||(d0c["VO"]={})));}(LAJS||(LAJS={})));(function(C3c){var z3c;(function(I3c){var K3c,t3c;K3c=C3c["Util"]["getValidQuantities"];t3c=function(){X3c["imagePreloaderPath"]=function(){return this["assetsUrl"]+"img/tracker/image_preloader.svg";};X3c["prototype"]["loadConfig"]=function(y3c){var R3c;R3c=this;C3c["debug"]("loading config: "+y3c);this["model"]["dispatchEvent"](new C3c["Events"]["LoadStatusEvent"](this["getLoadMessage"]("loading.configuration"),!1,"0"|0));if(y3c&&y3c["indexOf"]("{")==-+"1"){this["configPath"]=y3c;jQuery["getJSON"](C3c["Util"]["addTimeStamp"](y3c),null,function(v3c,Q3c,o3c){return R3c["onConfigLoaded"](v3c,Q3c,o3c);})["fail"](function(D3c,k3c,g3c){return R3c["onConfigFail"](D3c,k3c,g3c,y3c);});}else{y3c=decodeURIComponent(y3c);this["onConfigLoaded"](JSON["parse"](y3c),null,null);}};function X3c(T3c){this["config"]=new C3c["VO"]["ConfigVO"]();this["configSocial"]=new C3c["VO"]["ConfigSocialVO"]();this["variatedConfig"]=new C3c["VO"]["ConfigVO"]();this["configPath"]="";this["defaultDesignId"]="";this["defaultProductId"]="";this["totalConfigSteps"]="1"-0;this["loadedConfigSteps"]=0;this["currentProductVariation"]=null;this["complexArtProductId"]="none";this["complexArtList"]=null;this["model"]=T3c;}X3c["prototype"]["onConfigLoaded"]=function(V3c,M3c,B3c){C3c["debug"]("config loaded");if(V3c)this["config"]=new C3c["VO"]["ConfigVO"](V3c);X3c["assetsUrl"]=this["config"]["assetsUrl"];this["loadedConfigSteps"]++;this["totalConfigSteps"]+=this["config"]["urls"]["length"];if(this["model"]["defaultDesignId"]!==""&&this["model"]["defaultDesignId"]!=="null"){this["defaultDesignId"]=this["model"]["defaultDesignId"];}else if(this["config"]["defaultDesignId"]!==""){this["defaultDesignId"]=this["config"]["defaultDesignId"];}if(this["defaultDesignId"]&&this["defaultDesignId"]["length"]){this["totalConfigSteps"]++;}C3c["debug"]("config parts to load: "+this["config"]["urls"]["length"]);this["loadConfigParts"]();};X3c["prototype"]["onConfigFail"]=function(H3c,i3c,d3c,P3c){I3c["messageManager"]["failedToLoadConfigMessage"](P3c);};X3c["prototype"]["setOptions"]=function(N3c){this["config"]["options"]=new C3c["VO"]["LAOptions"](N3c);return this["config"]["options"];};X3c["prototype"]["loadConfigParts"]=function(){var j3c;if(this["config"]["urls"]["length"]>"0"*1){j3c=this["config"]["urls"]["shift"]();this["loadConfigPart"](j3c["key"],j3c["url"]);}else{this["configLoaded"]();}};X3c["prototype"]["loadConfigPart"]=function(x3c,c3c){var Z3c;Z3c=this;C3c["debug"]("loading config part '"+x3c+"':"+c3c);this["updatePreloader"](x3c);this["configPath"]=c3c;jQuery["getJSON"](C3c["Util"]["addTimeStamp"](c3c),null,function(e3c,a3c,s3c){return Z3c["onConfigPartLoaded"](x3c,e3c,a3c,s3c);})["fail"](function(n3c,h3c,S3c){return Z3c["onConfigPartFail"](n3c,h3c,S3c,c3c,x3c);});};X3c["prototype"]["onConfigPartLoaded"]=function(L3c,U3c,l3c,Y3c){C3c["debug"]("config part '"+L3c+"' loaded");this["loadedConfigSteps"]++;if(U3c){switch(L3c){case"productsList":if(U3c["productCategoriesList"]){this["config"]["productCategories"]=C3c["Util"]["parseArray"](U3c["productCategoriesList"],C3c["VO"]["ProductCategoryVO"]);this["config"]["processProductCategories"]();}if(U3c["productsList"])this["config"]["productsList"]=C3c["Util"]["parseArray"](U3c["productsList"],C3c["VO"]["ProductVO"]);break;case"productCategoriesList":this["config"]["productCategories"]=C3c["Util"]["parseArray"](U3c["productCategoriesList"],C3c["VO"]["ProductCategoryVO"]);this["config"]["processProductCategories"]();break;case"fonts":this["config"]["fonts"]=C3c["Util"]["parseArray"](U3c["fonts"],C3c["VO"]["FontVO"]);break;case"social":this["configSocial"]=new C3c["VO"]["ConfigSocialVO"](U3c);break;case"colors":this["config"]["colors"]=C3c["Util"]["parseArray"](U3c["colors"],C3c["VO"]["ColorVO"]);break;case"colors.pantones":this["config"]["pantones"]=C3c["Util"]["parseArray"](U3c["colors"],C3c["VO"]["ColorVO"]);break;case"graphicsList":if(U3c["graphicsCategoriesList"]){this["config"]["graphicsCategories"]=C3c["Util"]["parseArray"](U3c["graphicsCategoriesList"],C3c["VO"]["GraphicsCategoryVO"]);this["config"]["processGraphicCategories"]();}if(U3c["graphicsList"])this["config"]["graphicsList"]=C3c["Util"]["parseArray"](U3c["graphicsList"],C3c["VO"]["GraphicsVO"]);break;case"graphicsCategoriesList":this["config"]["graphicsCategories"]=C3c["Util"]["parseArray"](U3c["graphicsCategoriesList"],C3c["VO"]["GraphicsCategoryVO"]);break;case"textEffects":this["config"]["textEffects"]=C3c["Util"]["parseArray"](U3c["textEffects"],C3c["VO"]["TextEffectVO"]);break;}}this["updatePreloader"](L3c);this["loadConfigParts"]();};X3c["prototype"]["onConfigPartFail"]=function(q3c,p3c,u3c,F3c,f3c){switch(f3c){case"productsList":case"productCategoriesList":I3c["messageManager"]["failedToLoadProductListMessage"]();break;case"fonts":I3c["messageManager"]["failedToLoadFontListMessage"]();break;case"colors":I3c["messageManager"]["failedToLoadColorListMessage"]();break;case"graphicsList":case"graphicsCategoriesList":I3c["messageManager"]["failedToLoadGraphicListMessage"]();break;case"textEffects":I3c["messageManager"]["failedToLoadTextEffectListMessage"]();break;default:I3c["messageManager"]["failedToLoadConfigPartMessage"](f3c);}this["loadedConfigSteps"]++;this["loadConfigParts"]();};X3c["prototype"]["configLoaded"]=function(){return __awaiter(this,void+"0",void("0"*1),function(){var A1c,r3c,m1c,R1c,w3c,C1c,z1c,K1c,G1c,E3c,b3c,y1c,J3c,I1c,W3c,T1c,t1c,O1c,X1c;A1c=this;return __generator(this,function(v1c){switch(v1c["label"]){case"0"-0:this["variatedConfig"]=this["config"]["toVariatedConfig"](null);I3c["laModel"]["canvasManager"]["init"]();this["updateControls"]();this["model"]["inited"]=!!{};this["model"]["dispatchEvent"](new C3c["Events"]["ConfigLoadedEvent"](this["config"]["options"]));C3c["VO"]["Obj"]["checkTextFXThrottle"]=this["config"]["options"]["checkTextFXThrottle"];r3c=I3c["saveLoadManager"]["getLocalDesign"]();if(this["model"]["defaultProductId"]!=""){this["defaultProductId"]=this["model"]["defaultProductId"];}else if(this["config"]["defaultProductId"]!=""){this["defaultProductId"]=this["config"]["defaultProductId"];}m1c="";if(this["model"]["defaultGraphicId"]!=""){m1c=this["model"]["defaultGraphicId"];}R1c=this["model"]["defaultDesignId"]!=""&&this["model"]["defaultDesignId"]!="null"||this["config"]["defaultDesignId"]!=""||this["model"]["defaultProductId"]!==""||this["config"]["defaultProductId"]!="";this["finishPreloader"]();if(!(this["defaultDesignId"]["length"]>+"0"))return[+"3",1];if(this["model"]["adminMode"]){this["model"]["controlsManager"]["setTemplateIsBeingEdited"](!0);}this["updatePreloader"]("design");this["model"]["addEventListener"](LAEvents["LOAD_DESIGN_STATUS_EVENT"],function(Q1c){return A1c["onLoadDefaultDesign"](Q1c);});I3c["saveLoadManager"]["loadDesign"](this["defaultDesignId"],!0,!!0,!{},!{},!![],!![])["then"](function(D1c){var o1c;if(A1c["model"]["adminMode"]){o1c=!{};if(D1c&&!D1c["product"]){o1c=!![];}I3c["controlsManager"]["setCAAMode"](o1c);}});return[3,+"7"];case"1"*1:w3c=void 0;if(!(this["defaultProductId"]["length"]>+"0"))return["3"*1,+"6"];w3c=this["getProductById"](this["defaultProductId"]);I3c["controlsManager"]["setSelectedProductCategory"](this["getProductCategoryById"](w3c["categoryId"]));C1c=I3c["configManager"]["getProductById"](this["defaultProductId"]);if(!(C1c&&C1c["id"]))return[3,+"6"];if(!this["model"]["adminMode"])return["3"*1,"3"*1];return[4,I3c["productManager"]["setProduct"](this["defaultProductId"],!![],!1,!![])];case"2"-0:v1c["sent"]();return["3"*1,+"5"];case+"3":return[+"4",I3c["productManager"]["setProduct"](this["defaultProductId"],!!{},!1,![],!{},!![],!!{})];case+"4":v1c["sent"]();v1c["label"]="5"|0;case 5:if(w3c&&w3c["resizable"]&&this["config"]["defaultProductId"]){if(this["config"]["defaultProductSize"]["length"]>="2"-0&&!w3c["locations"][+"0"]["editableAreaUnits"]["length"]){z1c=new C3c["VO"]["ProductCanvasSizeVO"]({'\x77\x69\x64\x74\x68':this["config"]["defaultProductSize"]["0"-0],'\x68\x65\x69\x67\x68\x74':this["config"]["defaultProductSize"][1]});I3c["productManager"]["setProductSize"](z1c);I3c["controlsManager"]["setSelectedProductSize"](z1c);}}v1c["label"]=+"6";case"6"-0:if(m1c["length"]>("0"|0)){K1c=this["getGraphicsById"](m1c);if(K1c)I3c["canvasManager"]["addGraphics"](K1c);}if(this["model"]["defaultProductAttributes"]&&this["model"]["defaultProductAttributes"]["selectedUnit"]){I3c["sizeManager"]["setUnit"](this["model"]["defaultProductAttributes"]["selectedUnit"]);}if(this["model"]["defaultProductAttributes"]["sizeUnits"]&&this["model"]["defaultProductAttributes"]["sizeUnits"]["length"]===("2"|0)){G1c=I3c["canvasManager"]["getDefaultProductSize"]();if(G1c){I3c["productManager"]["setProductSize"](G1c);}}if(this["model"]["defaultProductAttributes"]["quantities"]&&this["model"]["defaultProductAttributes"]["quantities"]["length"]){E3c=[];b3c=K3c(this["model"]["defaultProductAttributes"]["quantities"]);y1c=b3c["length"];for(J3c="0"*1;J3c<w3c["sizes"]["length"];J3c++){I1c=w3c["sizes"][J3c];E3c[J3c]={'\x73\x69\x7a\x65':I1c,'\x71\x75\x61\x6e\x74\x69\x74\x79':"0"|0};for(W3c=0,T1c=b3c["length"];W3c<T1c;W3c++){t1c=b3c[W3c];if(t1c["size"]===I1c["valueOf"]()){E3c[J3c]["quantity"]=t1c["quantity"];b3c["splice"](W3c,+"1");break;}}}if(E3c["length"]&&E3c["0"*1]["quantity"]===("0"|0)||!w3c["sizes"]["length"]){O1c=b3c["filter"](function(k1c){return typeof k1c["size"]==="undefined";});if(O1c["length"]){if(typeof E3c[+"0"]==="object"){E3c["0"-0]["quantity"]=O1c[+"0"]["quantity"];}else{E3c[+"0"]={'\x71\x75\x61\x6e\x74\x69\x74\x79':O1c[0]["quantity"]};}}}if(w3c["sizes"]["length"]===0&&b3c["length"]){if(!b3c[+"0"]["size"]){E3c[+"0"]={'\x71\x75\x61\x6e\x74\x69\x74\x79':b3c["0"-0]["quantity"]};}}if(y1c&&E3c["length"]){this["model"]["controlsManager"]["setQuantities"](E3c);I3c["controlsManager"]["setQuantities"](E3c);I3c["orderManager"]["setQuantities"](E3c);}}v1c["label"]=7;case+"7":I3c["controlsManager"]["setConfigLoaded"]();I3c["historyManager"]["saveStatus"](!!{});if(!(!I3c["laModel"]["adminMode"]&&r3c))return["3"-0,10];return["4"*1,I3c["controlsManager"]["confirm"](I3c["messageManager"]["loadUnsavedDesign"](),{'\x68\x65\x61\x64\x65\x72':I3c["messageManager"]["loadUnsavedDesignHeader"]()})];case"8"|0:X1c=v1c["sent"]();if(!X1c)return[+"3",+"10"];return["4"|0,I3c["orderManager"]["setDesign"](r3c)];case"9"|0:v1c["sent"]();if(!I3c["saveLoadManager"]["currentDesign"]||!I3c["saveLoadManager"]["currentDesign"]["id"]){if(r3c["currentDesignId"]){I3c["saveLoadManager"]["currentDesign"]["id"]=r3c["currentDesignId"];}if(r3c["strict"]){I3c["saveLoadManager"]["currentDesign"]["strict"]=r3c["strict"];}if(r3c["templateId"]){I3c["saveLoadManager"]["currentDesign"]["templateId"]=r3c["templateId"];}if(r3c["hasChanges"]){I3c["saveLoadManager"]["currentDesign"]["hasChanges"]=r3c["hasChanges"];}}v1c["label"]="10"-0;case"10"-0:I3c["controlsManager"]["setCAAMode"](this["defaultProductId"]===this["complexArtProductId"]);return["2"-0];}});});};X3c["prototype"]["getProductById"]=function(M1c){var g1c,V1c;V1c=C3c["Util"]["arrayIndexOf"](null,this["config"]["productsList"],"id",M1c);if(V1c>=("0"|0)){g1c=this["config"]["productsList"][V1c];}if(!g1c)g1c=new C3c["VO"]["ProductVO"]();return g1c;};X3c["prototype"]["getProductCategoryById"]=function(P1c){var B1c;B1c=null;B1c=this["getProductSubCategoryById"](P1c,this["config"]["productCategories"]);if(!B1c)B1c=new C3c["VO"]["ProductCategoryVO"]({});return B1c;};X3c["prototype"]["getProductSubCategoryById"]=function(j1c,i1c){var H1c,N1c,d1c,x1c;H1c=null;N1c=C3c["Util"]["arrayIndexOf"](null,i1c,"id",j1c);if(N1c>=+"0"){H1c=i1c[N1c];}d1c="0"|0;while(H1c==null&&d1c<i1c["length"]){x1c=i1c[d1c];H1c=this["getProductSubCategoryById"](j1c,x1c["categories"]);d1c++;}return H1c;};X3c["prototype"]["getGraphicsById"]=function(e1c){var Z1c,c1c;c1c=C3c["Util"]["arrayIndexOf"](null,this["config"]["graphicsList"],"id",e1c);if(c1c>=+"0"){Z1c=this["config"]["graphicsList"][c1c];}return Z1c;};X3c["prototype"]["exportGraphicsColorizeList"]=function(h1c){var n1c,s1c;n1c=[];for(var a1c=0;a1c<h1c["colorizableElements"]["length"];a1c++){s1c=new C3c["VO"]["ColorizableElementVO"](h1c["colorizableElements"][a1c]);if(s1c["colors"]["length"]==+"0"){s1c["colors"]=C3c["Util"]["parseArray"](this["config"]["colors"],C3c["VO"]["ColorVO"]);}n1c["push"](s1c);}return n1c;};X3c["prototype"]["updateControls"]=function(){I3c["controlsManager"]["setPantones"](this["config"]["pantones"]);I3c["controlsManager"]["setFonts"](this["config"]["fonts"]);I3c["controlsManager"]["setColors"](this["config"]["colors"]);I3c["controlsManager"]["setProducts"](this["config"]["productCategories"]);I3c["controlsManager"]["setGraphics"](this["config"]["graphicsCategories"]);I3c["controlsManager"]["setZoomEnabled"](this["config"]["options"]["zoomEnabled"]);I3c["controlsManager"]["setMinZoom"](this["config"]["options"]["minZoom"]);I3c["controlsManager"]["setMaxZoom"](this["config"]["options"]["maxZoom"]);I3c["controlsManager"]["setUnitLabel"](this["config"]["options"]["unit"]);I3c["controlsManager"]["setTextEffects"](this["config"]["textEffects"]);I3c["controlsManager"]["setShowProductSelector"](this["config"]["options"]["showProductSelector"]);I3c["controlsManager"]["setVersion"](I3c["LAModel"]["version"]);I3c["controlsManager"]["setBuildTime"](I3c["LAModel"]["buildTimeStamp"]);I3c["controlsManager"]["setUploadImageUrl"](this["config"]["uploadImageUrl"]);I3c["controlsManager"]["setShowUploadedColorsDialog"](this["config"]["options"]["showUploadedColorsDialog"]);I3c["controlsManager"]["setShowSutableColorize"](this["config"]["options"]["showSuitableProductColorize"]);C3c["VO"]["Obj"]["enableAccurateText"]=this["config"]["options"]["enableAccurateText"];I3c["controlsManager"]["setInstagramClienID"](this["configSocial"]["instagramClientID"]);I3c["controlsManager"]["setFacebookClienID"](this["configSocial"]["facebookClientID"]);I3c["controlsManager"]["setFlickrClienID"](this["configSocial"]["flickrClientID"]);I3c["controlsManager"]["setGoogleClienID"](this["configSocial"]["googleClientID"]);I3c["controlsManager"]["setAuthorizedRedirectUrl"](this["configSocial"]["authorizedRedirectUrl"]);I3c["controlsManager"]["setHideDesignIdeas"](this["config"]["options"]["hideDesignIdeas"]);};X3c["prototype"]["onConfigDesignLoaded"]=function(){this["finishPreloader"]();};X3c["prototype"]["getLoadMessage"]=function(S1c){switch(S1c){case"colors":case"colors.pantones":return I3c["messageManager"]["loadingColorsTranslation"]();case"fonts":return I3c["messageManager"]["loadingFontsTranslation"]();case"textEffects":return I3c["messageManager"]["loadingEffectsTranslation"]();case"productsList":case"productCategoriesList":return I3c["messageManager"]["loadingProductsTranslation"]();case"graphicsList":case"graphicsCategoriesList":return I3c["messageManager"]["loadingGraphicsTranslation"]();case"social":return I3c["messageManager"]["loadingSocialTranslation"]();case"design":return I3c["messageManager"]["loadingDesingTranslation"]();case"loaded":return I3c["messageManager"]["loadedTranslation"]();case"loading.configuration":return I3c["messageManager"]["loadingConfigurationTranslation"]();default:return I3c["messageManager"]["loadingTranslation"]();}};X3c["prototype"]["onLoadDefaultDesign"]=function(L1c){var U1c;U1c=this;switch(L1c["status"]){case LoadDesignStatus["COMPLETED"]:case LoadDesignStatus["FAILED"]:{this["model"]["removeEventListener"](LAEvents["LOAD_DESIGN_STATUS_EVENT"],function(l1c){return U1c["onLoadDefaultDesign"](l1c);});this["onConfigDesignLoaded"]();break;}}};X3c["prototype"]["updatePreloader"]=function(Y1c){this["model"]["dispatchEvent"](new C3c["Events"]["LoadStatusEvent"](this["getLoadMessage"](Y1c),!"1",this["loadedConfigSteps"]/this["totalConfigSteps"]*+"100"));};X3c["prototype"]["finishPreloader"]=function(){this["model"]["dispatchEvent"](new C3c["Events"]["LoadStatusEvent"](this["getLoadMessage"]("loaded"),!!{},100));};X3c["prototype"]["getComplexArtList"]=function(){var f1c;f1c=this;return new Promise(function(q1c,p1c){if(!f1c["complexArtList"]){I3c["saveLoadManager"]["loadTemplatesList"]()["then"](function(u1c){f1c["complexArtList"]=u1c;q1c(f1c["complexArtList"]);});}else{q1c(f1c["complexArtList"]);}});};return X3c;}();t3c["assetsUrl"]="assets/";I3c["ConfigManager"]=t3c;}(z3c=C3c["Model"]||(C3c["Model"]={})));}(LAJS||(LAJS={})));(function(F1c){var E1c;(function(r1c){var w1c,b1c;w1c=F1c["Util"]["arrayToObjArray"];b1c=function(){J1c["prototype"]["onConfigLoaded"]=function(C6c){var A6c;A6c=this;this["model"]["removeEventListener"](LAEvents["CONFIG_LOADED_EVENT"],function(z6c){return A6c["onConfigLoaded"](z6c);});};J1c["prototype"]["onLoadDesignStatusChange"]=function(I6c){switch(I6c["status"]){case LoadDesignStatus["STARTED"]:{this["showLoadDesignPreloader"](!0);break;}case LoadDesignStatus["COMPLETED"]:{this["showLoadDesignPreloader"](!1);break;}case LoadDesignStatus["FAILED"]:{this["showLoadDesignPreloader"](!"1");break;}}};J1c["prototype"]["setModelUpdateHandler"]=function(t6c){this["updateHandler"]=t6c;this["updateControls"]();};J1c["prototype"]["updateControls"]=function(){F1c["debug"]("updateControls",this["controlsModel"]["toObject"]());if(!this["updateHandler"])return;this["updateHandler"](this["controlsModel"]["toObject"]());};J1c["prototype"]["needSaveHistory"]=function(K6c){if("selectedProductId"in K6c&&r1c["productManager"]["currentVariatedProduct"]&&K6c["selectedProductId"]!=r1c["productManager"]["currentVariatedProduct"]["id"]){return!!{};}if("selectedProductColor"in K6c){return!!{};}if("selectedProductColorize"in K6c){return!0;}if("selectedProductSize"in K6c){return!![];}return![];};J1c["prototype"]["saveHistoryStatus"]=function(){r1c["historyManager"]["onUserInteract"]();r1c["saveLoadManager"]["saveDesignToBrowserStorage"]();};J1c["prototype"]["setStatus"]=function(X6c){this["controlsModel"]["setStatus"](X6c);this["updateControls"]();};J1c["prototype"]["setProducts"]=function(T6c){this["controlsModel"]["setProductCategories"](T6c);this["updateControls"]();};J1c["prototype"]["setFonts"]=function(y6c){this["controlsModel"]["setFonts"](y6c);this["updateControls"]();};J1c["prototype"]["setColors"]=function(R6c){this["controlsModel"]["setColors"](R6c);this["updateControls"]();};J1c["prototype"]["setPantones"]=function(v6c){this["controlsModel"]["setPantones"](v6c);this["updateControls"]();};J1c["prototype"]["setGraphics"]=function(Q6c){this["controlsModel"]["setGraphicsCategories"](Q6c);this["updateControls"]();};J1c["prototype"]["setTemplatesData"]=function(o6c){if(o6c["categories"]&&o6c["categories"]["length"]){this["setTemplates"](o6c["categories"]);}else{this["setTemplatesList"](o6c["templates"]);}};J1c["prototype"]["setTextEffects"]=function(D6c){this["controlsModel"]["setTextEffects"](D6c);this["updateControls"]();};J1c["prototype"]["setTemplates"]=function(k6c){this["controlsModel"]["setTemplatesCategories"](k6c);this["updateControls"]();};J1c["prototype"]["setTemplatesList"]=function(g6c){this["controlsModel"]["setTemplatesList"](g6c);this["updateControls"]();};J1c["prototype"]["setSelectedProductCategory"]=function(V6c){this["controlsModel"]["setSelectedProductCategory"](V6c);this["updateControls"]();};J1c["prototype"]["setSelectedProduct"]=function(M6c){this["controlsModel"]["setSelectedProduct"](M6c);this["updateControls"]();};J1c["prototype"]["setSelectedProductColor"]=function(B6c){this["controlsModel"]["setSelectedProductColor"](B6c);this["updateControls"]();};J1c["prototype"]["setConfigLoaded"]=function(){this["controlsModel"]["setConfigLoaded"](!![]);this["updateControls"]();};J1c["prototype"]["setSelectedProductSize"]=function(P6c){this["controlsModel"]["setSelectedProductSize"](P6c);this["updateControls"]();};J1c["prototype"]["setSelectedObj"]=function(H6c){if(H6c)this["controlsModel"]["setSelectedObj"](H6c["attr"]());else this["controlsModel"]["setSelectedObj"](null);this["updateControls"]();};J1c["prototype"]["setAddedObj"]=function(i6c){this["controlsModel"]["setAddedObj"](i6c["attr"]());this["updateControls"]();};J1c["prototype"]["setObjDClicked"]=function(d6c){this["controlsModel"]["setObjDClicked"](d6c);this["updateControls"]();};J1c["prototype"]["setDesignInfo"]=function(N6c){this["controlsModel"]["setDesignInfo"](N6c);this["updateControls"]();};J1c["prototype"]["setDesignNotes"]=function(j6c){this["controlsModel"]["setDesignNotes"](j6c);this["updateControls"]();};J1c["prototype"]["setDesignSaved"]=function(x6c){this["controlsModel"]["status"]["designSaved"]=x6c;this["controlsModel"]["setStatus"](this["controlsModel"]["status"]);this["updateControls"]();};J1c["prototype"]["setSelectedProductLocation"]=function(c6c){this["controlsModel"]["setSelectedProductLocation"](c6c);this["updateControls"]();};J1c["prototype"]["setRestrictions"]=function(Z6c){this["controlsModel"]["setRestrictions"](Z6c);this["updateControls"]();};J1c["prototype"]["setQuantities"]=function(e6c){this["controlsModel"]["setQuantities"](e6c);this["updateControls"]();};J1c["prototype"]["setImageUploading"]=function(a6c){this["controlsModel"]["status"]["imageUploading"]=a6c;this["controlsModel"]["setStatus"](this["controlsModel"]["status"]);this["updateControls"]();};J1c["prototype"]["showAuthDialog"]=function(){this["controlsModel"]["setShowAuthDialog"](!!"1");this["updateControls"]();this["controlsModel"]["setShowAuthDialog"](![]);};J1c["prototype"]["showAuthAndSaveDialog"]=function(){this["controlsModel"]["setShowAuthAndSaveDialog"](!!1);this["updateControls"]();this["controlsModel"]["setShowAuthAndSaveDialog"](!!0);};J1c["prototype"]["showSaveDesignDialog"]=function(){this["controlsModel"]["setShowSaveDesignDialog"](!!"1");this["updateControls"]();this["controlsModel"]["setShowSaveDesignDialog"](!{});};J1c["prototype"]["showLoadDesignsDialog"]=function(s6c){this["controlsModel"]["setDesigns"](s6c);this["controlsModel"]["setShowLoadDesignDialog"](!!1);this["updateControls"]();this["controlsModel"]["setShowLoadDesignDialog"](!"1");};J1c["prototype"]["showDPUExceededDialog"]=function(){this["controlsModel"]["setShowDPUExceededDialog"](!0);this["updateControls"]();this["controlsModel"]["setShowDPUExceededDialog"](![]);};J1c["prototype"]["showColorCountDialog"]=function(){this["controlsModel"]["setShowColorCountDialog"](!![]);this["updateControls"]();this["controlsModel"]["setShowColorCountDialog"](![]);};J1c["prototype"]["showShareLink"]=function(n6c){this["controlsModel"]["setShareLink"](n6c);this["controlsModel"]["setShowShareLink"](!!"1");this["updateControls"]();this["controlsModel"]["setShowShareLink"](!{});};J1c["prototype"]["showLoadDesignPreloader"]=function(h6c){this["controlsModel"]["setShowLoadDesignPreloader"](h6c);this["updateControls"]();};J1c["prototype"]["showPlaceOrderPreloader"]=function(S6c){this["controlsModel"]["setShowPlaceOrderPreloader"](S6c);this["updateControls"]();};J1c["prototype"]["setNamesNumbers"]=function(U6c){this["controlsModel"]["setNamesNumbers"](U6c);this["updateControls"]();};J1c["prototype"]["setStrictTemplate"]=function(L6c){this["controlsModel"]["setStrictTemplate"](L6c);this["updateControls"]();};J1c["prototype"]["setZoom"]=function(l6c){this["controlsModel"]["setZoom"](l6c);this["updateControls"]();};J1c["prototype"]["setZoomEnabled"]=function(Y6c){this["controlsModel"]["setZoomEnabled"](Y6c);this["updateControls"]();};J1c["prototype"]["setMinDPU"]=function(f6c){this["controlsModel"]["setMinDPU"](f6c);this["updateControls"]();};J1c["prototype"]["setMinZoom"]=function(q6c){this["controlsModel"]["setMinZoom"](q6c);this["updateControls"]();};J1c["prototype"]["setMaxZoom"]=function(p6c){this["controlsModel"]["setMaxZoom"](p6c);this["updateControls"]();};J1c["prototype"]["setUnitLabel"]=function(u6c){this["controlsModel"]["setUnitLabel"](u6c);this["updateControls"]();};J1c["prototype"]["setShowProductSelector"]=function(F6c){this["controlsModel"]["setShowProductSelector"](F6c);this["updateControls"]();};J1c["prototype"]["setIsUndoActive"]=function(E6c){this["controlsModel"]["setIsUndoActive"](E6c);this["updateControls"]();};J1c["prototype"]["setIsRedoActive"]=function(r6c){this["controlsModel"]["setIsRedoActive"](r6c);this["updateControls"]();};J1c["prototype"]["setVersion"]=function(w6c){this["controlsModel"]["setVersion"](w6c);this["updateControls"]();};J1c["prototype"]["setBuildTime"]=function(b6c){this["controlsModel"]["setBuildTime"](b6c);this["updateControls"]();};J1c["prototype"]["setUploadImageUrl"]=function(J6c){this["controlsModel"]["setUploadImageUrl"](J6c);this["updateControls"]();};J1c["prototype"]["setShowUploadedColorsDialog"]=function(W6c){this["controlsModel"]["setShowUploadedColorsDialog"](W6c);this["updateControls"]();};J1c["prototype"]["setInstagramClienID"]=function(m7c){this["controlsModel"]["setInstagramClienID"](m7c);this["updateControls"]();};J1c["prototype"]["setFacebookClienID"]=function(O7c){this["controlsModel"]["setFacebookClienID"](O7c);this["updateControls"]();};J1c["prototype"]["setFlickrClienID"]=function(G7c){this["controlsModel"]["setFlickrClienID"](G7c);this["updateControls"]();};J1c["prototype"]["setGoogleClienID"]=function(A7c){this["controlsModel"]["setGoogleClienID"](A7c);this["updateControls"]();};J1c["prototype"]["setAuthorizedRedirectUrl"]=function(C7c){this["controlsModel"]["setAuthorizedRedirectUrl"](C7c);this["updateControls"]();};J1c["prototype"]["addAlert"]=function(z7c){this["controlsModel"]["setAlert"](z7c);this["updateControls"]();};J1c["prototype"]["setDictionary"]=function(I7c){this["controlsModel"]["setDictionary"](I7c);this["updateControls"]();};J1c["prototype"]["setIsTemplate"]=function(t7c){this["controlsModel"]["setIsTemplate"](t7c);this["updateControls"]();};J1c["prototype"]["hidePreloader"]=function(){this["controlsModel"]["setHidePreloader"](!![]);this["updateControls"]();};J1c["prototype"]["setHideDesignIdeas"]=function(K7c){this["controlsModel"]["setHideDesignIdeas"](K7c);this["updateControls"]();};J1c["prototype"]["setPreloaderStatus"]=function(T7c,y7c){var X7c;X7c={'\x73\x68\x6f\x77\x50\x72\x65\x6c\x6f\x61\x64\x65\x72':T7c,'\x74\x65\x78\x74':y7c};this["controlsModel"]["setPreloaderStatus"](X7c);this["updateControls"]();};J1c["prototype"]["setCurrentDesign"]=function(R7c){this["controlsModel"]["setCurrentDesign"](R7c);this["updateControls"]();};J1c["prototype"]["setShowSutableColorize"]=function(v7c){this["controlsModel"]["setShowSutableColorize"](v7c);this["updateControls"]();};J1c["prototype"]["setPlaceOrderFail"]=function(Q7c){this["controlsModel"]["setPlaceOrderFail"](Q7c);this["updateControls"]();};J1c["prototype"]["setProcessProductChange"]=function(o7c){this["controlsModel"]["setProcessProductChange"](o7c);this["updateControls"]();};J1c["prototype"]["setCAAMode"]=function(D7c){this["controlsModel"]["setCAAMode"](D7c);this["updateControls"]();};J1c["prototype"]["setAvailableUnits"]=function(k7c){this["controlsModel"]["setAvailableUnits"](w1c(k7c));this["updateControls"]();};J1c["prototype"]["setSelectedUnit"]=function(g7c){this["controlsModel"]["setSelectedUnit"](g7c["toObject"]());this["updateControls"]();};J1c["prototype"]["setEditableAreaSizes"]=function(V7c){if(V7c===void("0"|0)){V7c=[];}this["controlsModel"]["setEditableAreaSizes"](F1c["Util"]["arrayToObjArray"](V7c));this["updateControls"]();};J1c["prototype"]["setEditableAreaUnitsRange"]=function(M7c){this["controlsModel"]["setEditableAreaUnitsRange"](M7c);this["updateControls"]();};J1c["prototype"]["setIsStrictTemplate"]=function(B7c){this["controlsModel"]["setIsTemplateStrict"](B7c);this["updateControls"]();};J1c["prototype"]["setTemplateIsBeingEdited"]=function(P7c){this["controlsModel"]["setTemplateIsBeingEdited"](P7c);this["updateControls"]();};J1c["prototype"]["updateSelectedProduct"]=function(H7c){return __awaiter(this,void+"0",void 0,function(){return __generator(this,function(i7c){switch(i7c["label"]){case"0"|0:return[4,r1c["productManager"]["setProduct"](H7c,!0)];case"1"-0:i7c["sent"]();return["2"*1];}});});};J1c["prototype"]["updateSelectedProductColor"]=function(d7c){r1c["productManager"]["setProductColor"](d7c);};function J1c(m6c){var W1c;W1c=this;this["controlsModel"]=new F1c["VO"]["ControlsModelVO"]();this["model"]=m6c;this["model"]["addEventListener"](LAEvents["CONFIG_LOADED_EVENT"],function(O6c){return W1c["onConfigLoaded"](O6c);});this["model"]["addEventListener"](LAEvents["LOAD_DESIGN_STATUS_EVENT"],function(G6c){return W1c["onLoadDesignStatusChange"](G6c);});}J1c["prototype"]["updateSelectedProductSize"]=function(N7c){r1c["productManager"]["setProductSize"](N7c);};J1c["prototype"]["updateSelectedProductColorize"]=function(j7c){r1c["productManager"]["setProductColorize"](j7c);};J1c["prototype"]["updateSelectedGraphicsColorize"]=function(x7c){r1c["canvasManager"]["updateGraphicsColorizeList"](x7c);};J1c["prototype"]["userInteract"]=function(c7c){return __awaiter(this,void("0"*1),void 0,function(){var h7c,e7c,s7c,n7c,l7c,S7c,U7c,L7c,a7c,Z7c,Y7c;return __generator(this,function(f7c){switch(f7c["label"]){case"0"|0:if(!this["model"]["inited"])return["2"|0];F1c["debug"]("userInteract",c7c);if(!c7c)return["2"*1];h7c=this["needSaveHistory"](c7c);if(r1c["dialogManager"]["tryProcessModalDialog"](c7c)){if(h7c)this["saveHistoryStatus"]();return[2];}if("selectedProductId"in c7c){this["updateSelectedProduct"](c7c["selectedProductId"]);}if("addGraphics"in c7c){e7c=r1c["configManager"]["getGraphicsById"](c7c["addGraphics"]);if(e7c)r1c["canvasManager"]["addGraphics"](e7c);}if("uploadGraphics"in c7c){e7c=new F1c["VO"]["GraphicsVO"]({'\x69\x6d\x61\x67\x65':c7c["uploadGraphics"],'\x75\x70\x6c\x6f\x61\x64\x65\x64':!""});r1c["canvasManager"]["addGraphics"](e7c);}if("selectedProductColor"in c7c){this["updateSelectedProductColor"](c7c["selectedProductColor"]);}if("selectedProductSize"in c7c){this["updateSelectedProductSize"](new F1c["VO"]["ProductCanvasSizeVO"](c7c["selectedProductSize"]));}if("selectedProductColorize"in c7c){this["updateSelectedProductColorize"](c7c["selectedProductColorize"]);}if("selectedGraphicsColorize"in c7c){this["updateSelectedGraphicsColorize"](c7c["selectedGraphicsColorize"]);}if("addText"in c7c){r1c["canvasManager"]["addText"](c7c["addText"]);}if("updateText"in c7c){s7c=r1c["canvasManager"]["updateText"](c7c["updateText"]);}if("updateGraphics"in c7c){s7c=r1c["canvasManager"]["updateGraphics"](c7c["updateGraphics"]);}if("updateObject"in c7c){s7c=r1c["canvasManager"]["updateObject"](c7c["updateObject"]);}if("selectedProductLocation"in c7c){this["controlsModel"]["selectedProductLocation"]=c7c["selectedProductLocation"];r1c["canvasManager"]["setProductLocation"](this["controlsModel"]["selectedProductLocation"]);}if(!("clearDesign"in c7c))return[+"3",12];if(!c7c["clearDesign"])return[3,+"11"];n7c=!{};if(!!r1c["laModel"]["adminMode"])return[3,"10"*1];if(!(r1c["canvasManager"]["isDesignStrict"]()&&r1c["saveLoadManager"]["currentDesign"]&&r1c["saveLoadManager"]["currentDesign"]["templateId"]))return["3"|0,"1"*1];r1c["saveLoadManager"]["loadDesign"](r1c["saveLoadManager"]["currentDesign"]["templateId"],!![],!![],!{});return[+"3","8"|0];case"1"-0:if(!(typeof r1c["productManager"]["currentVariatedProduct"]["defaultTemplateId"]==="string"&&r1c["productManager"]["currentVariatedProduct"]["defaultTemplateId"]["length"]))return["3"*1,8];l7c=r1c["productManager"]["currentVariatedProduct"]["templatesList"]["filter"](function(q7c){return q7c["id"]===r1c["productManager"]["currentVariatedProduct"]["defaultTemplateId"];});if(!(l7c["length"]===1))return[+"3",+"7"];r1c["controlsManager"]["setPreloaderStatus"](!0,r1c["messageManager"]["loading"]());f7c["label"]="2"*1;case+"2":f7c["trys"]["push"]([+"2",+"4",5,6]);S7c=this["model"]["configManager"]["config"]["loadDesignUrl"]["replace"]("${design_id}",r1c["productManager"]["currentVariatedProduct"]["defaultTemplateId"]);return[4,F1c["Utils"]["ajaxHelper"]["getJSON"](S7c,SchemaNames["LOAD_DESIGN_RESPONSE"])];case+"3":U7c=f7c["sent"]();if(U7c["data"]["strict"]){n7c=!!1;}return[3,+"6"];case+"4":L7c=f7c["sent"]();console["error"](L7c);return["3"*1,6];case+"5":r1c["controlsManager"]["setPreloaderStatus"](!1);return["7"|0];case"6"|0:return[+"3","8"*1];case"7"|0:console["warn"]("The specified defaultTemplateId %s for product %s was not found.",r1c["productManager"]["currentVariatedProduct"]["defaultTemplateId"],r1c["productManager"]["currentVariatedProduct"]["id"]);f7c["label"]=+"8";case"8"*1:if(!n7c)return["3"-0,+"10"];return["4"-0,r1c["saveLoadManager"]["loadDesign"](r1c["productManager"]["currentVariatedProduct"]["defaultTemplateId"],!![],!![],!!0)];case 9:f7c["sent"]();r1c["saveLoadManager"]["currentDesign"]["templateId"]=r1c["productManager"]["currentVariatedProduct"]["defaultTemplateId"];f7c["label"]=+"10";case+"10":if(!n7c){r1c["canvasManager"]["clearDesign"]();delete r1c["saveLoadManager"]["currentDesign"]["templateId"];}r1c["saveLoadManager"]["currentDesign"]["hasChanges"]=![];return[+"3",12];case+"11":r1c["saveLoadManager"]["loadDesign"](c7c["templateId"],!!"1",!"",!{});f7c["label"]=12;case"12"|0:if("shareDesign"in c7c){r1c["saveLoadManager"]["shareDesign"]();}if("saveDesign"in c7c){r1c["saveLoadManager"]["saveDesign"](c7c["saveDesign"]);}if("designNotes"in c7c){r1c["orderManager"]["setDesignNotes"](c7c["designNotes"]);}if("loadDesign"in c7c){a7c=c7c["loadDesign"];if(a7c!="")r1c["saveLoadManager"]["loadDesign"](c7c["loadDesign"]);else{Z7c=r1c["productManager"]["currentProduct"];if(Z7c){r1c["saveLoadManager"]["loadDesignsList"](Z7c["id"]);}else{r1c["saveLoadManager"]["loadDesignsList"]();}}}if("updateQuantities"in c7c){r1c["orderManager"]["setQuantities"](c7c["updateQuantities"]);this["controlsModel"]["quantities"]=c7c["updateQuantities"];}if("updateNamesNumbers"in c7c){r1c["orderManager"]["setNamesNumbers"](F1c["Util"]["parseArray"](c7c["updateNamesNumbers"],F1c["VO"]["NamesNumbersVO"]));this["controlsModel"]["namesNumbers"]=F1c["Util"]["parseArray"](c7c["updateNamesNumbers"],F1c["VO"]["NamesNumbersVO"]);}if("placeOrder"in c7c){r1c["orderManager"]["placeOrder"]();}if("authorize"in c7c){r1c["authManager"]["authorize"](c7c["authorize"]);}if("align"in c7c){r1c["canvasManager"]["align"](c7c["align"]);}if("flip"in c7c){r1c["canvasManager"]["flip"](c7c["flip"]);}if("arrange"in c7c){r1c["canvasManager"]["arrange"](c7c["arrange"]);}if("transform"in c7c){r1c["canvasManager"]["transform"](c7c["transform"]);}if("dpuExceedConfirmed"in c7c){r1c["orderManager"]["saveDesignForPlaceOrder"]();}if("addNameObj"in c7c){r1c["canvasManager"]["addNamesObj"](c7c["addNameObj"]);}if("addNumberObj"in c7c){r1c["canvasManager"]["addNumbersObj"](c7c["addNumberObj"]);}if("lockProportions"in c7c){r1c["canvasManager"]["setLockProportions"](c7c["lockProportions"]);}if("print"in c7c){r1c["canvasManager"]["print"]();}if("copy"in c7c){r1c["canvasManager"]["copy"]();}if("paste"in c7c){r1c["canvasManager"]["paste"]();}if("zoomIn"in c7c){r1c["canvasManager"]["changeZoom"](!!{});}if("zoomOut"in c7c){r1c["canvasManager"]["changeZoom"](!{});}if("zoom"in c7c){r1c["canvasManager"]["changeZoom"](c7c["zoom"]);}if("drag"in c7c){r1c["canvasManager"]["setDrag"](c7c["drag"]);}if("imageColorCount"in c7c){r1c["imageColorsProcessor"]["imageColorCountSubmit"](new F1c["VO"]["ImageColorCountVO"](c7c["imageColorCount"]));}if("undo"in c7c){r1c["historyManager"]["undo"]();}if("redo"in c7c){r1c["historyManager"]["redo"]();}if("deselectObject"in c7c){r1c["canvasManager"]["deselectObject"]();}if("setConstained"in c7c){r1c["canvasManager"]["setConstained"](c7c["setConstained"]);}if("showObjectConstraints"in c7c){r1c["canvasManager"]["showObjectConstraints"](c7c["showObjectConstraints"]);}if("setRequired"in c7c){r1c["canvasManager"]["setRequired"](c7c["setRequired"]);}if("setFixedPosition"in c7c){r1c["canvasManager"]["setFitConstraints"](c7c["setFixedPosition"]);}if("saveTemplate"in c7c){Z7c=r1c["productManager"]["currentProduct"];if(Z7c){r1c["saveLoadManager"]["saveTemplate"](c7c["saveTemplate"],Z7c["id"]);}else{r1c["saveLoadManager"]["saveTemplate"](c7c["saveTemplate"]);}}if("loadTemplate"in c7c){a7c=c7c["loadTemplate"];if(a7c!="")r1c["saveLoadManager"]["loadTemplate"](a7c);}if("selectUnit"in c7c){Y7c=c7c["selectUnit"];r1c["sizeManager"]["setUnit"](Y7c);}if(h7c)this["saveHistoryStatus"]();return["2"|0];}});});};J1c["prototype"]["confirm"]=function(p7c,u7c){return this["uiHelpers"]["confirm"](p7c,u7c);};J1c["prototype"]["showActionDialog"]=function(F7c,E7c,r7c){return this["uiHelpers"]["showActionDialog"](F7c,E7c,r7c);};Object["defineProperty"](J1c["prototype"],"designSaved",{'\x67\x65\x74':function(){return this["controlsModel"]["status"]["designSaved"];},'\x65\x6e\x75\x6d\x65\x72\x61\x62\x6c\x65':!!{},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':!0});return J1c;}();r1c["ControlsManager"]=b1c;}(E1c=F1c["Model"]||(F1c["Model"]={})));}(LAJS||(LAJS={})));(function(w7c){var b7c;(function(J7c){var W7c;W7c=function(){m4c["prototype"]["onLoadStatus"]=function(C4c){this["completed"]=C4c["completed"];J7c["controlsManager"]["setStatus"](new w7c["VO"]["StatusVO"](C4c["message"],!C4c["completed"],C4c["completed"],C4c["percentCompleted"]));};m4c["prototype"]["isCompleted"]=function(){return this["completed"];};function m4c(G4c){var O4c;O4c=this;this["totalLoadSteps"]=+"3";this["loadedSteps"]=+"0";this["completed"]=!!0;this["model"]=G4c;this["model"]["addEventListener"](LAEvents["LOAD_STATUS_EVENT"],function(A4c){return O4c["onLoadStatus"](A4c);});}return m4c;}();J7c["StatusManager"]=W7c;}(b7c=w7c["Model"]||(w7c["Model"]={})));}(LAJS||(LAJS={})));(function(z4c){var I4c;(function(t4c){var K4c,X4c,T4c;K4c=function(){y4c["prototype"]["toObject"]=function(D4c){var R4c,Q4c,o4c;if(D4c===void("0"-0)){D4c=+"1";}R4c={};if(this["product"]){R4c["product"]={};R4c["product"]["id"]=this["product"]["id"];if(this["productColor"]){R4c["product"]["color"]=this["productColor"]["value"];R4c["product"]["colorName"]=this["productColor"]["name"];}if(this["productColors"]){R4c["product"]["productColors"]=[];for(var v4c=+"0";v4c<this["productColors"]["length"];v4c++){R4c["product"]["productColors"]["push"]({'\x69\x64':this["productColors"][v4c]["id"],'\x6e\x61\x6d\x65':this["productColors"][v4c]["name"],'\x76\x61\x6c\x75\x65':this["productColors"][v4c]["value"]});}}if(!this["productColor"]&&this["productColors"]&&this["productColors"]["length"]==+"1"){R4c["product"]["color"]=this["productColors"][+"0"]["value"];R4c["product"]["colorName"]=this["productColors"][+"0"]["name"];}if(this["productSize"]){R4c["product"]["size"]=this["productSize"]["toObject"]();}}R4c["locations"]=[];R4c["colorsList"]=[];Q4c=!{};o4c=+"0";for(var v4c="0"-0;v4c<this["locations"]["length"];v4c++){R4c["locations"]["push"](this["locations"][v4c]["toObject"](D4c));o4c+=this["locations"][v4c]["fakeColorsNum"];if(this["locations"][v4c]["processColors"]){Q4c=!![];}R4c["colorsList"]=z4c["Util"]["mergeArrays"](R4c["colorsList"],this["locations"][v4c]["colors"]);}if(!Q4c){R4c["colors"]=R4c["colorsList"]["length"]+o4c;;}else{R4c["colors"]="processColors";}R4c["isFullColor"]=Q4c;R4c["colorsNum"]=R4c["colorsList"]["length"]+o4c;if(this["namesNumbers"]["length"]>("0"|0))R4c["namesNumbers"]=z4c["Util"]["arrayToObjArray"](this["namesNumbers"]);return R4c;};function y4c(){this["productColor"]=null;this["productColors"]=null;this["productSize"]=null;this["locations"]=[];this["dpuExceeded"]=![];this["namesNumbers"]=[];}return y4c;}();t4c["QuoteVO"]=K4c;X4c=function(){k4c["prototype"]["addObject"]=function(V4c){var M4c;if(V4c["processColors"]){this["processColors"]=!![];}else if(V4c["fakeColorsNum"]>0){this["colorsCount"]+=V4c["fakeColorsNum"];this["fakeColorsNum"]+=V4c["fakeColorsNum"];}else{M4c=this["colors"]["length"];this["colors"]=z4c["Util"]["mergeArrays"](this["colors"],V4c["colors"]);this["colorsCount"]+=this["colors"]["length"]-M4c;}this["designedArea"]+=V4c["designedArea"]/Math["pow"](this["dpu"],+"2");if(!this["areaCoords"]){this["areaCoords"]=V4c["areaCoords"];}else if(V4c["areaCoords"]){this["areaCoords"][0]=Math["min"](this["areaCoords"][+"0"],V4c["areaCoords"][+"0"]);this["areaCoords"]["1"|0]=Math["min"](this["areaCoords"][+"1"],V4c["areaCoords"][+"1"]);this["areaCoords"]["2"-0]=Math["max"](this["areaCoords"]["2"*1],V4c["areaCoords"]["2"*1]);this["areaCoords"]["3"-0]=Math["max"](this["areaCoords"]["3"-0],V4c["areaCoords"]["3"|0]);}this["dpuExceeded"]=this["dpuExceeded"]||V4c["dpuExceed"];this["objects"]["push"](V4c);};k4c["prototype"]["toObject"]=function(j4c){var B4c,d4c,N4c,H4c,P4c;if(j4c===void 0){j4c=+"1";}if(!this["areaCoords"])this["areaCoords"]=["0"|0,+"0","0"*1,+"0"];B4c={};B4c["name"]=this["name"];if(this["processColors"]){B4c["colors"]="processColors";}else{B4c["colors"]=this["colorsCount"];}B4c["isFullColor"]=this["processColors"];B4c["colorsNum"]=this["colorsCount"];B4c["colorsList"]=this["colors"]["slice"](+"0");if(this["includeMeasurements"]){B4c["designedArea"]=this["designedArea"]["toFixed"]("2"-0);B4c["designedAreaRect"]=(this["areaCoords"][0]-this["areaCoords"][+"2"])*(this["areaCoords"]["1"*1]-this["areaCoords"]["3"*1])/(this["dpu"]*this["dpu"]);B4c["designedAreaRect"]=B4c["designedAreaRect"]["toFixed"](2);}B4c["objects"]=[];d4c=0;N4c=+"0";for(var i4c=0;i4c<this["objects"]["length"];i4c++){H4c=this["objects"][i4c];P4c={};P4c["type"]=H4c["type"];if(H4c["type"]==ObjectType["Text"]){d4c++;}else{N4c++;P4c["isUploaded"]=H4c["isUploaded"];}if(H4c["sourceId"]&&H4c["sourceId"]["length"]>"0"-0)P4c["id"]=H4c["sourceId"];if(H4c["text"]["length"]>0)P4c["text"]=H4c["text"];if(this["includeMeasurements"]){P4c["designedArea"]=(H4c["designedArea"]/Math["pow"](this["dpu"],+"2"))["toFixed"]("2"*1);}if(H4c["processColors"]){P4c["colors"]="processColors";P4c["colorsNum"]=0;}else if(H4c["fakeColorsNum"]==("0"|0)){P4c["colorsList"]=z4c["Util"]["mergeArrays"]([],H4c["colors"]["slice"]("0"|0));P4c["colorsNum"]=P4c["colorsList"]["length"];P4c["colors"]=P4c["colorsNum"];}else{P4c["colors"]=H4c["fakeColorsNum"];P4c["colorsNum"]=H4c["fakeColorsNum"];}P4c["isFullColor"]=H4c["processColors"];B4c["objects"]["push"](P4c);}B4c["objectCount"]=this["objects"]["length"];B4c["letterings"]=d4c;B4c["images"]=N4c;if(this["designedSize"]&&this["includeMeasurements"]){B4c["designedWidth"]=this["designedSize"]["width"];B4c["designedWidth"]=B4c["designedWidth"]["toFixed"](+"2");B4c["designedHeight"]=this["designedSize"]["height"];B4c["designedHeight"]=B4c["designedHeight"]["toFixed"](2);}return B4c;};k4c["prototype"]["toColorsCount"]=function(){var x4c;x4c=new t4c["ColorsCountVO"]();x4c["location"]=this["name"];x4c["count"]=this["colorsCount"];if(this["processColors"])x4c["count"]=-+"1";return x4c;};function k4c(g4c){this["name"]="";this["objects"]=[];this["colorsCount"]=+"0";this["fakeColorsNum"]=+"0";this["colors"]=[];this["areaCoords"]=null;this["designedArea"]=+"0";this["processColors"]=![];this["dpu"]="1"|0;this["dpuExceeded"]=!1;this["designedSize"]=null;this["includeMeasurements"]=!{};this["name"]=g4c["name"];this["dpu"]=g4c["dpu"];}return k4c;}();t4c["QuoteLocationVO"]=X4c;T4c=function(){function c4c(e4c){var Z4c,n4c,s4c;this["type"]="";this["sourceId"]="";this["text"]="";this["processColors"]=![];this["fakeColorsNum"]="0"*1;this["colors"]=[];this["areaCoords"]=null;this["designedArea"]=+"0";this["dpuExceed"]=![];this["isUploaded"]=![];this["sourceObj"]=e4c;this["type"]=e4c["type"];switch(this["type"]){case ObjectType["Text"]:Z4c=e4c["attr"]();this["text"]=Z4c["text"];n4c=Z4c["fill"];s4c=Z4c["stroke"];this["colors"]["push"](z4c["ColorUtils"]["normColor"](n4c));if(s4c&&s4c!="none"&&s4c!=n4c)this["colors"]["push"](z4c["ColorUtils"]["normColor"](s4c));break;case ObjectType["SVG"]:Z4c=e4c["attr"]();this["sourceId"]=e4c["getSourceId"]();if(Z4c['processColors']){this["processColors"]=!!"1";}else if(Z4c['colorsNumber']>+"0"){this["fakeColorsNum"]=Z4c['colorsNumber'];}else if(Z4c['colorsList']&&Z4c['colorsList']["length"]>"0"*1){for(var a4c=+"0";a4c<Z4c['colorsList']["length"];a4c++){this["colors"]["push"](z4c["ColorUtils"]["normColor"](Z4c['colorsList'][a4c]));}if(e4c["multicolor"]){for(var a4c="0"|0;a4c<e4c["complexColor"]["colorizeList"]["length"];a4c++){this["colors"]["push"](z4c["ColorUtils"]["normColor"](e4c["complexColor"]["colorizeList"][a4c]["value"]));}}}else if(Z4c['colorize']&&Z4c["fill"]){Z4c=e4c["attr"]();n4c=Z4c["fill"];s4c=Z4c["stroke"];this["colors"]["push"](z4c["ColorUtils"]["normColor"](n4c));if(s4c&&s4c!="none"&&s4c!=n4c)this["colors"]["push"](z4c["ColorUtils"]["normColor"](s4c));}else{if(e4c["multicolor"]){for(var a4c="0"|0;a4c<e4c["complexColor"]["colorizeList"]["length"];a4c++){this["colors"]["push"](z4c["ColorUtils"]["normColor"](e4c["complexColor"]["colorizeList"][a4c]["value"]));}}}break;case ObjectType["Image"]:Z4c=e4c["attr"]();this["sourceId"]=e4c["getSourceId"]();if(Z4c['processColors']){this["processColors"]=!!{};}if(Z4c['colorsNumber']>0){this["fakeColorsNum"]=Z4c['colorsNumber'];}else if(Z4c['colorsList']&&Z4c['colorsList']["length"]>+"0"){for(var a4c="0"*1;a4c<Z4c['colorsList']["length"];a4c++){this["colors"]["push"](z4c["ColorUtils"]["normColor"](Z4c['colorsList'][a4c]));}}break;}this["areaCoords"]=e4c["getAreaCoords"]();this["designedArea"]=e4c["getWidth"]()*e4c["getHeight"]();this["dpuExceed"]=e4c["dpuExceeded"];this["isUploaded"]=e4c["isUploaded"];}return c4c;}();t4c["QuoteObjectVO"]=T4c;}(I4c=z4c["VO"]||(z4c["VO"]={})));}(LAJS||(LAJS={})));(function(h4c){var S4c;(function(U4c){var l4c,Y4c,f4c,L4c;l4c=function(){function q4c(){this["colors"]=[];this["prices"]=[];this["objectsCount"]=new L4c();}return q4c;}();U4c["DesignInfoVO"]=l4c;Y4c=function(){function p4c(){}return p4c;}();U4c["ColorsCountVO"]=Y4c;f4c=function(){function u4c(){this["isTotal"]=![];}return u4c;}();U4c["PriceVO"]=f4c;L4c=function(){function F4c(){this["imagesCount"]=+"0";this["letteringsCount"]=0;}return F4c;}();U4c["ObjectsCountVO"]=L4c;}(S4c=h4c["VO"]||(h4c["VO"]={})));}(LAJS||(LAJS={})));(function(E4c){var r4c;(function(w4c){var b4c;b4c=function(){J4c["prototype"]["setPlaceOrderHandler"]=function(G9c){this["placeOrderHandler"]=G9c;};J4c["prototype"]["setQuantities"]=function(A9c){this["quantities"]=A9c;this["updatePrice"]();};J4c["prototype"]["setNamesNumbers"]=function(C9c){this["namesNumbers"]=C9c;this["updatePrice"]();};J4c["prototype"]["onConfigLoaded"]=function(I9c){var z9c;z9c=this;this["model"]["removeEventListener"](LAEvents["CONFIG_LOADED_EVENT"],function(t9c){return z9c["onConfigLoaded"](t9c);});this["model"]["addEventListener"](LAEvents["DESIGNER_CHANGED_EVENT"],function(K9c){return z9c["onDesignerChanged"](K9c);});};J4c["prototype"]["onDesignerChanged"]=function(X9c){w4c["controlsManager"]["setDesignSaved"](!"1");if(!this["ignoreChange"]){this["updateQuote"]();}};J4c["prototype"]["onProductColorChanged"]=function(){w4c["controlsManager"]["setDesignSaved"](!"1");if(!this["ignoreChange"]){this["updateQuote"]();}};J4c["prototype"]["onProductSizeChanged"]=function(){w4c["controlsManager"]["setDesignSaved"](!!"");if(!this["ignoreChange"]){this["updateQuote"]();}};J4c["prototype"]["updateQuote"]=function(T9c,y9c,R9c){if(T9c===void("0"-0)){T9c=![];}if(y9c===void("0"|0)){y9c=null;}if(R9c===void("0"-0)){R9c=!!0;}E4c["debug"]("order update quote");this["currentQuote"]=w4c["canvasManager"]["getQuote"]();this["updateQuoteNamesNumbers"](this["currentQuote"]);this["updateDesignInfo"](this["currentQuote"]);this["updatePrice"](this["currentQuote"],T9c,y9c,R9c);};J4c["prototype"]["updateDesignInfo"]=function(v9c){var g9c,o9c,D9c,k9c;E4c["debug"]("order update design info");if(v9c==null){v9c=w4c["canvasManager"]["getQuote"]();this["updateQuoteNamesNumbers"](v9c);}g9c=jQuery["map"](v9c["locations"],function(V9c){return V9c["toColorsCount"]();});o9c=+"0";D9c=+"0";for(var Q9c="0"-0;Q9c<v9c["locations"]["length"];Q9c++){k9c=v9c["locations"][Q9c]["toObject"]();o9c+=k9c["letterings"];D9c+=k9c["images"];}this["designInfo"]["colors"]=g9c;this["designInfo"]["objectsCount"]["letteringsCount"]=o9c;this["designInfo"]["objectsCount"]["imagesCount"]=D9c;w4c["controlsManager"]["setDesignInfo"](this["designInfo"]);};J4c["prototype"]["updatePrice"]=function(M9c,B9c,P9c,H9c){var i9c;i9c=this;if(B9c===void("0"-0)){B9c=!!"";}if(P9c===void("0"|0)){P9c=null;}if(H9c===void+"0"){H9c=!{};}if(M9c==null){M9c=w4c["canvasManager"]["getQuote"]();this["updateQuoteNamesNumbers"](M9c);}clearTimeout(this["timeout"]);if(H9c){this["_updatePrice"](M9c,B9c,P9c);}else{this["timeout"]=setTimeout(function(){i9c["_updatePrice"](M9c,B9c,P9c);},2000);}};J4c["prototype"]["_updatePrice"]=function(c9c,Z9c,d9c){var N9c,j9c,x9c;N9c=this;if(!w4c["configManager"]["config"]["getQuoteUrl"]){E4c["debug"]("order update price empty getQuoteUrl");this["onQuoteLoaded"]({'\x70\x72\x69\x63\x65\x73':"not available"},d9c);return;}E4c["debug"]("order update price call");j9c=c9c["toObject"](Z9c?w4c["configManager"]["config"]["options"]["dpi"]:"1"|0);j9c["quantities"]=this["quantities"];j9c["namesNumbers"]=this["namesNumbers"]["filter"](function(e9c){var a9c,s9c;a9c=e9c["name"]?e9c["name"]["length"]:+"0";s9c=e9c["numberText"]?e9c["numberText"]["length"]:"0"*1;return(a9c||s9c)>0;});if(w4c["configManager"]["config"]["useExternalServices"]){w4c["externalServices"]["quote"]["calculate"](j9c)["then"](function(n9c){N9c["onQuoteLoaded"](n9c,d9c);})["catch"](function(h9c){N9c["onQuoteFail"](h9c,d9c);});}else{jQuery["support"]["cors"]=!!1;x9c=E4c["Util"]["addTimeStamp"](w4c["configManager"]["config"]["getQuoteUrl"]);jQuery["post"](x9c,{'\x64\x61\x74\x61':JSON["stringify"](j9c)},function(S9c){return N9c["onQuoteLoaded"](S9c,d9c);},"json")["fail"](function(U9c,L9c,l9c){return N9c["onQuoteFailLegacy"](U9c,L9c,l9c,d9c);});}};J4c["prototype"]["onQuoteLoaded"]=function(Y9c,f9c){E4c["debug"]("order quote loaded");if(Y9c["prices"]){this["prices"]=Y9c["prices"];this["designInfo"]["prices"]=this["prices"];w4c["controlsManager"]["setDesignInfo"](this["designInfo"]);if(f9c!=null){f9c(!!"1");}}else if(Y9c["error"]){w4c["messageManager"]["getQuoteErrorMessage"](Y9c["error"]["message"]);}else{w4c["messageManager"]["getQuoteInvalidResponseErrorMessage"]();}};J4c["prototype"]["onQuoteFail"]=function(p9c,q9c){w4c["messageManager"]["failedToLoadQuote"](p9c["message"]);if(q9c!=null){q9c(!1);}};J4c["prototype"]["onQuoteFailLegacy"]=function(E9c,F9c,r9c,u9c){w4c["messageManager"]["failedToLoadQuote"](F9c);if(u9c!=null){u9c(!!0);}};J4c["prototype"]["setDesignNotes"]=function(w9c){this["designNotes"]=w9c;};J4c["prototype"]["getDesign"]=function(J9c,W9c){var b9c;if(J9c===void+"0"){J9c=![];}if(W9c===void+"0"){W9c=![];}b9c=w4c["canvasManager"]["getDesign"](W9c);b9c["quantities"]=this["quantities"];if(w4c["productManager"]["currentVariatedProduct"]&&w4c["productManager"]["currentVariatedProduct"]["namesNumbersEnabled"]){b9c["namesNumbers"]=this["namesNumbers"];}b9c["prices"]=this["prices"];b9c["notes"]=this["designNotes"];b9c["strict"]=w4c["canvasManager"]["isDesignStrict"]();if(w4c["saveLoadManager"]["currentDesign"]&&w4c["saveLoadManager"]["currentDesign"]["templateId"]){b9c["templateId"]=w4c["saveLoadManager"]["currentDesign"]["templateId"];}if(w4c["saveLoadManager"]["currentDesign"]&&w4c["saveLoadManager"]["currentDesign"]["hasChanges"]){b9c["hasChanges"]=w4c["saveLoadManager"]["currentDesign"]["hasChanges"];}if(J9c){this["updateQuote"]();}return b9c;};J4c["prototype"]["setDesign"]=function(m5c,O5c,G5c,A5c,C5c){if(O5c===void("0"-0)){O5c=!"1";}if(G5c===void("0"*1)){G5c=!{};}if(A5c===void("0"-0)){A5c=!![];}if(C5c===void 0){C5c=![];}return __awaiter(this,void+"0",void+"0",function(){var z5c;z5c=this;return __generator(this,function(I5c){switch(I5c["label"]){case"0"-0:this["ignoreChange"]=!!{};this["model"]["addEventListener"](LAEvents["DESIGN_READY_EVENT"],function(t5c){return z5c["onDesignReady"](t5c);});return["4"|0,w4c["canvasManager"]["setDesign"](m5c,O5c,A5c,C5c)];case 1:I5c["sent"]();if(!(!O5c&&m5c["product"]))return[+"3","3"|0];return[+"4",w4c["productManager"]["setDesign"](m5c,!![])];case"2"|0:I5c["sent"]();this["quantities"]=m5c["quantities"];this["prices"]=m5c["prices"];this["designNotes"]=m5c["notes"];if(m5c["prices"]){this["designInfo"]["prices"]=m5c["prices"];w4c["controlsManager"]["setDesignInfo"](this["designInfo"]);}this["namesNumbers"]=m5c["namesNumbers"];w4c["controlsManager"]["setNamesNumbers"](this["namesNumbers"]);this["updateDesignNotes"]();I5c["label"]=+"3";case 3:w4c["controlsManager"]["setIsTemplate"](G5c);this["model"]["dispatchEvent"](new E4c["Events"]["Event"](LAEvents["DESIGN_READY_EVENT"],this));return[2];}});});};function J4c(m9c){var W4c;W4c=this;this["quantities"]=[];this["namesNumbers"]=[];this["designInfo"]=new E4c["VO"]["DesignInfoVO"]();this["prices"]=[];this["designNotes"]='';this["model"]=m9c;this["model"]["addEventListener"](LAEvents["CONFIG_LOADED_EVENT"],function(O9c){return W4c["onConfigLoaded"](O9c);});}J4c["prototype"]["onDesignReady"]=function(X5c){var K5c;K5c=this;this["model"]["removeEventListener"](LAEvents["DESIGN_READY_EVENT"],function(T5c){return K5c["onDesignReady"](T5c);});this["ignoreChange"]=!{};this["updateQuote"]();};J4c["prototype"]["placeOrder"]=function(){var y5c;y5c=this;E4c["debug"]("order place order");this["updateQuote"](![],function(R5c){return y5c["onGetQuoteForPlaceOrder"](R5c);},!!1);};J4c["prototype"]["onSaveDesignForPlaceOrder"]=function(Q5c){var v5c;E4c["debug"]("order order design saved: "+Q5c);if(Q5c==!!{}){if(this["placeOrderHandler"]){this["placeOrderHandler"](this["model"]["saveLoadManager"]["currentDesign"]["id"]);}else if(w4c["configManager"]["config"]["redirectUrl"]!=""){v5c=w4c["configManager"]["config"]["redirectUrl"]["replace"]("${design_id}",w4c["saveLoadManager"]["currentDesign"]["id"]);switch(w4c["configManager"]["config"]["redirectWindow"]){case"parent":window["parent"]["location"]["assign"](v5c);break;case"top":window["top"]["location"]["assign"](v5c);break;default:window["location"]["assign"](v5c);break;}}else{w4c["messageManager"]["orderPlacedMessage"]();}}else{w4c["controlsManager"]["showPlaceOrderPreloader"](!"1");if(this["placeOrderHandler"]){this["placeOrderHandler"](!{});}else{w4c["controlsManager"]["setPlaceOrderFail"](!!{});}}};J4c["prototype"]["onGetQuoteForPlaceOrder"]=function(o5c){E4c["debug"]("order order guote updated: "+o5c);if(o5c==!!"1"){if(this["currentQuote"]["dpuExceeded"]){E4c["debug"]("order dpu exceeded");w4c["controlsManager"]["showDPUExceededDialog"]();}else{this["saveDesignForPlaceOrder"]();}}else{if(this["placeOrderHandler"]){this["placeOrderHandler"](![]);}}};J4c["prototype"]["saveDesignForPlaceOrder"]=function(){var D5c;D5c=this;w4c["controlsManager"]["showPlaceOrderPreloader"](!"");w4c["saveLoadManager"]["saveDesignForOrder"](w4c["saveLoadManager"]["currentDesign"]["name"],this["currentQuote"])["then"](function(){return D5c["onSaveDesignForPlaceOrder"](!![]);})["catch"](function(k5c){D5c["onSaveDesignForPlaceOrder"](!1);throw k5c;})["catch"](commonPromiseErrorHandler);};J4c["prototype"]["updateDesignNotes"]=function(){w4c["controlsManager"]["setDesignNotes"](this["designNotes"]);};J4c["prototype"]["updateQuoteNamesNumbers"]=function(g5c){if(w4c["productManager"]["currentVariatedProduct"]&&w4c["productManager"]["currentVariatedProduct"]["namesNumbersEnabled"])g5c["namesNumbers"]=this["namesNumbers"];else g5c["namesNumbers"]=this["namesNumbers"];};return J4c;}();w4c["OrderManager"]=b4c;}(r4c=E4c["Model"]||(E4c["Model"]={})));}(LAJS||(LAJS={})));(function(V5c){var M5c;(function(B5c){var P5c;P5c=function(){H5c["prototype"]["authorize"]=function(d5c){if(d5c===void+"0"){d5c="";}V5c["debug"]("authorize, email: "+d5c);if(V5c["Util"]["isNullOrEmpryOrNA"](d5c)){this["ensureAuthorize"]();}else{this["doAuthorize"](d5c);}};H5c["prototype"]["doAuthorize"]=function(N5c){if(V5c["Util"]["isNullOrEmpryOrNA"](N5c))return!{};this["email"]=N5c;this["isAuthorized"]=!!{};this["model"]["dispatchEvent"](new V5c["Events"]["Event"](LAEvents["AUTH_EVENT"],this));return!!{};};function H5c(i5c){this["isAuthorized"]=![];this["model"]=i5c;}H5c["prototype"]["ensureAuthorize"]=function(){if(this["isAuthorized"])return Promise["resolve"]();return this["ensureAuthorizeWithData"](function(){B5c["controlsManager"]["showAuthDialog"]();});};H5c["prototype"]["ensureAuthorizeWithData"]=function(x5c){var j5c;j5c=this;return new Promise(function(c5c,Z5c){x5c();B5c["dialogManager"]["waitDialogResult"]()["then"](function(e5c){if(j5c["doAuthorize"](e5c["authorize"]))c5c(e5c);else Z5c();});});};return H5c;}();B5c["AuthManager"]=P5c;}(M5c=V5c["Model"]||(V5c["Model"]={})));}(LAJS||(LAJS={})));(function(a5c){var s5c;(function(h5c){var n5c;n5c=function(){S5c["prototype"]["getJSON"]=function(L5c,U5c){if(U5c===void("0"-0)){U5c=null;}return this["ajaxJson"]("GET",L5c,null,U5c);};S5c["prototype"]["postJSON"]=function(Y5c,f5c,l5c){if(l5c===void("0"|0)){l5c=null;}return this["ajaxJson"]("POST",Y5c,f5c,l5c);};function S5c(){}S5c["prototype"]["ajaxJson"]=function(w5c,p5c,q5c,u5c){var E5c,F5c,r5c;if(q5c===void+"0"){q5c=null;}if(u5c===void 0){u5c=null;}jQuery["support"]["cors"]=!!{};E5c=!!1;F5c={'\x64\x61\x74\x61\x54\x79\x70\x65':"json",'\x75\x72\x6c':E5c?a5c["Util"]["addTimeStamp"](p5c):p5c,'\x74\x79\x70\x65':w5c};if(q5c!=null)F5c["data"]=q5c;r5c=jQuery["ajax"](F5c);return Promise["resolve"](r5c)["catch"](function(b5c){console["error"]("LiveArt ajax: fail to post %O to '%s'",q5c,p5c);return Promise["reject"](new Error(b5c["statusText"]));})["then"](S5c["validateErrorInReponse"])["then"](function(J5c){return schemaValidator["promiseValidated"](J5c,u5c);});};S5c["validateErrorInReponse"]=function(W5c){if(W5c["error"])return Promise["reject"](new Error(W5c["error"]["message"]));else return Promise["resolve"](W5c);};return S5c;}();h5c["AjaxHelper"]=n5c;;h5c["ajaxHelper"]=new n5c();}(s5c=a5c["Utils"]||(a5c["Utils"]={})));}(LAJS||(LAJS={})));(function(m2c){var O2c;(function(G2c){var I2c,C2c,A2c,z2c;I2c=function(){t2c["prototype"]["initLocalAutosave"]=function(){var o2c;o2c=this;if(!this["model"])return;this["model"]["addEventListener"](LAEvents["DESIGNER_CHANGED_EVENT"],function(){return o2c["saveDesignToBrowserStorage"]();});this["saveLocalDesignTimer"]();};t2c["prototype"]["shareDesign"]=function(){m2c["debug"]("saveLoad share design: "+name);if(!G2c["configManager"]["config"]["saveDesignUrl"])return;PromiseUtils["TryCatch"](this["saveDesignInternal"](A2c["SHARED"],"")["then"](function(k2c){var D2c;D2c=G2c["configManager"]["config"]["shareLinkUrl"]["replace"]("${design_id}",k2c["design"]["id"]);G2c["controlsManager"]["showShareLink"](D2c);}));};t2c["prototype"]["saveDesign"]=function(V2c){var g2c;g2c=this;PromiseUtils["TryCatch"](this["ensureAuthorizeAndSavedDesignName"](V2c)["then"](function(M2c){return g2c["saveDesignInternal"](A2c["SAVED"],M2c);})["then"](function(){return G2c["messageManager"]["designSavedMessage"](g2c["currentDesign"]["title"]||"");}));};t2c["prototype"]["saveTemplate"]=function(P2c,B2c){var H2c,i2c;H2c=this;if(!G2c["configManager"]["config"]["saveTemplateUrl"]){return;}m2c["debug"]("saveLoad save design: "+P2c);i2c=this["buildSaveDesignRequest"](!B2c||B2c===G2c["configManager"]["complexArtProductId"]?z2c["DESIGN_IDEA"]:z2c["TEMPLATE"],P2c,null,B2c);G2c["controlsManager"]["setPreloaderStatus"](!0,G2c["messageManager"]["savingTemplateTranslation"]());return m2c["Utils"]["ajaxHelper"]["postJSON"](G2c["configManager"]["config"]["saveTemplateUrl"],i2c,SchemaNames["SAVE_TEMPLATE_RESPONSE"])["then"](function(d2c){var N2c;m2c["debug"]("saveLoad template saved");if(d2c["template"]["name"]){G2c["messageManager"]["templateSavedMessage"](d2c["template"]["name"]);}else{G2c["messageManager"]["templateUpdatedMessage"]();}G2c["controlsManager"]["setPreloaderStatus"](!"1");if(d2c&&d2c["template"]&&d2c["template"]["id"]){H2c["currentDesign"]=m2c["Util"]["copyObject"](d2c["template"]);}N2c=document["createEvent"]("Event");N2c["initEvent"]("liveart-template-saved",!"",!"1");N2c["value"]=d2c;document["dispatchEvent"](N2c);return d2c;})["catch"](function(){G2c["controlsManager"]["setPreloaderStatus"](!1);G2c["messageManager"]["failedToSaveTemplateMessage"]();});};t2c["prototype"]["saveDesignForOrder"]=function(j2c,x2c){return this["saveDesignInternal"](A2c["ORDERED"],j2c,x2c);};t2c["prototype"]["loadDesign"]=function(e2c,a2c,c2c,s2c,n2c,h2c,S2c){var Z2c;Z2c=this;if(a2c===void 0){a2c=![];}if(c2c===void+"0"){c2c=!"1";}if(s2c===void+"0"){s2c=!![];}if(n2c===void("0"*1)){n2c=!!0;}if(h2c===void("0"|0)){h2c=!!{};}if(S2c===void+"0"){S2c=!{};}m2c["debug"]("saveLoad load design: "+e2c);if(!this["model"]["configManager"]["config"]["loadDesignUrl"])return;return this["ensureAuthorize"](a2c)["then"](function(){var U2c;if(!a2c){Z2c["model"]["dispatchEvent"](new m2c["Events"]["LoadDesignStatusEvent"](LoadDesignStatus["STARTED"]));}else if(c2c){G2c["controlsManager"]["setPreloaderStatus"](!![],G2c["messageManager"]["loadingTranslation"]());}U2c=Z2c["model"]["configManager"]["config"]["loadDesignUrl"]["replace"]("${design_id}",e2c);return m2c["Utils"]["ajaxHelper"]["getJSON"](U2c,SchemaNames["LOAD_DESIGN_RESPONSE"]);})["then"](function(L2c){return __awaiter(Z2c,void+"0",void+"0",function(){var f2c,l2c,Y2c,q2c,p2c;f2c=this;return __generator(this,function(u2c){switch(u2c["label"]){case"0"|0:this["model"]["dispatchEvent"](new m2c["Events"]["LoadDesignStatusEvent"](LoadDesignStatus["COMPLETED"]));G2c["controlsManager"]["setPreloaderStatus"](!{});m2c["debug"]("saveLoad design loaded");this["currentDesign"]={'\x69\x64':e2c};if(c2c){this["currentDesign"]["templateId"]=e2c;}l2c="";if(L2c["data"]){Y2c=L2c["data"]["design"];if(Y2c){this["currentDesign"]["type"]=Y2c["type"];this["currentDesign"]["strict"]=L2c["data"]["strict"];if(Y2c["title"]){l2c=Y2c["title"];}}if(!c2c){if(L2c["data"]["templateId"]){this["currentDesign"]["templateId"]=L2c["data"]["templateId"];}else{delete this["currentDesign"]["templateId"];}}this["currentDesign"]["title"]=l2c;}G2c["controlsManager"]["setCurrentDesign"](this["currentDesign"]);if(s2c){if(l2c){G2c["messageManager"]["designLoadedMessage"](l2c);}else{G2c["messageManager"]["designLoadedWithoutTitleMessage"]();}}q2c=this["parseDesignJSON"](L2c["data"]);return["4"|0,G2c["orderManager"]["setDesign"](q2c,c2c,n2c,h2c,S2c)];case"1"*1:u2c["sent"]();delete this["currentDesign"]["hasChanges"];p2c=function(){f2c["currentDesign"]["hasChanges"]=!!{};f2c["model"]["removeEventListener"](LAEvents["DESIGNER_CHANGED_EVENT"],p2c);};this["model"]["addEventListener"](LAEvents["DESIGNER_CHANGED_EVENT"],p2c);return[+"2",q2c];}});});})["catch"](function(F2c){G2c["controlsManager"]["setPreloaderStatus"](![]);Z2c["model"]["dispatchEvent"](new m2c["Events"]["LoadDesignStatusEvent"](LoadDesignStatus["FAILED"]));if(c2c){Z2c["model"]["messageManager"]["failedToLoadDesignTemplateMessage"]();}else{Z2c["model"]["messageManager"]["failedToLoadDesignMessage"]();}commonPromiseErrorHandler(PromiseUtils["addUserError"](c2c?"Failed to load design template":"Failed to load design",F2c));return null;});};t2c["prototype"]["loadTemplate"]=function(E2c){return __awaiter(this,void("0"-0),void("0"*1),function(){var W2c,r2c,m05,w2c,b2c,O05,J2c,G05;W2c=this;return __generator(this,function(A05){switch(A05["label"]){case+"0":return["4"-0,G2c["configManager"]["getComplexArtList"]()];case"1"|0:r2c=A05["sent"]();m05=r2c&&r2c["templates"]&&r2c["templates"]["filter"](function(C05){return C05["id"]===E2c;})["length"]>+"0";if(!(this["currentDesign"]["templateId"]&&!this["currentDesign"]["hasChanges"]||(!this["currentDesign"]["templateId"]&&G2c["controlsManager"]["designSaved"]||!G2c["canvasManager"]["hasAnyObjects"]())))return["3"-0,+"3"];return["4"*1,G2c["saveLoadManager"]["loadDesign"](E2c,!!{},!"",!{})];case"2"-0:A05["sent"]();return[+"3",+"11"];case"3"|0:if(!m05)return["3"-0,+"9"];w2c=G2c["messageManager"]["replaceCurrentDesignOption"]();b2c=G2c["messageManager"]["addDesignOption"]();O05=G2c["messageManager"]["cancelOption"]();return[+"4",m2c["Model"]["controlsManager"]["showActionDialog"](G2c["messageManager"]["loadTemplate"](),G2c["messageManager"]["existingDesignDialogueAction"](),[w2c,b2c,O05])];case+"4":J2c=A05["sent"]();if(!(J2c===w2c))return[3,6];return[+"4",G2c["saveLoadManager"]["loadDesign"](E2c,!!"1",!!{},!{})];case+"5":A05["sent"]();return[+"3",8];case+"6":if(!(J2c===b2c))return["3"*1,8];return[4,G2c["saveLoadManager"]["loadDesign"](E2c,!!{},!![],![],![],!{})];case 7:A05["sent"]();this["currentDesign"]["hasChanges"]=!![];A05["label"]=+"8";case"8"|0:return["3"*1,+"11"];case"9"*1:G05=function(){return __awaiter(W2c,void+"0",void+"0",function(){var z05;return __generator(this,function(I05){switch(I05["label"]){case"0"*1:return[+"4",G2c["dialogManager"]["askDesignNotSupportedOnTemplateChange"]()];case"1"-0:z05=I05["sent"]();if(!z05)return[+"3",3];return["4"-0,G2c["saveLoadManager"]["loadDesign"](E2c,!!{},!"",![])];case"2"|0:I05["sent"]();I05["label"]=+"3";case+"3":return["2"|0];}});});};return["4"|0,G05()];case+"10":A05["sent"]();A05["label"]=+"11";case+"11":return[+"2"];}});});};t2c["prototype"]["loadDesignsList"]=function(t05){if(!G2c["configManager"]["config"]["getDesignsUrl"])return;m2c["debug"]("saveLoad load designs");PromiseUtils["TryCatch"](this["ensureAuthorize"]()["then"](function(){var K05;G2c["controlsManager"]["setPreloaderStatus"](!"");K05=G2c["configManager"]["config"]["getDesignsUrl"];K05=m2c["Util"]["replaceGetParam"](K05,"email",G2c["authManager"]["email"]);if(t05)K05=m2c["Util"]["replaceGetParam"](K05,"product_id",t05);return m2c["Utils"]["ajaxHelper"]["getJSON"](K05,SchemaNames["DESIGNS_LIST_RESPONSE"]);})["then"](function(X05){G2c["controlsManager"]["setPreloaderStatus"](!!"");G2c["controlsManager"]["showLoadDesignsDialog"](X05["designs"]);})["catch"](function(T05){G2c["messageManager"]["failedToLoadDesignListMessage"]();return PromiseUtils["addUserError"]("Failed to load design list",T05);}));};t2c["prototype"]["loadTemplatesList"]=function(y05,R05){var v05;v05=this;if(y05===void("0"|0)){y05="";}if(R05===void+"0"){R05=!!"1";}return new Promise(function(Q05,o05){if(!G2c["configManager"]["config"]["getTemplatesUrl"]){Q05({'\x63\x61\x74\x65\x67\x6f\x72\x69\x65\x73':[],'\x74\x65\x6d\x70\x6c\x61\x74\x65\x73':[]});return;}m2c["debug"]("saveLoad load templates");PromiseUtils["TryCatch"](v05["ensureAuthorize"](!!"1")["then"](function(){var D05;if(R05)G2c["controlsManager"]["setPreloaderStatus"](!![]);D05=G2c["configManager"]["config"]["getTemplatesUrl"];D05=m2c["Util"]["replaceGetParam"](D05,"product_id",y05);return m2c["Utils"]["ajaxHelper"]["getJSON"](D05,SchemaNames["TEMPLATES_LIST_RESPONSE"]);})["then"](function(k05){var g05,V05;G2c["controlsManager"]["setPreloaderStatus"](!!"");if(k05["templatesCategoriesList"]){g05=m2c["Util"]["parseArray"](k05["templatesCategoriesList"],m2c["VO"]["TemplateCategoryVO"]);V05=v05["processTemplateCategories"](g05);}else{if(k05["templatesList"]){V05=m2c["Util"]["parseArray"](k05["templatesList"],m2c["VO"]["TemplateVO"]);}}Q05({'\x74\x65\x6d\x70\x6c\x61\x74\x65\x73':V05,'\x63\x61\x74\x65\x67\x6f\x72\x69\x65\x73':g05});})["catch"](function(M05){G2c["controlsManager"]["setPreloaderStatus"](!{});G2c["messageManager"]["failedToLoadTemplateListMessage"]();PromiseUtils["addUserError"]("Failed to load template list",M05);Q05([]);}));});};t2c["prototype"]["saveDesignInternal"]=function(B05,i05,H05){var P05,d05;P05=this;if(H05===void("0"-0)){H05=null;}if(!G2c["configManager"]["config"]["saveDesignUrl"]){return;}m2c["debug"]("saveLoad save design: "+i05);if(B05===A2c["SAVED"]){G2c["controlsManager"]["setPreloaderStatus"](!!{},G2c["messageManager"]["savingDesignTranslation"]());}else if(B05===A2c["SHARED"]){G2c["controlsManager"]["setPreloaderStatus"](!!1,G2c["messageManager"]["sharingDesignTranslation"]());}d05=this["buildSaveDesignRequest"](B05,i05,B05===A2c["SHARED"]?null:H05);return m2c["Utils"]["ajaxHelper"]["postJSON"](G2c["configManager"]["config"]["saveDesignUrl"],d05,SchemaNames["SAVE_DESIGN_RESPONSE"])["then"](function(j05){var N05,x05,c05;m2c["debug"]("saveLoad design saved");G2c["controlsManager"]["setPreloaderStatus"](![]);G2c["controlsManager"]["setDesignSaved"](!![]);N05=P05["currentDesign"],x05=N05["templateId"],c05=N05["strict"];P05["currentDesign"]=__assign({'\x74\x65\x6d\x70\x6c\x61\x74\x65\x49\x64':x05,'\x73\x74\x72\x69\x63\x74':c05},j05["design"]);P05["clearLocalDesign"]();return j05;})["catch"](function(Z05){G2c["controlsManager"]["setPreloaderStatus"](!{});switch(B05){case A2c["SHARED"]:G2c["messageManager"]["failedToShareDesignMessage"]();break;case A2c["ORDERED"]:G2c["messageManager"]["failedToPlaceOrderMessage"]();break;case A2c["SAVED"]:default:G2c["messageManager"]["failedToSaveDesignMessage"]();break;}return PromiseUtils["addUserError"]("Failed to save design (action: "+B05+")",Z05);});};t2c["prototype"]["buildSaveDesignRequest"]=function(a05,S05,s05,n05){var e05,h05;if(s05===void("0"*1)){s05=null;}e05={};h05=G2c["orderManager"]["getDesign"]();e05["email"]=G2c["authManager"]["email"];if(a05==z2c["TEMPLATE"]||a05==z2c["DESIGN_IDEA"]){e05["name"]=S05;if(n05&&n05["length"]>+"0"){e05["productId"]=n05;}h05["strict"]=m2c["Model"]["canvasManager"]["isDesignStrict"]();}else{e05["title"]=S05;}e05["type"]=a05;e05["data"]=h05["toJSON"]();if(a05!==A2c["SHARED"]){if(s05)e05["quote"]=JSON["stringify"](s05["toObject"]());if(this["currentDesign"]&&this["currentDesign"]["id"]&&this["currentDesign"]["id"]["length"]>+"0"){e05["id"]=this["currentDesign"]["id"];}}if(this["model"]["adminMode"]&&a05==z2c["TEMPLATE"]){this["model"]["controlsManager"]["setTemplateIsBeingEdited"](!!"1");}return e05;};function t2c(X2c){var K2c;K2c=this;this["currentDesign"]={};this["SAVE_LOCAL_DESIGN_DELAY"]="1500"|0;this["saveLocalDesignNeed"]=!{};this["processTemplateCategories"]=function(Q2c){var T2c,R2c;T2c=[];if(Q2c){for(var y2c=+"0";y2c<Q2c["length"];y2c++){R2c=Q2c[y2c];for(var v2c="0"|0;v2c<R2c["templates"]["length"];v2c++){T2c["push"](R2c["templates"][v2c]);}T2c=T2c["concat"](K2c["processTemplateCategories"](R2c["categories"]));}}return T2c;};this["model"]=X2c;this["initLocalAutosave"]();}t2c["prototype"]["ensureAuthorize"]=function(U05){if(U05===void("0"*1)){U05=!{};}return U05?Promise["resolve"]():G2c["authManager"]["ensureAuthorize"]();};t2c["prototype"]["ensureDesignName"]=function(L05){return this["ensureAuthorizeAndSavedDesignName"](L05,!!"1");};t2c["prototype"]["ensureAuthorizeAndSavedDesignName"]=function(f05,q05){var Y05,l05;if(q05===void+"0"){q05=!"1";}Y05=!q05&&!G2c["authManager"]["isAuthorized"];l05=m2c["Util"]["isNullOrEmpryOrNA"](f05);if(!Y05&&!l05)return Promise["resolve"](f05);this["showEnsureDialog"](Y05,l05);return G2c["dialogManager"]["waitDialogResult"]()["then"](function(p05){if(Y05&&!G2c["authManager"]["doAuthorize"](p05["authorize"]))throw new Error("Auth failed");if(l05&&m2c["Util"]["isNullOrEmpryOrNA"](p05["saveDesign"]))throw new Error("Empty design name");return l05?p05["saveDesign"]:f05;});};t2c["prototype"]["showEnsureDialog"]=function(u05,F05){if(u05&&F05)G2c["controlsManager"]["showAuthAndSaveDialog"]();else if(u05)G2c["controlsManager"]["showAuthDialog"]();else if(F05)G2c["controlsManager"]["showSaveDesignDialog"]();};t2c["prototype"]["saveDesignToBrowserStorage"]=function(){this["saveLocalDesignNeed"]=!!1;};t2c["prototype"]["getLocalDesign"]=function(){var E05,r05;E05=null;if(G2c["saveLoadManager"]["isLocalDesignValid"]()){try{r05=G2c["browserStorageManager"]["getSessionValue"](C2c["DESIGN_KEY"]);E05=this["parseDesignJSON"](JSON["parse"](r05));}catch(w05){m2c["debug"]("saveLoad load design local error:",w05["name"],w05["message"]);}}return E05;};t2c["prototype"]["isLocalDesignValid"]=function(){var W05,J05,m85,O85,G85,b05;if(this["model"]["adminMode"])return!!0;W05=+"604800000";J05=parseInt(G2c["browserStorageManager"]["getSessionValue"](C2c["DESIGN_DATE_KEY"]));m85=!isNaN(J05)&&Date["now"]()-J05<W05;O85=G2c["browserStorageManager"]["getSessionValue"](C2c["DESIGN_URL_KEY"])===window["location"]["href"];G85=G2c["browserStorageManager"]["getSessionValue"](C2c["IS_DESIGN_SAVED_KEY"])==="true";b05=![];try{JSON["parse"](G2c["browserStorageManager"]["getSessionValue"](C2c["DESIGN_KEY"]));b05=!!{};}catch(A85){b05=!1;}if(G85)return!{};if(!b05)return!!"";if(O85&&m85){return!!1;}return![];};t2c["prototype"]["saveLocalDesignTimer"]=function(){var C85;C85=this;setInterval(function(){var z85;if(C85["saveLocalDesignNeed"]){z85=Date()["toString"]();C85["saveLocalDesignNeed"]=!1;G2c["saveLoadManager"]["saveDesignLocal"]();}},this["SAVE_LOCAL_DESIGN_DELAY"]);};t2c["prototype"]["saveDesignLocal"]=function(){var I85,t85;m2c["debug"]("saveLoad save design local: ");I85=G2c["orderManager"]["getDesign"](!0,!!"1");t85=I85["toString"]();G2c["browserStorageManager"]["setSessionValue"](C2c["DESIGN_KEY"],t85);G2c["browserStorageManager"]["setSessionValue"](C2c["DESIGN_DATE_KEY"],Date["now"]()["toString"]());G2c["browserStorageManager"]["setSessionValue"](C2c["DESIGN_URL_KEY"],window["location"]["href"]);};t2c["prototype"]["clearLocalDesign"]=function(){G2c["browserStorageManager"]["clearSessionStorage"]();};t2c["prototype"]["parseDesignJSON"]=function(K85){var X85,R85,y85;X85=new m2c["VO"]["DesignVO"]();if(K85["product"]){X85["product"]=G2c["configManager"]["getProductById"](K85["product"]["id"]);X85["productVariation"]=X85["product"]["getVariation"](K85["variationId"]);if(K85["product"]["color"]){X85["productColor"]=X85["product"]["getColor"](K85["product"]["color"]);}if(K85["product"]["size"]){X85["productSize"]=new m2c["VO"]["ProductCanvasSizeVO"](K85["product"]["size"]);}if(K85["selectedUnit"]){X85["selectedUnit"]=K85["selectedUnit"];}R85=m2c["Util"]["parseArray"](K85["locations"],m2c["VO"]["DesignLocationVO"]);for(var T85="0"-0;T85<X85["product"]["locations"]["length"];T85++){y85=m2c["Util"]["arrayFind"](R85,"name",X85["product"]["locations"][T85]["name"]);if(y85){X85["svgs"]["push"](y85["svg"]?y85["svg"]:"");}else{X85["svgs"]["push"]("");}}}else{R85=m2c["Util"]["parseArray"](K85["locations"],m2c["VO"]["DesignLocationVO"]);for(var T85="0"|0;T85<R85["length"];T85++){y85=R85[T85];if(y85){X85["svgs"]["push"](y85["svg"]?y85["svg"]:"");}else{X85["svgs"]["push"]("");}}}if(K85["quantities"]){X85["quantities"]=K85["quantities"];}if(K85["prices"]){X85["prices"]=K85["prices"];}if(K85["namesNumbers"]){X85["namesNumbers"]=m2c["Util"]["parseArray"](K85["namesNumbers"],m2c["VO"]["NamesNumbersVO"]);}if(K85["strict"]){X85["strict"]=K85["strict"];}if(K85["templateId"]){X85["templateId"]=K85["templateId"];}if(K85["hasChanges"]){X85["hasChanges"]=K85["hasChanges"];}if(K85["notes"]){X85["notes"]=K85["notes"];}else{X85["notes"]="";}return X85;};return t2c;}();G2c["SaveLoadManager"]=I2c;(function(v85){v85["DESIGN_KEY"]="laDesign";v85["DESIGN_DATE_KEY"]="laDesignDate";v85["DESIGN_URL_KEY"]="laDesignUrl";v85["IS_DESIGN_SAVED_KEY"]="laDesignSaved";}(C2c=G2c["SaveLoadConst"]||(G2c["SaveLoadConst"]={})));(function(Q85){Q85["SHARED"]="shared";Q85["SAVED"]="saved";Q85["ORDERED"]="ordered";}(A2c=G2c["DesignType"]||(G2c["DesignType"]={})));(function(o85){o85["DEFAULT"]="saved";o85["SHARED"]="shared";o85["TEMPLATE"]="template";o85["DESIGN_IDEA"]="design idea";}(z2c=G2c["DesignTypes"]||(G2c["DesignTypes"]={})));}(O2c=m2c["Model"]||(m2c["Model"]={})));}(LAJS||(LAJS={})));(function(D85){var k85;(function(g85){var V85,M85;V85=D85["Util"]["mergeTemplateCategories"];M85=function(){B85["prototype"]["processProductChange"]=function(H85,i85){if(i85===void+"0"){i85=!!1;}return __awaiter(this,void("0"-0),void("0"-0),function(){var x85,d85,N85,j85,c85,Z85,e85;x85=this;return __generator(this,function(a85){switch(a85["label"]){case 0:d85=g85["configManager"]["getProductById"](H85);N85=function(){return __awaiter(x85,void+"0",void("0"-0),function(){var s85;return __generator(this,function(n85){switch(n85["label"]){case 0:return[+"4",g85["dialogManager"]["askDesignNotSupportedOnProductChange"]()];case 1:s85=n85["sent"]();if(!s85)return[+"3","3"*1];return[4,g85["productManager"]["setProduct"](H85,!!{},![],!!0,!!"1")];case+"2":n85["sent"]();n85["label"]=+"3";case+"3":return[+"2"];}});});};if(!g85["canvasManager"]["hasAnyObjects"]())return[+"3",+"15"];if(!g85["canvasManager"]["isDesignStrict"]())return[+"3",2];return[4,N85()];case+"1":a85["sent"]();return["3"*1,"14"-0];case+"2":if(!(typeof d85["defaultTemplateId"]==="string"&&d85["defaultTemplateId"]["length"]))return["3"*1,+"12"];j85=!"1";g85["controlsManager"]["setPreloaderStatus"](!!"1",g85["messageManager"]["loading"]());a85["label"]=+"3";case 3:a85["trys"]["push"](["3"-0,+"5",6,7]);c85=this["model"]["configManager"]["config"]["loadDesignUrl"]["replace"]("${design_id}",d85["defaultTemplateId"]);return["4"|0,D85["Utils"]["ajaxHelper"]["getJSON"](c85,SchemaNames["LOAD_DESIGN_RESPONSE"])];case+"4":Z85=a85["sent"]();if(Z85["data"]["strict"]){j85=!!1;}return[3,"7"|0];case+"5":e85=a85["sent"]();console["error"](e85);return[+"3","7"|0];case"6"*1:g85["controlsManager"]["setPreloaderStatus"](![]);return[7];case"7"-0:if(!j85)return[+"3","9"|0];return[+"4",N85()];case"8"*1:a85["sent"]();return[+"3",11];case+"9":return[+"4",g85["productManager"]["setProduct"](H85,!!{},!{},!"")];case 10:a85["sent"]();g85["canvasManager"]["fitCurrentDesign"]();a85["label"]=11;case 11:return["3"*1,+"14"];case"12"|0:return[4,g85["productManager"]["setProduct"](H85,!!1)];case 13:a85["sent"]();g85["canvasManager"]["fitCurrentDesign"]();a85["label"]=+"14";case"14"|0:return["3"-0,"17"|0];case+"15":return[+"4",g85["productManager"]["setProduct"](H85,!![])];case 16:a85["sent"]();a85["label"]="17"*1;case+"17":g85["historyManager"]["saveStatus"]();return["2"-0];}});});};B85["prototype"]["setProduct"]=function(S85,U85,h85,L85,l85,Y85,f85){if(U85===void+"0"){U85=!1;}if(h85===void 0){h85=!{};}if(L85===void("0"*1)){L85=!1;}if(l85===void("0"-0)){l85=!{};}if(Y85===void("0"*1)){Y85=!![];}if(f85===void+"0"){f85=!!0;}return __awaiter(this,void("0"*1),void 0,function(){var z35,I35,w85,b85,p85,m35,q85,A35,G35,J85,C35,E85,u85,O35,W85,r85,F85;z35=this;return __generator(this,function(t35){switch(t35["label"]){case+"0":if(this["currentProduct"]&&this["currentProduct"]["id"]==S85&&!h85)return[+"2"];if(l85){g85["canvasManager"]["clearDesign"]();}this["currentProduct"]=g85["configManager"]["getProductById"](S85);if(!this["currentProduct"]){g85["messageManager"]["wrongProductIdMessage"](S85);return["2"*1];}if(this["currentProduct"]["colorizableElements"]&&this["currentProduct"]["colorizableElements"]["length"]){I35=this["currentProduct"]["colorizableElements"];I35["forEach"](function(K35){if(!K35["colors"]||K35["colors"]["length"]==("0"|0)){K35["colors"]=D85["Util"]["parseArray"](g85["configManager"]["config"]["colors"],D85["VO"]["ColorVO"]);}});}this["currentProductVariation"]=this["currentProduct"]["getVariation"](this["currentProductVariation"]?this["currentProductVariation"]["id"]:"");if(!this["currentProductVariation"]&&this["currentProduct"]["variations"]["length"]>+"0"){this["currentProductVariation"]=this["currentProduct"]["variations"][+"0"];}this["currentVariatedProduct"]=this["currentProduct"]["toVariatedProduct"](this["currentProductVariation"]);if(this["currentVariatedProduct"]["multicolor"]){this["currentProductColor"]=new D85["VO"]["ComplexColorVO"]({});this["currentProductColor"]["colorizeList"]=this["currentVariatedProduct"]["exportColorizeList"]();}else{this["currentProductColor"]=this["currentProduct"]["colors"]["0"|0];}w85="";if(this["currentProduct"]["locations"]["length"]>+"0"){w85=this["currentVariatedProduct"]["locations"]["0"|0]["name"];b85=this["currentVariatedProduct"]["locations"]["0"*1]["editableAreaUnits"];p85=this["currentVariatedProduct"]["editableAreaSizes"];if(!h85){this["currentProductSize"]=new D85["VO"]["ProductCanvasSizeVO"]({});}if(!h85&&b85["length"]==+"2"&&(!p85||p85["length"]==+"0")){this["currentProductSize"]["width"]=b85[0];this["currentProductSize"]["height"]=b85["1"-0];}else if(!h85&&p85["length"]>"0"-0){if(!this["currentProductSize"])this["currentProductSize"]=new D85["VO"]["ProductCanvasSizeVO"]({});this["currentProductSize"]["width"]=p85[0]["width"];this["currentProductSize"]["height"]=p85[0]["height"];this["currentProductSize"]["label"]=p85[+"0"]["label"];}else{if(this["currentProductSize"]){this["currentVariatedProduct"]["locations"][+"0"]["editableAreaUnits"]=[this["currentProductSize"]["width"],this["currentProductSize"]["height"]];}}}if(this["currentVariatedProduct"]["namesNumbersEnabled"]){m35=[];for(q85="0"-0;q85<5;q85++){A35=new D85["VO"]["NamesNumbersVO"]();if(this["currentVariatedProduct"]["sizes"]&&this["currentVariatedProduct"]["sizes"]["length"]>"0"*1){A35["size"]=this["currentVariatedProduct"]["sizes"][+"0"];}m35["push"](A35);}g85["controlsManager"]["setNamesNumbers"](m35);}g85["controlsManager"]["setSelectedProduct"](this["currentVariatedProduct"]);g85["controlsManager"]["setSelectedProductLocation"](w85);g85["controlsManager"]["setSelectedProductColor"](this["currentProductColor"]);if(this["currentProductSize"])g85["controlsManager"]["setSelectedProductSize"](this["currentProductSize"]);g85["canvasManager"]["setProductLocation"](w85,!!{});g85["canvasManager"]["setProductColor"](this["currentProductColor"],!0);if(this["currentProductSize"])g85["sizeManager"]["setProductSize"](this["currentProductSize"]);g85["canvasManager"]["setProduct"](this["currentVariatedProduct"]);g85["canvasManager"]["printingAreaVisible"](!this["currentVariatedProduct"]["hideEditableAreaBorder"]);G35=this["currentVariatedProduct"]["sizes"]["length"];if(U85){if(G35>+"0"){J85=[];for(q85=0;q85<G35;q85++){C35=this["currentVariatedProduct"]["sizes"][q85];E85=q85==="0"-0?Math["max"](this["currentVariatedProduct"]["minQuantity"],"1"*1):0;u85={'\x71\x75\x61\x6e\x74\x69\x74\x79':E85,'\x73\x69\x7a\x65':C35};J85["push"](u85);}g85["controlsManager"]["setQuantities"](J85);g85["orderManager"]["setQuantities"](J85);}else{E85=this["currentVariatedProduct"]["minQuantity"];u85={'\x71\x75\x61\x6e\x74\x69\x74\x79':E85};g85["controlsManager"]["setQuantities"]([u85]);g85["orderManager"]["setQuantities"]([u85]);}}if(Y85){delete g85["saveLoadManager"]["currentDesign"]["templateId"];}O35=function(){return __awaiter(z35,void+"0",void("0"|0),function(){var y35,X35,R35,T35,v35;y35=this;return __generator(this,function(Q35){switch(Q35["label"]){case+"0":X35=null;if(!(this["currentVariatedProduct"]["templatesList"]&&this["currentVariatedProduct"]["templatesList"]["length"]))return[3,+"5"];X35={'\x63\x61\x74\x65\x67\x6f\x72\x69\x65\x73':this["currentVariatedProduct"]["templates"],'\x74\x65\x6d\x70\x6c\x61\x74\x65\x73':this["currentVariatedProduct"]["templatesList"]};if(!(!L85&&!this["model"]["adminMode"]))return[+"3","5"|0];if(!(typeof this["currentVariatedProduct"]["defaultTemplateId"]==="string"&&this["currentVariatedProduct"]["defaultTemplateId"]["length"]))return["3"|0,+"5"];R35=this["currentVariatedProduct"]["templatesList"]["filter"](function(o35){return o35["id"]===y35["currentVariatedProduct"]["defaultTemplateId"];})["length"]>+"0";if(!R35)return[+"3",4];return[+"4",g85["saveLoadManager"]["loadDesign"](this["currentVariatedProduct"]["defaultTemplateId"],!!{},!!"1",!{},!!0,!!{},f85)];case 1:Q35["sent"]();g85["saveLoadManager"]["currentDesign"]["templateId"]=this["currentVariatedProduct"]["defaultTemplateId"];if(!(X35["categories"]&&X35["categories"]["length"]===1&&X35["templates"]&&X35["templates"]["length"]==="1"*1))return["3"|0,"3"*1];return[+"4",g85["configManager"]["getComplexArtList"]()];case"2"*1:T35=Q35["sent"]();if(T35){X35=T35;}Q35["label"]=3;case"3"*1:return[3,5];case+"4":console["warn"]("The specified defaultTemplateId %s for product %s was not found.",this["currentVariatedProduct"]["defaultTemplateId"],this["currentVariatedProduct"]["id"]);Q35["label"]="5"*1;case+"5":v35=this["model"]["configManager"]["config"]["options"]["mergeDesignIdeas"];if(!(!this["currentVariatedProduct"]["templatesList"]||!this["currentVariatedProduct"]["templatesList"]["length"]||v35===!![]))return["3"|0,"7"-0];if(!(this["currentVariatedProduct"]["id"]==S85))return[+"3","7"-0];return[+"4",g85["configManager"]["getComplexArtList"]()];case+"6":T35=Q35["sent"]();if(T35){if(!X35){X35={'\x74\x65\x6d\x70\x6c\x61\x74\x65\x73':[],'\x63\x61\x74\x65\x67\x6f\x72\x69\x65\x73':[]};}X35["templates"]=X35["templates"]["concat"](T35["templates"]);X35["categories"]=V85(X35["categories"],T35["categories"])["slice"]();}Q35["label"]="7"|0;case 7:if(!X35){g85["controlsManager"]["setTemplates"]([]);}else{g85["controlsManager"]["setTemplatesData"](X35);}return[2];}});});};if(!this["currentVariatedProduct"]["templates"])return["3"-0,"2"*1];return["4"-0,O35()];case 1:t35["sent"]();return[+"3",+"5"];case+"2":return[+"4",g85["saveLoadManager"]["loadTemplatesList"](this["currentVariatedProduct"]["id"])];case 3:W85=t35["sent"](),r85=W85["categories"],F85=W85["templates"];if(!(this["currentVariatedProduct"]["id"]==S85))return[+"3",+"5"];this["currentVariatedProduct"]["templates"]=[];this["currentVariatedProduct"]["templatesList"]=[];if(r85&&r85["length"]){this["currentVariatedProduct"]["templates"]=r85;this["currentVariatedProduct"]["templatesList"]=F85;}if(F85&&F85["length"]){this["currentVariatedProduct"]["templatesList"]=F85;}return[4,O35()];case+"4":t35["sent"]();t35["label"]=+"5";case+"5":g85["canvasManager"]["changeZoom"](+"100");g85["sizeManager"]["updateSizes"]();return["2"*1];}});});};B85["prototype"]["setProductColor"]=function(D35){if(this["currentProduct"]){if(this["currentProduct"]["multicolor"])return;this["currentProductColor"]=this["currentProduct"]["getColor"](D35);g85["canvasManager"]["setProductColor"](this["currentProductColor"]);g85["controlsManager"]["setSelectedProductColor"](this["currentProductColor"]);}else{g85["canvasManager"]["setProductColor"](null);}g85["orderManager"]["onProductColorChanged"]();};B85["prototype"]["setProductColorVO"]=function(k35){this["currentProductColor"]=k35;g85["controlsManager"]["setSelectedProductColor"](this["currentProductColor"]);g85["orderManager"]["onProductColorChanged"]();g85["historyManager"]["saveStatus"](!!{});};function B85(P85){this["currentProduct"]=null;this["currentProductColor"]=null;this["currentProductSize"]=null;this["currentProductVariation"]=null;this["currentVariatedProduct"]=null;this["model"]=P85;g85["controlsManager"]["setProcessProductChange"](this["processProductChange"]["bind"](this));}B85["prototype"]["setProductColorize"]=function(g35){if(this["currentProduct"]){if(!this["currentProduct"]["multicolor"]||!g35["length"])return;g85["canvasManager"]["setProductColorizeList"](g35);}else{g85["canvasManager"]["setProductColor"](null);}g85["orderManager"]["onProductColorChanged"]();};B85["prototype"]["setProductSize"]=function(V35){if(this["currentProduct"]&&this["currentProduct"]["resizable"]){g85["sizeManager"]["setProductSize"](V35);}g85["orderManager"]["onProductSizeChanged"]();};B85["prototype"]["setDesign"]=function(M35,B35){return __awaiter(this,void+"0",void+"0",function(){return __generator(this,function(P35){switch(P35["label"]){case"0"*1:D85["debug"]("product set design");if(!M35["product"])return[2];this["currentProduct"]=M35["product"];this["currentProductVariation"]=M35["productVariation"];if(M35["productSize"]){this["currentProductSize"]=M35["productSize"];}return["4"|0,this["setProduct"](this["currentProduct"]["id"],!1,!!{},B35,!1,!1)];case+"1":P35["sent"]();if(M35["productColor"]){this["setProductColor"](M35["productColor"]["value"]);}if(M35["quantities"]){g85["controlsManager"]["setQuantities"](M35["quantities"]);}return[+"2"];}});});};return B85;}();g85["ProductManager"]=M85;}(k85=D85["Model"]||(D85["Model"]={})));}(LAJS||(LAJS={})));(function(H35){var i35;(function(d35){var N35,x35,c35,j35;N35=function(){Z35["prototype"]["processPaths"]=function(s35){var a35;a35=[];for(var e35="1"-0;e35<arguments["length"];e35++){a35[e35-+"1"]=arguments[e35];}this["paths"]=s35;this["values"]=a35;this["pathMetric"]=H35["Util"]["calcPathsMetric"](s35);this["bbox"]=this["pathMetric"]["bbox"];this["prepare"]();this["transform"]();};Z35["prototype"]["prepare"]=function(){};function Z35(){this["paths"]=[];this["pathMetric"]=new j35();}Z35["prototype"]["transform"]=function(){};return Z35;}();d35["VectorEffect"]=N35;x35=function(h35){function n35(){return h35!==null&&h35["apply"](this,arguments)||this;}__extends(n35,h35);n35["prototype"]["prepare"]=function(){};n35["prototype"]["transform"]=function(){for(var S35=0;S35<this["paths"]["length"];S35++){this["paths"][S35]=this["transformLetter"](this["paths"][S35]);}};n35["prototype"]["transformLetter"]=function(U35){return U35;};return n35;}(N35);d35["LettersEffect"]=x35;c35=function(l35){__extends(L35,l35);L35["prototype"]["prepare"]=function(){};L35["prototype"]["transform"]=function(){var u35,f35,E35,r35,F35;for(var q35=0;q35<this["paths"]["length"];q35++){u35=this["paths"][q35];for(var p35="0"|0;p35<u35["length"];p35++){f35=u35[p35];for(var Y35=1;Y35<f35["length"]-("1"|0);Y35+=+"2"){E35=f35[Y35];r35=f35[Y35+("1"|0)];F35=this["transformPoint"](E35,r35);f35[Y35]=F35["0"-0];f35[Y35+("1"|0)]=F35[+"1"];}}}};L35["prototype"]["transformPoint"]=function(w35,b35){return[w35,b35];};function L35(){return l35!==null&&l35["apply"](this,arguments)||this;}return L35;}(N35);d35["PointsEffect"]=c35;j35=function(){function J35(){this["bboxes"]=[];}return J35;}();d35["PathsMetric"]=j35;}(i35=H35["Effects"]||(H35["Effects"]={})));}(LAJS||(LAJS={})));(function(W35){var m15;(function(O15){var C15,z15,X15,I15,t15,A15,K15,R15,y15;O15["isVector"]=o15;function T15(I75,t75,C75,K75){var X75,z75,T75,y75;X75=C75["y"]-K75*C75["height"];z75=t75;T75={'\x78':C75["x"]+C75["width"]*+"0.5",'\x79':X75};y75=G15(T75,{'\x78':C75["x"],'\x79':C75["y"]+C75["height"]*0.5*K75});z75=y75(I75)+t75;return[I75,z75];}C15=function(V15){__extends(g15,V15);g15["prototype"]["prepare"]=function(){this["value"]=this["values"][+"0"];this["value"]=Math["min"](this["value"],"360"-0);this["value"]=Math["max"](this["value"],0.05);this["r"]=this["bbox"]["width"]*180/(Math["PI"]*this["value"]);this["a1"]=+"90"-this["value"]/+"2";this["a2"]=+"90"+this["value"]/("2"*1);};g15["prototype"]["transformLetter"]=function(M15){var H15,B15,i15,P15,d15,N15;H15=Raphael["pathBBox"](M15);B15=(H15["x"]+H15["x2"])/("2"-0);i15=this["pathMetric"]["bbox"]["height"];P15=(this["a2"]-this["a1"])*B15/this["bbox"]["width"]+this["a1"];d15=+"0"-this["r"]*Math["cos"](W35["Util"]["toRad"](P15));N15=+"0"-this["r"]*Math["sin"](W35["Util"]["toRad"](P15));M15=Raphael["transformPath"](M15,["R",""+(P15-("90"-0)),""+B15,""+i15]);M15=Raphael["transformPath"](M15,["t",""+(d15-B15),""+(N15-i15)]);return M15;};function g15(){return V15!==null&&V15["apply"](this,arguments)||this;}return g15;}(O15["LettersEffect"]);function o15(k15){return k15 in O15["VectorEffects"];}z15=function(x15){function j15(){return x15!==null&&x15["apply"](this,arguments)||this;}__extends(j15,x15);j15["prototype"]["prepare"]=function(){this["value"]=this["values"]["0"-0];this["value"]=Math["max"](this["value"],-("360"*1));this["value"]=Math["min"](this["value"],-0.05);this["value"]=Math["abs"](this["value"]);this["r"]=this["bbox"]["width"]*+"180"/(Math["PI"]*this["value"]);this["a1"]=90-this["value"]/("2"*1);this["a2"]=+"90"+this["value"]/("2"*1);};j15["prototype"]["transformLetter"]=function(c15){var a15,Z15,s15,e15,n15,h15;a15=Raphael["pathBBox"](c15);Z15=(a15["x"]+a15["x2"])/+"2";s15=+"0";e15=(this["a2"]-this["a1"])*Z15/this["bbox"]["width"]+this["a1"];n15=+"0"-this["r"]*Math["cos"](W35["Util"]["toRad"](e15));h15=this["r"]*Math["sin"](W35["Util"]["toRad"](e15));c15=Raphael["transformPath"](c15,["R",""+(+"90"-e15),""+Z15,""+s15]);c15=Raphael["transformPath"](c15,["t",""+(n15-Z15),""+(h15-s15)]);return c15;};return j15;}(O15["LettersEffect"]);function v15(E65,q65,Y65,b65){var f65,r65,w65,F65,u65,p65;f65=Math["abs"](b65)*Y65["height"]*("0.5"*1);r65=Y65["y"]+f65;w65=Y65["y"]+Y65["height"];F65=q65;if(q65<r65){u65={'\x78':Y65["x"]+Y65["width"]*0.5,'\x79':Y65["y"]+f65};p65=G15(u65,{'\x78':Y65["x"],'\x79':q65});F65=p65(E65);}else if(q65>=Y65["y2"]-f65){u65={'\x79':Y65["y2"]-f65,'\x78':Y65["x"]+Y65["width"]*("0.5"*1)};p65=G15(u65,{'\x78':Y65["x"],'\x79':q65});F65=p65(E65);}return[E65,F65];}X15=function(S15){function U15(){return S15!==null&&S15["apply"](this,arguments)||this;}__extends(U15,S15);U15["prototype"]["transformPoint"]=function(L15,Y15){var l15;l15=Y15+this["pathMetric"]["bbox"]["height"]*Math["sin"](+"2"*Math["PI"]*(L15-this["pathMetric"]["bbox"]["x"])/this["pathMetric"]["bbox"]["width"]+this["values"][+"0"]*+"2"*Math["PI"]);return[L15,l15];};return U15;}(O15["PointsEffect"]);I15=function(f15){function q15(){return f15!==null&&f15["apply"](this,arguments)||this;}__extends(q15,f15);q15["prototype"]["transformPoint"]=function(F15,p15){var E15,r15,b15,J15,w15,u15;E15=parseFloat(this["values"][0])-+"1";r15=Math["abs"](this["pathMetric"]["bbox"]["x2"]-F15)/(this["pathMetric"]["bbox"]["x2"]-this["pathMetric"]["bbox"]["x"]);if(E15>+"0"){r15=Math["abs"](this["pathMetric"]["bbox"]["x"]-F15)/(this["pathMetric"]["bbox"]["x2"]-this["pathMetric"]["bbox"]["x"]);}b15=Math["min"](Math["abs"](this["pathMetric"]["bbox"]["y"]-p15),Math["abs"](this["pathMetric"]["bbox"]["y2"]-p15));J15=(this["pathMetric"]["bbox"]["height"]/2-b15)*Math["abs"](E15);w15=J15*r15;u15=p15;if(p15<this["pathMetric"]["bbox"]["y"]+this["pathMetric"]["bbox"]["height"]*("0.5"*1)){u15=p15+w15;}else{u15=p15-w15;}return[F15,u15];};return q15;}(O15["PointsEffect"]);t15=function(W15){function m65(){return W15!==null&&W15["apply"](this,arguments)||this;}__extends(m65,W15);m65["prototype"]["transformPoint"]=function(t65,O65){var G65,A65,C65,z65,I65;G65=parseFloat(this["values"][+"0"])-+"1";A65=Math["max"](this["pathMetric"]["bbox"]["width"],this["pathMetric"]["bbox"]["height"])/+"2"*G65;C65=this["pathMetric"]["bbox"]["y"]+this["pathMetric"]["bbox"]["height"]*0.5;z65=C65-O65;I65=A65*(z65/this["pathMetric"]["bbox"]["height"]);return[t65+I65,O65];};return m65;}(O15["PointsEffect"]);A15=function(K65){function X65(){return K65!==null&&K65["apply"](this,arguments)||this;}__extends(X65,K65);X65["prototype"]["transformPoint"]=function(T65,D65){var y65,R65,v65,Q65,o65;y65=parseFloat(this["values"][+"0"])-+"1";R65=Math["max"](this["pathMetric"]["bbox"]["width"],this["pathMetric"]["bbox"]["height"])/+"2"*y65;v65=this["pathMetric"]["bbox"]["x"]+this["pathMetric"]["bbox"]["width"]*+"0.5";Q65=v65-T65;o65=R65*(Q65/this["pathMetric"]["bbox"]["width"]);return[T65,D65+o65];};return X65;}(O15["PointsEffect"]);K15=function(J65){__extends(W65,J65);W65["prototype"]["transformPoint"]=function(O75,G75){var m75,A75;m75=parseFloat(this["values"][+"0"])-+"1";if(m75==("0"|0))return[O75,G75];A75=this["pathMetric"]["bbox"];if(m75>"0"-0){return Q15(O75,G75,A75,m75);}else{return v15(O75,G75,A75,m75);}};function W65(){return J65!==null&&J65["apply"](this,arguments)||this;}return W65;}(O15["PointsEffect"]);function Q15(U65,a65,Z65,l65){var n65,S65,L65,h65,s65,e65;n65=Math["abs"](l65)*Z65["height"]*("0.5"-0);S65=Z65["y"]+n65;L65=Z65["y"]+Z65["height"];h65=a65;if(a65<S65){s65={'\x78':Z65["x"]+Z65["width"]*+"0.5",'\x79':a65};e65=G15(s65,{'\x78':Z65["x"],'\x79':S65});h65=e65(U65);}else if(a65>Z65["y2"]-n65){s65={'\x78':Z65["x"]+Z65["width"]*+"0.5",'\x79':a65};e65=G15(s65,{'\x78':Z65["x"],'\x79':Z65["y2"]-n65});h65=e65(U65);}return[U65,h65];}R15=function(R75){function v75(){return R75!==null&&R75["apply"](this,arguments)||this;}__extends(v75,R75);v75["prototype"]["transformPoint"]=function(o75,D75){var Q75,k75;Q75=parseFloat(this["values"][+"0"]);if(Q75==+"0")return[o75,D75];k75=this["pathMetric"]["bbox"];return T15(o75,D75,k75,Q75);};return v75;}(O15["PointsEffect"]);y15=function(g75){__extends(V75,g75);V75["prototype"]["transformPoint"]=function(B75,P75){var M75,H75;M75=parseFloat(this["values"][+"0"]);if(M75==0)return[B75,P75];H75=this["pathMetric"]["bbox"];return T15(B75,P75,H75,-M75);};function V75(){return g75!==null&&g75["apply"](this,arguments)||this;}return V75;}(O15["PointsEffect"]);O15["VectorEffects"]={'\x77\x69\x64\x65\x6e':I15,'\x73\x69\x6d\x70\x6c\x65\x57\x61\x76\x65':X15,'\x62\x75\x6c\x67\x65':K15,'\x61\x72\x63\x68\x55\x70':R15,'\x61\x72\x63\x68\x44\x6f\x77\x6e':y15,'\x73\x6c\x61\x6e\x74\x44\x6f\x77\x6e':A15,'\x73\x6c\x61\x6e\x74\x4c\x65\x66\x74':t15,'\x73\x6c\x61\x6e\x74\x55\x70':A15,'\x73\x6c\x61\x6e\x74\x52\x69\x67\x68\x74':t15,'\x70\x69\x6e\x63\x68':K15,'\x63\x75\x72\x76\x65\x44\x6f\x77\x6e':z15,'\x77\x65\x64\x67\x65':I15,'\x61\x72\x63\x55\x70':C15,'\x63\x75\x72\x76\x65\x55\x70':C15,'\x61\x72\x63\x44\x6f\x77\x6e':z15};function D15(k65,g65,V65,M65){var B65,P65;B65=Math["sqrt"](Math["pow"](M65,+"2")-Math["pow"](k65-g65,+"2"))+V65;P65=V65-Math["sqrt"](Math["pow"](M65,"2"*1)-Math["pow"](k65-g65,2));return[B65,P65];}function G15(H65,d65){var j65,i65,N65;j65={'\x79':H65["y"]-H65["y"],'\x78':H65["x"]-H65["x"]};i65={'\x79':d65["y"]-H65["y"],'\x78':d65["x"]-H65["x"]};N65=i65["y"]/Math["pow"](i65["x"],+"2");return function(x65){var c65;x65=x65-H65["x"];c65=N65*Math["pow"](x65,"2"*1)+H65["y"];return c65;};}}(m15=W35["Effects"]||(W35["Effects"]={})));}(LAJS||(LAJS={})));(function(i75){var d75;(function(N75){var j75,x75;j75=function(){c75["canFormUrl"]=function(e75,a75){if(i75["Effects"]["isVector"](e75["textEffect"])){return N75["FontManager"]["checkRaphaelFont"](e75["font-family"],a75);}else{return!"";}};c75["clearCache"]=function(){var s75,n75;s75=this;if(this["waitingToClean"])return;n75=new Date()["getTime"]();this["waitingToClean"]=!"";setTimeout(function(){return s75["doClearCache"](n75);});};c75["doClearCache"]=function(S75){for(var h75 in this["urlCache"]){if(this["urlCache"][h75]["time"]<S75){delete this["urlCache"][h75];}}this["waitingToClean"]=![];};c75["formTextImageUrl"]=function(U75,q75){var f75,L75,l75,Y75,p75;if(!("text"in U75)||U75["text"]=="")return"";if(!("textEffect"in U75)||U75["textEffect"]==""||U75["textEffect"]=="none")return"";f75=N75["configManager"]["config"]["getTextEffect"](U75["textEffect"]);if(!f75)return"";if(i75["Effects"]["isVector"](f75["name"])){L75={};L75["textEffect"]=U75["textEffect"];L75["text"]=U75["text"];L75["font-weight"]=U75["font-weight"];L75["font-style"]=U75["font-style"];L75["font-family"]=U75["font-family"];L75["letterSpacing"]=U75["letterSpacing"];L75["line-leading"]=U75["line-leading"];L75["textEffectValue"]=U75["textEffectValue"];L75["fill"]=U75["fill"];L75["stroke"]=U75["stroke"];L75["stroke-width"]=U75["stroke-width"];L75["text-align"]=U75["text-align"];l75=i75["Util"]["attrToString"](L75);if(this["urlCache"][l75]){Y75=this["urlCache"][l75]["url"];}else{Y75=this["formVectorTextImageUrl"](U75,q75);p75=new x75(l75,Y75);this["urlCache"][l75]=p75;}this["clearCache"]();return Y75;}else{return this["formRasterTextImageUrl"](U75,q75);}};function c75(Z75){this["model"]=Z75;}c75["formRasterTextImageUrl"]=function(u75,w75){var F75,r75,E75;F75=N75["configManager"]["config"]["textEffectsUrl"];if(F75=="")return"";r75=(u75["stroke-width"]*this["strokeScale"])["toString"]();if(!("text"in u75)||u75["text"]=="")return"";if(!("textEffect"in u75)||u75["textEffect"]==""||u75["textEffect"]=="none")return"";E75=N75["configManager"]["config"]["getTextEffect"](u75["textEffect"]);if(!E75)return"";F75+="?t="+encodeURIComponent(u75["text"]);F75+="&fx="+(E75["fxName"]==""?E75["name"]:E75["fxName"]);F75+="&"+E75["paramValName"]+"="+encodeURIComponent(u75["textEffectValue"]);F75+="&fn="+encodeURIComponent(u75["font-family"]);F75+="&c="+encodeURIComponent(u75["fill"]);F75+="&o="+encodeURIComponent(u75["stroke"]);F75+="&sw="+encodeURIComponent(r75);F75+="&p=72";if(u75["font-weight"]=="bold"||u75["font-style"]=="italic"){F75+="&st="+(u75["font-weight"]=="bold"?"b":"");F75+=u75["font-style"]=="italic"?"i":"";}return F75;};c75["formVectorTextImageUrl"]=function(b75,T45){var z45,X45,t45,A45,C45,W75,I45,O45,K45,m45,J75;if(!this["designer"])return"";if(!("text"in b75)||b75["text"]=="")return"";if(!("textEffect"in b75)||b75["textEffect"]==""||b75["textEffect"]=="none")return"";z45=N75["configManager"]["config"]["getTextEffect"](b75["textEffect"]);if(!z45)return"";A45="0"|0;C45=1.2;W75="1"*1;I45="left";if(b75["font-weight"]=="bold")X45="bold";if(b75["font-style"]=="italic")t45="italic";if("letterSpacing"in b75)A45=parseFloat(b75["letterSpacing"]);if("line-leading"in b75)C45=parseFloat(b75["line-leading"]);if("text-align"in b75)I45=b75["text-align"];if("stroke-width"in b75)W75=parseFloat(b75["stroke-width"]);O45=this["formTextPaths"](0,+"0",b75["text"],this["raphael"]()["getFont"](b75["font-family"],X45,t45),+"32",null,A45,C45,I45,W75);this["applyEffect"](O45,z45["name"],b75["textEffectValue"]);K45=i75["Util"]["calcPathsMetric"](O45);m45=K45["bbox"];J75='svg://';J75+='<?xml version="1.0" encoding="utf-8"?>\n';J75+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n';J75+='<svg version="1.1" id="txtPath" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"';J75+=' width="'+(m45["width"]+("2"-0)*W75)+'px" height="'+(m45["height"]+("2"-0)*W75)+'px" viewBox="-'+W75+" -"+W75+' '+(m45["width"]+ +"2"*W75)+' '+(m45["height"]+("2"|0)*W75)+'" enable-background="new 0 0 32 32" xml:space="preserve">';for(var G45="0"-0;G45<O45["length"];G45++){J75+='<path d="'+O45[G45]+'"';J75+=' fill="'+b75["fill"]+'" stroke="'+b75["stroke"]+'"'+' stroke-width="'+b75["stroke-width"]+'"';J75+=' />';}J75+='</svg>';return J75;};c75["formTextPaths"]=function(l45,q45,f45,Q45,Y45,s45,P45,L45,U45,p45){var S45,k45,c45,M45,R45,v45,D45,V45,e45,Z45,n45,a45,j45,i45,d45,H45,B45,o45,N45,x45;jQuery["ajax"];S45=/[, ]+/;s45=s45||"middle";P45=P45/+"30";P45=Math["max"](Math["min"](P45||"0"|0,+"1"),-("1"*1));k45=String(f45)["split"](""),c45="0"-0,M45=+"0",R45=[],v45=[];if(Q45){D45=(Y45||"16"*1)/Q45["face"]["units-per-em"];V45=Q45["face"]["bbox"]["split"](S45),e45=+V45["0"|0],Z45=V45[+"3"]-V45[+"1"],n45=+"0",a45=+V45[1]+(s45=="baseline"?Z45+ +Q45["face"]["descent"]:Z45/+"2");for(var y45=+"0",h45=k45["length"];y45<h45;y45++){if(k45[y45]=="\n"||R45["length"]==("0"|0)){v45=[];R45["push"](v45);}if(k45[y45]=="\n"){c45="0"|0;i45="0"-0;M45=+"0";n45+=Z45*L45/("1.2"-0);}else{j45=M45&&Q45["glyphs"][k45[y45-("1"-0)]]||{},i45=Q45["glyphs"][k45[y45]];c45+=M45?(j45["w"]||Q45["w"])+(j45["k"]&&-j45["k"][k45[y45]]||"0"|0)+Q45["w"]*P45:0;M45="1"*1;}if(i45&&i45["d"]){v45["push"](Raphael["transformPath"](i45["d"],["t",c45*D45,n45*D45,"s",D45,D45,e45,a45,"t",(l45-e45)/D45,(q45-a45)/D45]));}}}if(R45["length"]>1&&U45!="left"){B45=[];for(var y45=+"0";y45<R45["length"];y45++){v45=R45[y45];o45=i75["Util"]["calcPathsMetric"](v45);B45["push"](o45);if(y45==0){d45=o45["bbox"]["x"];H45=o45["bbox"]["x"]+o45["bbox"]["width"];}else{d45=Math["min"](d45,o45["bbox"]["x"]);H45=Math["max"](H45,o45["bbox"]["x"]+o45["bbox"]["width"]);}}for(var y45=0;y45<R45["length"];y45++){switch(U45){case"right":N45=H45-(B45[y45]["bbox"]["x"]+B45[y45]["bbox"]["width"]);break;case"center":N45=(H45-d45-B45[y45]["bbox"]["width"])/+"2";default:break;}v45=R45[y45];for(var g45=+"0";g45<v45["length"];g45++){v45[g45]=Raphael["transformPath"](v45[g45],["t",N45,+"0"]);}}}x45=[];for(var y45=+"0";y45<R45["length"];y45++){x45=x45["concat"](R45[y45]);}return x45;};c75["registerCanvas"]=function(u45){this["designer"]=u45;};c75["raphael"]=function(){return this["designer"]["canvas"];};c75["normalizePosition"]=function(E45){var r45,w45,b45;r45=i75["Util"]["calcPathsMetric"](E45)["bbox"];w45="0"*1-r45["x"];b45=+"0"-r45["y"];for(var F45=+"0";F45<E45["length"];F45++){E45[F45]=Raphael["transformPath"](E45[F45],["t",""+w45,""+b45]);}};c75["applyEffect"]=function(J45,G95,A95){var m95,W45,O95;this["normalizePosition"](J45);m95=i75["Effects"]["VectorEffects"];W45=m95[G95];if(W45){O95=new W45();O95["processPaths"](J45,A95);}this["normalizePosition"](J45);};return c75;}();j75["urlCache"]={};j75["strokeScale"]=8;j75["clearCacheInterval"]=+"600000";j75["waitingToClean"]=![];N75["TextEffectsManager"]=j75;x75=function(){function C95(z95,I95){this["paramString"]=z95;this["url"]=I95;this["time"]=new Date()["getTime"]();}return C95;}();}(d75=i75["Model"]||(i75["Model"]={})));}(LAJS||(LAJS={})));(function(t95){var K95;(function(X95){var R95,y95,T95;R95=function(){v95["prototype"]["getCurrentStatus"]=function(){var k95;k95=X95["canvasManager"]["getCurrentDesignStatus"]();return k95;};v95["prototype"]["onChange"]=function(g95){if(!g95["dispatchHistory"])return;t95["debug"]("HistoryManager :: onChange");this["saveStatus"]();};v95["prototype"]["onUserInteract"]=function(){t95["debug"]("HistoryManager :: onUserInteract");this["saveStatus"]();};v95["prototype"]["saveStatus"]=function(M95,V95,P95){var B95;if(M95===void("0"*1)){M95=!{};}if(V95===void("0"-0)){V95=!"1";}if(P95===void 0){P95=!"1";}if(this["e2eTesting"]&&!V95)return;if(this["restoring"])return;B95=this["getCurrentStatus"]();if(M95){this["storage"]["replace"](B95);}else{this["storage"]["add"](B95,V95||!1);}X95["controlsManager"]["setIsUndoActive"](this["isUndoActive"]());X95["controlsManager"]["setIsRedoActive"](this["isRedoActive"]());};v95["prototype"]["restoreStatus"]=function(H95){return __awaiter(this,void("0"-0),void("0"|0),function(){return __generator(this,function(i95){switch(i95["label"]){case"0"*1:this["restoring"]=!!"1";if(!H95["productId"])return[+"3","2"-0];return[+"4",X95["productManager"]["setProduct"](H95["productId"],!"")];case+"1":i95["sent"]();i95["label"]="2"|0;case"2"-0:if(H95["productColor"]){X95["productManager"]["setProductColor"](H95["productColor"]);}X95["canvasManager"]["setDesignStatus"](H95);if(H95["productColorize"]&&H95["productColorize"]["length"]>+"0"){X95["canvasManager"]["setProductColorizeList"](H95["productColorize"]);X95["controlsManager"]["setSelectedProductColor"](X95["canvasManager"]["getCurrentProductColor"]());}X95["controlsManager"]["setIsUndoActive"](this["isUndoActive"]());X95["controlsManager"]["setIsRedoActive"](this["isRedoActive"]());this["restoring"]=!!"";return[+"2"];}});});};v95["prototype"]["undo"]=function(){return __awaiter(this,void("0"|0),void("0"|0),function(){var d95;return __generator(this,function(N95){switch(N95["label"]){case 0:d95=this["storage"]["back"]();if(d95==null)return[+"2"];t95["debug"]("HistoryManager :: undo");return[4,this["restoreStatus"](d95)];case"1"*1:N95["sent"]();return[2];}});});};v95["prototype"]["redo"]=function(){return __awaiter(this,void+"0",void 0,function(){var j95;return __generator(this,function(x95){switch(x95["label"]){case 0:j95=this["storage"]["forward"]();if(j95==null)return[+"2"];t95["debug"]("HistoryManager :: redo");return[+"4",this["restoreStatus"](j95)];case+"1":x95["sent"]();return[+"2"];}});});};v95["prototype"]["isUndoActive"]=function(){return this["storage"]["getCurrentIndex"]()>+"0";};v95["prototype"]["isRedoActive"]=function(){return this["storage"]["getCurrentIndex"]()<this["storage"]["getLength"]()-1;};function v95(o95){var Q95;Q95=this;this["restoring"]=!1;this["e2eTesting"]=!"1";this["modelLocator"]=o95;this["storage"]=y95["getInstance"]();this["modelLocator"]["addEventListener"](LAEvents["DESIGNER_CHANGED_EVENT"],function(D95){return Q95["onChange"](D95);});}return v95;}();X95["HistoryManager"]=R95;y95=function(){c95["getInstance"]=function(){if(c95["instance"]==null){c95["instance"]=new c95();}return c95["instance"];};c95["prototype"]["add"]=function(Z95,e95){var a95;if(e95===void+"0"){e95=![];}t95["debug"]("HistoryStorage :: add");this["designsList"]=this["designsList"]["slice"]("0"-0,this["index"]+1);a95=!![];if(!e95){if(this["designsList"]["length"]>("0"|0)&&Z95["timeStamp"]-this["designsList"][this["designsList"]["length"]-"1"*1]["timeStamp"]<T95["TIMESTAMP_DELAY"]){a95=!{};}}if(a95){this["designsList"]["push"](Z95);}else{this["designsList"][this["designsList"]["length"]-("1"-0)]=Z95;}if(this["designsList"]["length"]>c95["MAX_LENGTH"])this["designsList"]["shift"]();this["index"]=this["designsList"]["length"]-+"1";};c95["prototype"]["replace"]=function(s95){if(this["designsList"]["length"]==0)this["add"](s95);t95["debug"]("HistoryStorage :: replace");this["designsList"][this["index"]]=s95;};c95["prototype"]["forward"]=function(){t95["debug"]("HistoryStorage :: forward");if(this["index"]<this["designsList"]["length"]-+"1"){return this["designsList"][++this["index"]];}else{return null;}};c95["prototype"]["back"]=function(){t95["debug"]("HistoryStorage :: back");if(this["index"]>0){return this["designsList"][--this["index"]];}else{return null;}};c95["prototype"]["getCurrentIndex"]=function(){return this["index"];};c95["prototype"]["getLength"]=function(){return this["designsList"]["length"];};function c95(){this["designsList"]=[];this["index"]=-+"1";if(c95["instance"]!=null){throw new Error('HistoryStorage is a singleton. Please use HistoryStorage.getInstance() instead.');}}return c95;}();y95["MAX_LENGTH"]="100"-0;T95=function(){function n95(h95,S95){this["timeStamp"]=new Date()["getTime"]();this["productId"]="";this["productColor"]="";this["productColorize"]=[];if(h95)this["svgs"]=h95;if(S95)this["selectedObject"]=S95;}return n95;}();T95["TIMESTAMP_DELAY"]="500"*1;X95["DesignStatus"]=T95;}(K95=t95["Model"]||(t95["Model"]={})));}(LAJS||(LAJS={})));(function(U95){var L95;(function(l95){var f95,q95,Y95;f95=function(){p95["prototype"]["updateDictionary"]=function(F95){this["localizationService"]["updateDictionary"](F95);};p95["prototype"]["designSavedMessage"]=function(w95){var E95,r95;E95=this["localizationService"]["translation"]["DESIGN_SAVED_MESSAGE"];r95=Y95["processDesignSavedMessage"](E95,w95);l95["dialogManager"]["showSuccessMessage"](r95);};p95["prototype"]["failedToLoadConfigMessage"]=function(W95){var b95,J95;b95=this["localizationService"]["translation"]["FAIL_TO_LOAD_CONFIG_MESSAGE"];J95=Y95["processFailedToLoadConfigMessage"](b95,W95);alert(J95);};p95["prototype"]["failedToLoadProductListMessage"]=function(){var m55;m55=this["localizationService"]["translation"]["FAIL_TO_LOAD_PRODUCT_LIST_MESSAGE"];l95["dialogManager"]["showErrorMessage"](m55);};p95["prototype"]["failedToLoadFontListMessage"]=function(){var O55;O55=this["localizationService"]["translation"]["FAIL_TO_LOAD_FONT_LIST_MESSAGE"];l95["dialogManager"]["showErrorMessage"](O55);};p95["prototype"]["failedToLoadColorListMessage"]=function(){var G55;G55=this["localizationService"]["translation"]["FAIL_TO_LOAD_COLOR_LIST_MESSAGE"];l95["dialogManager"]["showErrorMessage"](G55);};p95["prototype"]["failedToLoadGraphicListMessage"]=function(){var A55;A55=this["localizationService"]["translation"]["FAIL_TO_LOAD_GRAPHIC_LIST_MESSAGE"];l95["dialogManager"]["showErrorMessage"](A55);};p95["prototype"]["failedToLoadTextEffectListMessage"]=function(){var C55;C55=this["localizationService"]["translation"]["FAIL_TO_LOAD_TEXT_EFFECT_LIST_MESSAGE"];l95["dialogManager"]["showErrorMessage"](C55);};p95["prototype"]["failedToLoadConfigPartMessage"]=function(t55){var z55,I55;z55=this["localizationService"]["translation"]["FAIL_TO_LOAD_CONFIG_PART_MESSAGE"];I55=Y95["processFailedToLoadConfigPartMessage"](z55,t55);l95["dialogManager"]["showErrorMessage"](I55);};p95["prototype"]["failedToLoadProductBackgroundMessage"]=function(T55){var K55,X55;K55=this["localizationService"]["translation"]["FAIL_TO_LOAD_BACKGROUND_MESSAGE"];X55=Y95["processFailedToLoadProductBackgroundMessage"](K55,T55);l95["dialogManager"]["showErrorMessage"](X55);};p95["prototype"]["failedToLoadProductMaskMessage"]=function(v55){var y55,R55;y55=this["localizationService"]["translation"]["FAIL_TO_LOAD_PRODUCT_MASK_MESSAGE"];R55=Y95["processFailedToLoadProductMaskMessage"](y55,v55);l95["dialogManager"]["showErrorMessage"](R55);};p95["prototype"]["failedToLoadGraphicMessage"]=function(D55){var Q55,o55;Q55=this["localizationService"]["translation"]["FAIL_TO_LOAD_PRODUCT_GRAPHIC_MESSAGE"];o55=Y95["processFailedToLoadGraphicMessage"](Q55,D55);l95["dialogManager"]["showErrorMessage"](o55);};p95["prototype"]["failedToLoadFontMessage"]=function(V55){var k55,g55;k55=this["localizationService"]["translation"]["FAIL_TO_LOAD_FONT_MESSAGE"];g55=Y95["processFailedToLoadFontMessage"](k55,V55);l95["dialogManager"]["showErrorMessage"](g55);};p95["prototype"]["failedToLoadDesignMessage"]=function(){var M55;M55=this["localizationService"]["translation"]["FAIL_TO_LOAD_DESIGN"];l95["dialogManager"]["showErrorMessage"](M55);};p95["prototype"]["failedToLoadDesignTemplateMessage"]=function(){var B55;B55=this["localizationService"]["translation"]["FAIL_TO_LOAD_DESIGN_TEMPLATE"];l95["dialogManager"]["showErrorMessage"](B55);};p95["prototype"]["failedToLoadDesignListMessage"]=function(){var P55;P55=this["localizationService"]["translation"]["FAIL_TO_LOAD_DESIGN_LIST"];l95["dialogManager"]["showErrorMessage"](P55);};p95["prototype"]["failedToLoadTemplateListMessage"]=function(){var H55;H55=this["localizationService"]["translation"]["FAIL_TO_LOAD_TEMPLATE_LIST"];l95["dialogManager"]["showErrorMessage"](H55);};p95["prototype"]["failedToSaveDesignMessage"]=function(){var i55;i55=this["localizationService"]["translation"]["FAIL_TO_SAVE_DESIGN"];l95["dialogManager"]["showErrorMessage"](i55);};p95["prototype"]["failedToShareDesignMessage"]=function(){var d55;d55=this["localizationService"]["translation"]["FAIL_TO_SHARE_DESIGN"];l95["dialogManager"]["showErrorMessage"](d55);};p95["prototype"]["failedToPlaceOrderMessage"]=function(){var N55;N55=this["localizationService"]["translation"]["FAIL_TO_PLACE_ORDER"];l95["dialogManager"]["showErrorMessage"](N55);};p95["prototype"]["failedToOpenPrintPopUpMessage"]=function(){var j55;j55=this["localizationService"]["translation"]["FAIL_TO_OPEN_PRINT_POPUP"];l95["dialogManager"]["showErrorMessage"](j55);};p95["prototype"]["noFontInfoMessage"]=function(Z55){var x55,c55;x55=this["localizationService"]["translation"]["NO_FONT_INFO_MESSAGE"];c55=Y95["processNoFontInfoMessage"](x55,Z55);l95["dialogManager"]["showErrorMessage"](c55);};function p95(u95){this["localizationService"]=new q95();if(u95)this["localizationService"]["updateDictionary"](u95);}p95["prototype"]["noFontVectorInfoMessage"]=function(s55){var e55,a55;e55=this["localizationService"]["translation"]["NO_FONT_VECTOR_INFO_MESSAGE"];a55=Y95["processNoFontVectorInfoMessage"](e55,s55);l95["dialogManager"]["showErrorMessage"](a55);};p95["prototype"]["errorRegisteringFontMessage"]=function(S55){var n55,h55;n55=this["localizationService"]["translation"]["REGISTERING_FONT_ERROR_MESSAGE"];h55=Y95["processErrorRegisteringFontMessage"](n55,S55);l95["dialogManager"]["showErrorMessage"](h55);};p95["prototype"]["errorLoadingFontMessage"]=function(l55){var U55,L55;U55=this["localizationService"]["translation"]["LOADING_FONT_ERROR_MESSAGE"];L55=Y95["processErrorLoadingFontMessage"](U55,l55);l95["dialogManager"]["showErrorMessage"](L55);};p95["prototype"]["getQuoteErrorMessage"]=function(q55){var Y55,f55;Y55=this["localizationService"]["translation"]["QUOTE_ERROR_MESSAGE"];f55=Y95["processGetQuoteErrorMessage"](Y55,q55);l95["dialogManager"]["showErrorMessage"](f55);};p95["prototype"]["getQuoteInvalidResponseErrorMessage"]=function(){var p55,u55;p55=this["localizationService"]["translation"]["QUOTE_INVALID_RESPONSE_ERROR_MESSAGE"];u55=Y95["processGetQuoteInvalidResponseErrorMessage"](p55);l95["dialogManager"]["showErrorMessage"](u55);};p95["prototype"]["failedToLoadQuote"]=function(r55){var F55,E55;F55=this["localizationService"]["translation"]["QUOTE_ERROR_MESSAGE"];E55=Y95["processFailedToLoadQuote"](F55,r55);l95["dialogManager"]["showErrorMessage"](E55);};p95["prototype"]["orderPlacedMessage"]=function(){var w55,b55;w55=this["localizationService"]["translation"]["ORDER_PLACED_SUCCESSFULLY_MESSAGE"];b55=Y95["processOrderPlacedMessage"](w55);l95["dialogManager"]["showSuccessMessage"](b55);};p95["prototype"]["wrongProductIdMessage"]=function(m25){var J55,W55;J55=this["localizationService"]["translation"]["WRONG_PRODUCT_ID_ERROR_MESSAGE"];W55=Y95["processWrongProductIdMessage"](J55,m25);l95["dialogManager"]["showErrorMessage"](W55);};p95["prototype"]["templateSavedMessage"]=function(A25){var O25,G25;O25=this["localizationService"]["translation"]["TEMPLATE_SAVED_MESSAGE"];G25=Y95["processTemplateSavedMessage"](O25,A25);l95["dialogManager"]["showSuccessMessage"](G25);};p95["prototype"]["templateUpdatedMessage"]=function(){var C25;C25=this["localizationService"]["translation"]["TEMPLATE_UPDATED_MESSAGE"];l95["dialogManager"]["showSuccessMessage"](C25);};p95["prototype"]["failedToSaveTemplateMessage"]=function(){var z25;z25=this["localizationService"]["translation"]["FAIL_TO_SAVE_TEMPLATE_MESSAGE"];l95["dialogManager"]["showErrorMessage"](z25);};p95["prototype"]["loadingColorsTranslation"]=function(){var I25;I25=this["localizationService"]["translation"]["LOADING_COLORS_MESSAGE"];return I25;};p95["prototype"]["loadingFontsTranslation"]=function(){var t25;t25=this["localizationService"]["translation"]["LOADING_FONTS_MESSAGE"];return t25;};p95["prototype"]["loadingEffectsTranslation"]=function(){var K25;K25=this["localizationService"]["translation"]["LOADING_EFFECTS_MESSAGE"];return K25;};p95["prototype"]["loadingProductsTranslation"]=function(){var X25;X25=this["localizationService"]["translation"]["LOADING_PRODUCTS_MESSAGE"];return X25;};p95["prototype"]["loadingGraphicsTranslation"]=function(){var T25;T25=this["localizationService"]["translation"]["LOADING_GRAPHICS_MESSAGE"];return T25;};p95["prototype"]["loadingSocialTranslation"]=function(){var y25;y25=this["localizationService"]["translation"]["LOADING_SOCIAL_MESSAGE"];return y25;};p95["prototype"]["loadingDesingTranslation"]=function(){var R25;R25=this["localizationService"]["translation"]["LOADING_DESIGN_MESSAGE"];return R25;};p95["prototype"]["loadingTranslation"]=function(){var v25;v25=this["localizationService"]["translation"]["LOADING_MESSAGE"];return v25;};p95["prototype"]["loading"]=function(){var Q25;Q25=this["localizationService"]["translation"]["LOADING_MESSAGE"];return Q25;};p95["prototype"]["loadedTranslation"]=function(){var o25;o25=this["localizationService"]["translation"]["LOADED_MESSAGE"];return o25;};p95["prototype"]["loadingConfigurationTranslation"]=function(){var D25;D25=this["localizationService"]["translation"]["LOADING_CONFIGURATION_MESSAGE"];return D25;};p95["prototype"]["designLoadedMessage"]=function(V25){var k25,g25;k25=this["localizationService"]["translation"]["DESIGN_LOADED_MESSAGE"];g25=Y95["processDesignLoadedMessage"](k25,V25);l95["dialogManager"]["showSuccessMessage"](g25);};p95["prototype"]["designLoadedWithoutTitleMessage"]=function(){var M25,B25;M25=this["localizationService"]["translation"]["DESIGN_WITHOUT_TITLE_LOADED_MESSAGE"];B25=Y95["processDesignWithoutTitleLoadedMessage"](M25);l95["dialogManager"]["showSuccessMessage"](B25);};p95["prototype"]["savingDesignTranslation"]=function(){var P25;P25=this["localizationService"]["translation"]["SAVING_DESIGN_MESSAGE"];return P25;};p95["prototype"]["sharingDesignTranslation"]=function(){var H25;H25=this["localizationService"]["translation"]["SHARING_DESIGN_MESSAGE"];return H25;};p95["prototype"]["savingTemplateTranslation"]=function(){var i25;i25=this["localizationService"]["translation"]["SAVING_TEMPLATE_MESSAGE"];return i25;};p95["prototype"]["loadUnsavedDesign"]=function(){var d25;d25=this["localizationService"]["translation"]["LOAD_UNSAVED_DESIGN_MESSAGE"];return d25;};p95["prototype"]["loadUnsavedDesignHeader"]=function(){var N25;N25=this["localizationService"]["translation"]["LOAD_UNSAVED_DESIGN_HEADER_MESSAGE"];return N25;};p95["prototype"]["designNotSupportedByProduct"]=function(){return this["localizationService"]["translation"]["DESIGN_NOT_SUPPORTED_BY_PRODUCT_MESSAGE"];};p95["prototype"]["designNotSupportedByTemplate"]=function(){return this["localizationService"]["translation"]["DESIGN_NOT_SUPPORTED_BY_TEMPLATE_MESSAGE"];};p95["prototype"]["loadProductTitle"]=function(j25){return this["localizationService"]["translation"]["LOAD_PRODUCT"]+" "+j25;};p95["prototype"]["loadTemplate"]=function(){return this["localizationService"]["translation"]["LOAD_TEMPLATE"];};p95["prototype"]["existingDesignDialogueAction"]=function(){return this["localizationService"]["translation"]["EXISTING_DESIGN_DIALOGUE_ACTION"];};p95["prototype"]["replaceCurrentDesignOption"]=function(){return this["localizationService"]["translation"]["REPLACE_CURRENT_DESIGN_OPTION"];};p95["prototype"]["addDesignOption"]=function(){return this["localizationService"]["translation"]["ADD_DESIGN_OPTION"];};p95["prototype"]["continueOption"]=function(){return this["localizationService"]["translation"]["CONTINUE_OPTION"];};p95["prototype"]["cancelOption"]=function(){return this["localizationService"]["translation"]["CANCEL_OPTION"];};return p95;}();l95["MessageManager"]=f95;q95=function(){x25["prototype"]["initTranslation"]=function(){this["translation"]={'\x53\x41\x56\x49\x4e\x47\x5f\x54\x45\x4d\x50\x4c\x41\x54\x45\x5f\x4d\x45\x53\x53\x41\x47\x45':"Saving Design Idea...",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x43\x4f\x4e\x46\x49\x47\x55\x52\x41\x54\x49\x4f\x4e\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading configuration...",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x43\x4f\x4c\x4f\x52\x53\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading colors...",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x43\x4f\x4e\x46\x49\x47\x5f\x50\x41\x52\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Cannot load %key%: empty or non-valid JSON",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x47\x52\x41\x50\x48\x49\x43\x53\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading graphics...",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x44\x45\x53\x49\x47\x4e\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading design...",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x44\x45\x53\x49\x47\x4e':"Failed to load design",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x43\x4f\x4c\x4f\x52\x5f\x4c\x49\x53\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Cannot load color list: empty or non-valid JSON",'\x54\x45\x4d\x50\x4c\x41\x54\x45\x5f\x55\x50\x44\x41\x54\x45\x44\x5f\x4d\x45\x53\x53\x41\x47\x45':"Template updated successfully!",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x53\x4f\x43\x49\x41\x4c\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading social configuration...",'\x4c\x4f\x41\x44\x5f\x54\x45\x4d\x50\x4c\x41\x54\x45':"Load template",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x53\x41\x56\x45\x5f\x54\x45\x4d\x50\x4c\x41\x54\x45\x5f\x4d\x45\x53\x53\x41\x47\x45':"Failed to save template!",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x53\x48\x41\x52\x45\x5f\x44\x45\x53\x49\x47\x4e':"Failed to share design",'\x44\x45\x53\x49\x47\x4e\x5f\x57\x49\x54\x48\x4f\x55\x54\x5f\x54\x49\x54\x4c\x45\x5f\x4c\x4f\x41\x44\x45\x44\x5f\x4d\x45\x53\x53\x41\x47\x45':"Design loaded successfully!",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x50\x52\x4f\x44\x55\x43\x54\x5f\x4d\x41\x53\x4b\x5f\x4d\x45\x53\x53\x41\x47\x45':"Failed to load product mask '%url%'.",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x46\x4f\x4e\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Error loading font: %fontFamily%.",'\x53\x48\x41\x52\x49\x4e\x47\x5f\x44\x45\x53\x49\x47\x4e\x5f\x4d\x45\x53\x53\x41\x47\x45':"Sharing Design...",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x47\x52\x41\x50\x48\x49\x43\x5f\x4c\x49\x53\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Cannot load graphic list: empty or non-valid JSON",'\x43\x41\x4e\x43\x45\x4c\x5f\x4f\x50\x54\x49\x4f\x4e':"Cancel",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x53\x41\x56\x45\x5f\x44\x45\x53\x49\x47\x4e':"Failed to save design",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x43\x4f\x4e\x46\x49\x47\x5f\x4d\x45\x53\x53\x41\x47\x45':"Failed to load config by following the link '%url%'",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading...",'\x44\x45\x53\x49\x47\x4e\x5f\x4e\x4f\x54\x5f\x53\x55\x50\x50\x4f\x52\x54\x45\x44\x5f\x42\x59\x5f\x54\x45\x4d\x50\x4c\x41\x54\x45\x5f\x4d\x45\x53\x53\x41\x47\x45':"Your design is not supported by this template and will be removed.",'\x52\x45\x47\x49\x53\x54\x45\x52\x49\x4e\x47\x5f\x46\x4f\x4e\x54\x5f\x45\x52\x52\x4f\x52\x5f\x4d\x45\x53\x53\x41\x47\x45':"Error registering font: \n%fontFamily%",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x46\x4f\x4e\x54\x53\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading fonts...",'\x4c\x4f\x41\x44\x5f\x55\x4e\x53\x41\x56\x45\x44\x5f\x44\x45\x53\x49\x47\x4e\x5f\x48\x45\x41\x44\x45\x52\x5f\x4d\x45\x53\x53\x41\x47\x45':"Design Recover",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x54\x45\x4d\x50\x4c\x41\x54\x45\x5f\x4c\x49\x53\x54':"Failed to load templates list",'\x44\x45\x53\x49\x47\x4e\x5f\x4c\x4f\x41\x44\x45\x44\x5f\x4d\x45\x53\x53\x41\x47\x45':"Design '%title%' loaded successfully!",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x44\x45\x53\x49\x47\x4e\x5f\x4c\x49\x53\x54':"Failed to load designs list",'\x4c\x4f\x41\x44\x45\x44\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loaded",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x50\x52\x4f\x44\x55\x43\x54\x5f\x47\x52\x41\x50\x48\x49\x43\x5f\x4d\x45\x53\x53\x41\x47\x45':"Failed to load graphic '%url%'.",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x45\x46\x46\x45\x43\x54\x53\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading effects...",'\x44\x45\x53\x49\x47\x4e\x5f\x4e\x4f\x54\x5f\x53\x55\x50\x50\x4f\x52\x54\x45\x44\x5f\x42\x59\x5f\x50\x52\x4f\x44\x55\x43\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Your design is not supported by this product and will be removed.",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x46\x4f\x4e\x54\x5f\x45\x52\x52\x4f\x52\x5f\x4d\x45\x53\x53\x41\x47\x45':"Fail to load font: \n%fontFamily%",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4f\x50\x45\x4e\x5f\x50\x52\x49\x4e\x54\x5f\x50\x4f\x50\x55\x50':"Failed to open print pop-up. Please ensure pop-ups are always allowed for this site.<br/>Note: Cancel page reload (if browser requires such)",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x50\x4c\x41\x43\x45\x5f\x4f\x52\x44\x45\x52':"Failed to order design",'\x51\x55\x4f\x54\x45\x5f\x45\x52\x52\x4f\x52\x5f\x4d\x45\x53\x53\x41\x47\x45':"Failed to load quote: %message%",'\x4c\x4f\x41\x44\x5f\x55\x4e\x53\x41\x56\x45\x44\x5f\x44\x45\x53\x49\x47\x4e\x5f\x4d\x45\x53\x53\x41\x47\x45':"You have unsaved design. Do you want to recover it?",'\x44\x45\x53\x49\x47\x4e\x5f\x53\x41\x56\x45\x44\x5f\x4d\x45\x53\x53\x41\x47\x45':"Design '%title%' saved successfully!",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x46\x4f\x4e\x54\x5f\x4c\x49\x53\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Cannot load font list: empty or non-valid JSON",'\x52\x45\x50\x4c\x41\x43\x45\x5f\x43\x55\x52\x52\x45\x4e\x54\x5f\x44\x45\x53\x49\x47\x4e\x5f\x4f\x50\x54\x49\x4f\x4e':"Replace Current Design",'\x57\x52\x4f\x4e\x47\x5f\x50\x52\x4f\x44\x55\x43\x54\x5f\x49\x44\x5f\x45\x52\x52\x4f\x52\x5f\x4d\x45\x53\x53\x41\x47\x45':"Wrong product ID: %id%.",'\x54\x45\x4d\x50\x4c\x41\x54\x45\x5f\x53\x41\x56\x45\x44\x5f\x4d\x45\x53\x53\x41\x47\x45':"Template '%title%' saved successfully!",'\x45\x58\x49\x53\x54\x49\x4e\x47\x5f\x44\x45\x53\x49\x47\x4e\x5f\x44\x49\x41\x4c\x4f\x47\x55\x45\x5f\x41\x43\x54\x49\x4f\x4e':"What would you like to do with the existing design?",'\x4c\x4f\x41\x44\x5f\x50\x52\x4f\x44\x55\x43\x54':"Load product",'\x53\x41\x56\x49\x4e\x47\x5f\x44\x45\x53\x49\x47\x4e\x5f\x4d\x45\x53\x53\x41\x47\x45':"Saving Design...",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x54\x45\x58\x54\x5f\x45\x46\x46\x45\x43\x54\x5f\x4c\x49\x53\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Cannot load text effects list: empty or non-valid JSON",'\x51\x55\x4f\x54\x45\x5f\x49\x4e\x56\x41\x4c\x49\x44\x5f\x52\x45\x53\x50\x4f\x4e\x53\x45\x5f\x45\x52\x52\x4f\x52\x5f\x4d\x45\x53\x53\x41\x47\x45':"Failed to load quote! Response is invalid.",'\x4c\x4f\x41\x44\x49\x4e\x47\x5f\x50\x52\x4f\x44\x55\x43\x54\x53\x5f\x4d\x45\x53\x53\x41\x47\x45':"Loading products...",'\x4e\x4f\x5f\x46\x4f\x4e\x54\x5f\x56\x45\x43\x54\x4f\x52\x5f\x49\x4e\x46\x4f\x5f\x4d\x45\x53\x53\x41\x47\x45':"No font vector info: \n%fontFamily%",'\x43\x4f\x4e\x54\x49\x4e\x55\x45\x5f\x4f\x50\x54\x49\x4f\x4e':"Continue",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x44\x45\x53\x49\x47\x4e\x5f\x54\x45\x4d\x50\x4c\x41\x54\x45':"Failed to load design template",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x42\x41\x43\x4b\x47\x52\x4f\x55\x4e\x44\x5f\x4d\x45\x53\x53\x41\x47\x45':"Failed to load background '%url%'",'\x4e\x4f\x5f\x46\x4f\x4e\x54\x5f\x49\x4e\x46\x4f\x5f\x4d\x45\x53\x53\x41\x47\x45':"No font info: \n%fontFamily%",'\x41\x44\x44\x5f\x44\x45\x53\x49\x47\x4e\x5f\x4f\x50\x54\x49\x4f\x4e':"Add Design",'\x4f\x52\x44\x45\x52\x5f\x50\x4c\x41\x43\x45\x44\x5f\x53\x55\x43\x43\x45\x53\x53\x46\x55\x4c\x4c\x59\x5f\x4d\x45\x53\x53\x41\x47\x45':"Order placed successfully!",'\x46\x41\x49\x4c\x5f\x54\x4f\x5f\x4c\x4f\x41\x44\x5f\x50\x52\x4f\x44\x55\x43\x54\x5f\x4c\x49\x53\x54\x5f\x4d\x45\x53\x53\x41\x47\x45':"Cannot load product list: empty or non-valid JSON"};};x25["prototype"]["updateDictionary"]=function(Z25){for(var c25 in Z25){if(this["translation"]["hasOwnProperty"](c25)){this["translation"][c25]=Z25[c25];}}};function x25(){this["initTranslation"]();}return x25;}();Y95=function(){e25["processDesignSavedMessage"]=function(s25,n25){var a25;a25=s25;if(a25)a25=a25["replace"]("%title%",n25);return a25;};e25["processFailedToLoadConfigPartMessage"]=function(h25,S25){if(h25)h25=h25["replace"]("%key%",S25);return h25;};e25["processFailedToLoadConfigMessage"]=function(U25,L25){if(U25)U25=U25["replace"]("%url%",L25);return U25;};e25["processFailedToLoadProductBackgroundMessage"]=function(l25,Y25){if(l25)l25=l25["replace"]("%url%",Y25);return l25;};e25["processFailedToLoadProductMaskMessage"]=function(f25,q25){if(f25)f25=f25["replace"]("%url%",q25);return f25;};e25["processFailedToLoadGraphicMessage"]=function(p25,u25){if(p25)p25=p25["replace"]("%url%",u25);return p25;};e25["processFailedToLoadFontMessage"]=function(F25,E25){if(F25)F25=F25["replace"]("%fontFamily%",E25);return F25;};e25["processNoFontInfoMessage"]=function(r25,w25){if(r25)r25=r25["replace"]("%fontFamily%",w25);return r25;};e25["processNoFontVectorInfoMessage"]=function(b25,J25){if(b25)b25=b25["replace"]("%fontFamily%",J25);return b25;};e25["processErrorRegisteringFontMessage"]=function(W25,m0H){if(W25)W25=W25["replace"]("%fontFamily%",m0H);return W25;};e25["processErrorLoadingFontMessage"]=function(O0H,G0H){if(O0H)O0H=O0H["replace"]("%fontFamily%",G0H);return O0H;};e25["processGetQuoteErrorMessage"]=function(A0H,C0H){if(A0H)A0H=A0H["replace"]("%message%",C0H);return A0H;};function e25(){}e25["processGetQuoteInvalidResponseErrorMessage"]=function(z0H){return z0H;};e25["processFailedToLoadQuote"]=function(I0H,t0H){if(I0H)I0H=I0H["replace"]("%message%",t0H);return I0H;};e25["processOrderPlacedMessage"]=function(K0H){return K0H;};e25["processWrongProductIdMessage"]=function(X0H,T0H){if(X0H)X0H=X0H["replace"]("%id%",T0H);return X0H;};e25["processTemplateSavedMessage"]=function(y0H,R0H){if(y0H)y0H=y0H["replace"]("%title%",R0H);return y0H;};e25["processDesignLoadedMessage"]=function(Q0H,o0H){var v0H;v0H=Q0H;if(v0H)v0H=v0H["replace"]("%title%",o0H);return v0H;};e25["processDesignWithoutTitleLoadedMessage"]=function(D0H){return D0H;};return e25;}();}(L95=U95["Model"]||(U95["Model"]={})));}(LAJS||(LAJS={})));(function(k0H){var g0H;(function(M0H){var V0H;V0H=function(){B0H["prototype"]["toObject"]=function(){return{'\x75\x6e\x69\x74':this["unit"],'\x6c\x61\x62\x65\x6c':this["label"],'\x64\x65\x63\x69\x6d\x61\x6c':this["decimal"],'\x66\x75\x6c\x6c\x4c\x61\x62\x65\x6c':this["fullLabel"]};};function B0H(P0H){this["unit"]="";this["label"]="";this["fullLabel"]="";this["unitToMMMult"]=+"1";this["decimal"]=+"0";if(!P0H)return;if(P0H["unit"])this["unit"]=P0H["unit"];if(P0H["label"])this["label"]=P0H["label"];if(P0H["fullLabel"])this["fullLabel"]=P0H["fullLabel"];else this["fullLabel"]=this["label"];if(P0H["unitToMMMult"])this["unitToMMMult"]=P0H["unitToMMMult"];if(P0H["decimal"])this["decimal"]=P0H["decimal"];}return B0H;}();M0H["UnitVO"]=V0H;M0H["inchesToMMMult"]="25.4"-0;M0H["MEASUREMENT_SYSTEMS"]={'\x69\x6d\x70\x65\x72\x69\x61\x6c':[new V0H({'\x75\x6e\x69\x74':"in",'\x6c\x61\x62\x65\x6c':"in",'\x66\x75\x6c\x6c\x4c\x61\x62\x65\x6c':"Inch",'\x75\x6e\x69\x74\x54\x6f\x4d\x4d\x4d\x75\x6c\x74':M0H["inchesToMMMult"],'\x64\x65\x63\x69\x6d\x61\x6c':"2"|0}),new V0H({'\x75\x6e\x69\x74\x54\x6f\x4d\x4d\x4d\x75\x6c\x74':M0H["inchesToMMMult"]*("12"|0),'\x6c\x61\x62\x65\x6c':"ft",'\x64\x65\x63\x69\x6d\x61\x6c':2,'\x66\x75\x6c\x6c\x4c\x61\x62\x65\x6c':"Foot",'\x75\x6e\x69\x74':"ft"})],'\x6d\x65\x74\x72\x69\x63':[new V0H({'\x75\x6e\x69\x74':"mm",'\x66\x75\x6c\x6c\x4c\x61\x62\x65\x6c':"Milimetre",'\x6c\x61\x62\x65\x6c':"mm",'\x75\x6e\x69\x74\x54\x6f\x4d\x4d\x4d\x75\x6c\x74':+"1",'\x64\x65\x63\x69\x6d\x61\x6c':"0"-0}),new V0H({'\x75\x6e\x69\x74':"cm",'\x75\x6e\x69\x74\x54\x6f\x4d\x4d\x4d\x75\x6c\x74':+"10",'\x6c\x61\x62\x65\x6c':"cm",'\x64\x65\x63\x69\x6d\x61\x6c':+"1",'\x66\x75\x6c\x6c\x4c\x61\x62\x65\x6c':"Centimetre"}),new V0H({'\x6c\x61\x62\x65\x6c':"m",'\x66\x75\x6c\x6c\x4c\x61\x62\x65\x6c':"Metre",'\x64\x65\x63\x69\x6d\x61\x6c':2,'\x75\x6e\x69\x74\x54\x6f\x4d\x4d\x4d\x75\x6c\x74':"10"*1*+"100",'\x75\x6e\x69\x74':"m"})]};}(g0H=k0H["VO"]||(k0H["VO"]={})));}(LAJS||(LAJS={})));(function(H0H){var i0H;(function(d0H){d0H["getUnit"]=N0H;function e0H(r0H){var u0H,F0H,E0H;u0H=r0H===void("0"-0)?{'\x77\x69\x64\x74\x68':+"0",'\x68\x65\x69\x67\x68\x74':0}:r0H,F0H=u0H["width"],E0H=u0H["height"];return typeof F0H!=="undefined"&&typeof E0H!=="undefined"&&F0H>+"0"&&E0H>0;}function N0H(n0H){var s0H;s0H=H0H["Util"]["arrayFind"](H0H["VO"]["MEASUREMENT_SYSTEMS"]["imperial"],"unit",n0H);if(!s0H){s0H=H0H["Util"]["arrayFind"](H0H["VO"]["MEASUREMENT_SYSTEMS"]["metric"],"unit",n0H);}return s0H;}function Z0H(f0H,q0H,p0H){return f0H+" \u00D7 "+q0H+" "+p0H;}d0H["getUnitByLabel"]=j0H;d0H["getMeasurementSystemUnits"]=x0H;function a0H(A8H,z8H){var b0H,J0H,w0H,m8H,O8H,G8H,W0H,C8H;b0H=z8H["width"];J0H=z8H["height"];if(A8H&&A8H["resizable"]){w0H=A8H["locations"][0]["editableAreaUnitsRange"];if(w0H&&w0H["length"]>+"1"){m8H=w0H[+"0"][0];O8H=w0H[0]["1"*1];G8H=w0H["1"*1][+"0"];W0H=w0H[1][+"1"];if(!A8H["locations"][+"0"]["editableAreaUnitsRestrictRotation"]){if(b0H<J0H){m8H=Math["min"](w0H["0"|0]["0"-0],w0H["1"|0][+"0"]);G8H=Math["max"](w0H[0]["0"-0],w0H[+"1"][+"0"]);O8H=Math["min"](w0H["0"-0]["1"|0],w0H[+"1"][1]);W0H=Math["max"](w0H[+"0"]["1"-0],w0H[+"1"][1]);}else{m8H=Math["max"](w0H[+"0"]["0"-0],w0H[1][0]);G8H=Math["min"](w0H["0"|0][+"0"],w0H[+"1"][+"0"]);O8H=Math["max"](w0H[+"0"][1],w0H[+"1"][+"1"]);W0H=Math["min"](w0H["0"|0][1],w0H[+"1"]["1"|0]);}}if(b0H<m8H){b0H=m8H;}if(J0H<G8H){J0H=G8H;}if(b0H>O8H){b0H=O8H;}if(J0H>W0H){J0H=W0H;}}}C8H=z8H["clone"]();C8H["width"]=b0H;C8H["height"]=J0H;return C8H;}function c0H(l0H,Y0H){var L0H;L0H=l0H%Y0H;if(L0H<Y0H-L0H){l0H-=L0H;}else{l0H+=Y0H-L0H;}return l0H;}d0H["snapToStep"]=c0H;d0H["generateLabel"]=Z0H;d0H["isValidSize"]=e0H;d0H["validateDefaultSizes"]=a0H;function j0H(S0H){var h0H;h0H=H0H["Util"]["arrayFind"](H0H["VO"]["MEASUREMENT_SYSTEMS"]["imperial"],"label",S0H);if(!h0H){h0H=H0H["Util"]["arrayFind"](H0H["VO"]["MEASUREMENT_SYSTEMS"]["metric"],"label",S0H);}return h0H;}function x0H(U0H){if(H0H["Util"]["arrayFind"](H0H["VO"]["MEASUREMENT_SYSTEMS"]["imperial"],"label",U0H)){return H0H["VO"]["MEASUREMENT_SYSTEMS"]["imperial"];}if(H0H["Util"]["arrayFind"](H0H["VO"]["MEASUREMENT_SYSTEMS"]["metric"],"label",U0H)){return H0H["VO"]["MEASUREMENT_SYSTEMS"]["metric"];}return null;}}(i0H=H0H["SizeUtils"]||(H0H["SizeUtils"]={})));}(LAJS||(LAJS={})));(function(I8H){var t8H;(function(K8H){var T8H,y8H,R8H,v8H,Q8H,o8H,X8H;T8H=I8H["VO"]["ProductCanvasSizeVO"];y8H=I8H["SizeUtils"]["snapToStep"];R8H=I8H["SizeUtils"]["generateLabel"];v8H=I8H["SizeUtils"]["isValidSize"];Q8H=I8H["SizeUtils"]["validateDefaultSizes"];o8H=function(){D8H["prototype"]["setUnit"]=function(Z8H){var P8H,j8H,N8H,x8H,d8H,H8H,c8H,i8H;P8H=I8H["SizeUtils"]["getUnit"](Z8H);if(!P8H)return;j8H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);N8H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["secondaryUnit"]);if(P8H!==j8H&&P8H!==N8H){x8H=I8H["SizeUtils"]["getMeasurementSystemUnits"](P8H["label"]);if(x8H){if(x8H["some"](function(e8H){return e8H["unit"]===N8H["unit"];})){P8H=N8H;}else{P8H=j8H;}}}if(this["selectedUnit"]!==P8H){this["selectedUnit"]=P8H;d8H=K8H["productManager"]["currentProduct"];if(d8H&&d8H["locations"]&&d8H["locations"]["length"]){H8H=d8H["locations"][+"0"]["editableAreaUnitsRange"];if(H8H&&H8H["length"]&&H8H["0"|0]&&H8H[+"0"]["length"]>"2"*1&&H8H[0][+"2"]>0){c8H=H8H["0"-0][+"2"];i8H=K8H["sizeManager"]["getCurrentProductSize"](X8H["SELECTED"]);i8H["width"]=y8H(i8H["width"],c8H);i8H["height"]=y8H(i8H["height"],c8H);this["setProductSize"](i8H,!{});}}}this["updateSelectedUnit"]();this["updateSizes"]();K8H["canvasManager"]["onSelectedUnitChange"]();};D8H["prototype"]["getCurrentProductSize"]=function(n8H){var h8H,a8H,s8H,S8H;h8H=this;if(n8H===void+"0"){n8H=X8H["DEFAULT"];}a8H=this["currentProductSize"]&&v8H(this["currentProductSize"])?new T8H(this["currentProductSize"]):null;s8H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);if(a8H&&s8H){a8H["unit"]=s8H["unit"];}if(n8H===X8H["SELECTED"]&&a8H&&this["selectedUnit"]&&s8H){S8H=s8H["unitToMMMult"]/this["selectedUnit"]["unitToMMMult"];a8H["unit"]=this["selectedUnit"]["unit"];a8H["width"]=I8H["Util"]["round"](a8H["width"]*S8H,this["selectedUnit"]["decimal"]);a8H["height"]=I8H["Util"]["round"](a8H["height"]*S8H,this["selectedUnit"]["decimal"]);}if(a8H){if(K8H["productManager"]["currentProduct"]&&K8H["productManager"]["currentProduct"]["editableAreaSizes"])K8H["productManager"]["currentProduct"]["editableAreaSizes"]["some"](function(U8H){if(U8H["width"]===h8H["currentProductSize"]["width"]&&U8H["height"]===h8H["currentProductSize"]["height"]){a8H["label"]=U8H["label"];return!!{};}return!{};});if(!a8H["label"]){a8H["label"]=R8H(a8H["width"],a8H["height"],a8H["unit"]);}}return a8H;};D8H["prototype"]["toDefaultSize"]=function(Y8H){var L8H,l8H,f8H,q8H;if(!Y8H)return Y8H;L8H=new T8H(Y8H["toObject"]());l8H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);f8H=I8H["SizeUtils"]["getUnit"](L8H["unit"]);if(l8H&&f8H){q8H=f8H["unitToMMMult"]/l8H["unitToMMMult"];L8H["unit"]=l8H["unit"];L8H["width"]=L8H["width"]*q8H;L8H["height"]=L8H["height"]*q8H;}return L8H;};function D8H(g8H){var k8H;k8H=this;this["currentProductSize"]=null;g8H["addEventListener"](LAEvents["CONFIG_LOADED_EVENT"],function(){var M8H,B8H,V8H;k8H["setUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);M8H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);B8H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["secondaryUnit"]);V8H=[];if(M8H){V8H["push"](M8H);}else{K8H["controlsManager"]["setUnitLabel"](K8H["configManager"]["config"]["options"]["unit"]);}if(B8H)V8H["push"](B8H);K8H["controlsManager"]["setAvailableUnits"](V8H);});}D8H["prototype"]["setProductSize"]=function(p8H,u8H){if(u8H===void("0"-0)){u8H=!!"";}if(!p8H)return;p8H=this["toDefaultSize"](p8H);p8H=Q8H(K8H["productManager"]["currentProduct"],p8H);this["currentProductSize"]={'\x77\x69\x64\x74\x68':p8H["width"],'\x68\x65\x69\x67\x68\x74':p8H["height"]};if(!u8H)K8H["canvasManager"]["onProductSizeChanged"]();this["updateSizes"]();};D8H["prototype"]["updateSelectedUnit"]=function(){if(this["selectedUnit"]){K8H["controlsManager"]["setSelectedUnit"](this["selectedUnit"]);}this["updateSizeList"]();};D8H["prototype"]["getEditableAreaSizes"]=function(){var F8H,E8H,r8H;F8H=this;if(!K8H["productManager"]["currentProduct"])return[];E8H=K8H["productManager"]["currentProduct"]["editableAreaSizes"]["map"](function(w8H){return w8H["clone"]();});r8H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);if(r8H&&this["selectedUnit"]){E8H["forEach"](function(b8H){var J8H;J8H=F8H["convertDefaultToSelectedUnits"]([b8H["width"],b8H["height"]])["map"](function(W8H){return I8H["Util"]["round"](W8H,F8H["selectedUnit"]["decimal"]);});if(J8H&&J8H["length"]>1){b8H["unit"]=r8H["unit"];if(!b8H["label"]){b8H["label"]=R8H(J8H[0],J8H[1],F8H["selectedUnit"]["unit"]);}}});}return E8H;};D8H["prototype"]["updateSizeList"]=function(){K8H["controlsManager"]["setEditableAreaSizes"](this["getEditableAreaSizes"]());};D8H["prototype"]["updateSizes"]=function(){var O3H,G3H,m3H,A3H;O3H=this;G3H=K8H["sizeManager"]["getCurrentProductSize"](X8H["SELECTED"]);if(G3H){m3H=K8H["productManager"]["currentProduct"];if(m3H&&m3H["locations"]&&m3H["locations"]["length"]&&m3H["locations"]["0"*1]["editableAreaUnitsRange"]){A3H=m3H["locations"]["0"*1]["editableAreaUnitsRange"]["map"](function(T3H){var C3H,t3H,K3H,z3H,X3H,I3H;C3H=T3H["slice"]();t3H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);if(C3H&&t3H&&O3H["selectedUnit"]&&C3H["length"]>"1"-0){K3H=t3H["unitToMMMult"]/O3H["selectedUnit"]["unitToMMMult"];C3H[0]=C3H[+"0"]*K3H;C3H["1"*1]=C3H["1"*1]*K3H;z3H=K8H["productManager"]["currentProduct"]["locations"][+"0"]["editableAreaUnitsRange"];if(z3H&&z3H["length"]&&z3H["0"*1]&&z3H[+"0"]["length"]>"2"*1){X3H=z3H["0"*1][2];I3H=C3H["0"-0]%X3H;if(I3H!=="0"-0){C3H[0]+=X3H-I3H;C3H["1"-0]-=I3H;}}C3H[+"0"]=I8H["Util"]["ceil"](C3H["0"-0],O3H["selectedUnit"]["decimal"]);C3H[+"1"]=I8H["Util"]["floor"](C3H["1"-0],O3H["selectedUnit"]["decimal"]);}return C3H;});K8H["controlsManager"]["setEditableAreaUnitsRange"](A3H);}else{K8H["controlsManager"]["setEditableAreaUnitsRange"]([]);}K8H["controlsManager"]["setSelectedProductSize"](G3H);}};D8H["prototype"]["upscaleSelectedUnits"]=function(R3H,k3H){var Q3H,y3H,o3H,g3H,v3H,V3H,M3H,B3H;if(k3H===void("0"|0)){k3H=![];}if(!R3H||R3H["length"]<+"2")return null;Q3H=this["selectedUnit"]?this["selectedUnit"]["label"]:K8H["configManager"]["config"]["options"]["unit"];y3H=R3H["slice"]();if(!this["selectedUnit"]){o3H=K8H["configManager"]["config"]["options"]["unitConversionMult"];if(o3H){g3H=y3H["every"](function(P3H){return P3H/o3H>=("2"|0);});if(g3H){y3H=R3H["map"](function(H3H){return I8H["Util"]["round"](H3H/o3H,+"2");});Q3H=K8H["configManager"]["config"]["options"]["unit2"];}}}else{v3H=I8H["SizeUtils"]["getMeasurementSystemUnits"](this["selectedUnit"]["label"]);if(v3H){v3H["sort"](function(i3H,d3H){return d3H["unitToMMMult"]-i3H["unitToMMMult"];});V3H=function(c3H){var N3H,j3H,x3H;N3H=v3H[c3H];j3H=M3H["selectedUnit"]["unitToMMMult"]/N3H["unitToMMMult"];x3H=y3H["every"](function(Z3H){return j3H*Z3H>="2"*1;});if(x3H){y3H=R3H["map"](function(e3H){return I8H["Util"]["round"](e3H*j3H,N3H["decimal"]);});Q3H=k3H?N3H["fullLabel"]:N3H["label"];return"break";}};M3H=this;for(var D3H=+"0";D3H<v3H["length"];D3H++){B3H=V3H(D3H);if(B3H==="break")break;}}}return{'\x6c\x61\x62\x65\x6c':Q3H,'\x75\x6e\x69\x74\x73':y3H};};D8H["prototype"]["convertDefaultToSelectedUnits"]=function(a3H){var n3H,s3H;n3H=this;s3H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);if(!this["selectedUnit"]||!a3H||!s3H)return a3H;return a3H["map"](function(h3H){return h3H*s3H["unitToMMMult"]/n3H["selectedUnit"]["unitToMMMult"];});};D8H["prototype"]["selectedToDefaultUnitMult"]=function(){var S3H,U3H;S3H="1"*1;U3H=I8H["SizeUtils"]["getUnit"](K8H["configManager"]["config"]["options"]["defaultUnit"]);if(this["selectedUnit"]&&U3H){S3H=U3H["unitToMMMult"]/this["selectedUnit"]["unitToMMMult"];}return S3H;};return D8H;}();K8H["SizeManager"]=o8H;(function(L3H){L3H[L3H["DEFAULT"]="0"-0]="DEFAULT";L3H[L3H["SELECTED"]="1"-0]="SELECTED";}(X8H=K8H["ProductSizeUnitsType"]||(K8H["ProductSizeUnitsType"]={})));}(t8H=I8H["Model"]||(I8H["Model"]={})));}(LAJS||(LAJS={})));(function(l3H){var Y3H;(function(f3H){var q3H;q3H=function(u3H){__extends(p3H,u3H);p3H["getInstance"]=function(){if(!f3H["laModel"])f3H["laModel"]=new p3H();return f3H["laModel"];};function p3H(){var F3H;F3H=u3H["call"](this)||this;F3H["inited"]=!!0;F3H["width"]=+"0";F3H["height"]=+"0";F3H["defaultDesignId"]="";F3H["defaultProductId"]="";F3H["defaultGraphicId"]="";F3H["defaultProductAttributes"]={};F3H["holderDimensions"]=[587,543];F3H["adminMode"]=!1;F3H["selectedUnit"]=null;f3H["configManager"]=F3H["configManager"]=new f3H["ConfigManager"](F3H);f3H["canvasManager"]=F3H["canvasManager"]=new f3H["CanvasManager"](F3H);f3H["controlsManager"]=F3H["controlsManager"]=new f3H["ControlsManager"](F3H);f3H["statusManager"]=F3H["statusManager"]=new f3H["StatusManager"](F3H);f3H["orderManager"]=F3H["orderManager"]=new f3H["OrderManager"](F3H);f3H["authManager"]=F3H["authManager"]=new f3H["AuthManager"](F3H);f3H["saveLoadManager"]=F3H["saveLoadManager"]=new f3H["SaveLoadManager"](F3H);f3H["imageColorsProcessor"]=F3H["imageColorsProcessor"]=new f3H["ImageColorsProcessor"](F3H);f3H["productManager"]=F3H["productManager"]=new f3H["ProductManager"](F3H);f3H["textEffectsManager"]=F3H["textEffectsManager"]=new f3H["TextEffectsManager"](F3H);f3H["historyManager"]=F3H["historyManager"]=new f3H["HistoryManager"](F3H);f3H["dialogManager"]=F3H["dialogManager"]=new f3H["DialogManager"]();f3H["messageManager"]=F3H["messageManager"]=new f3H["MessageManager"]();f3H["browserStorageManager"]=F3H["browserStorageManager"]=new f3H["BrowserStorageManager"]();f3H["sizeManager"]=F3H["sizeManager"]=new f3H["SizeManager"](F3H);f3H["externalServices"]=F3H["externalServices"]={'\x71\x75\x6f\x74\x65':new l3H["ExternalServices"]["Ajax"]["QuoteService"](jQuery,f3H["configManager"])};return F3H;}p3H["prototype"]["setHolder"]=function(E3H){this["holder"]=jQuery(E3H);this["width"]=this["holderDimensions"][0];this["height"]=this["holderDimensions"][+"1"];};return p3H;}(l3H["Events"]["EventDispatcher"]);q3H["version"]="0.10.34";q3H["buildTimeStamp"]="Wed Aug 01 2018 20:11:02";f3H["LAModel"]=q3H;}(Y3H=l3H["Model"]||(l3H["Model"]={})));}(LAJS||(LAJS={})));(function(r3H){var w3H;(function(b3H){var J3H;J3H=function(){W3H["prototype"]["onFontLoaded"]=function(O1H,G1H){};W3H["prototype"]["onFontLoadError"]=function(A1H,C1H){b3H["messageManager"]["failedToLoadFontMessage"](A1H);};W3H["checkRaphaelFont"]=function(z1H,I1H){if(this["raphaelFonts"][z1H]){return!"";}W3H["loadRaphaelFont"](z1H,I1H);return!!0;};function W3H(m1H){this["fontAscents"]={};this["fontsLoaded"]=0;this["model"]=m1H;}W3H["loadRaphaelFont"]=function(t1H,T1H){var y1H,K1H,X1H;y1H=this;jQuery["support"]["cors"]=!![];K1H=b3H["configManager"]["config"]["getFont"](t1H);X1H=!"";if(!K1H){b3H["messageManager"]["noFontInfoMessage"](t1H);X1H=!!"";}if(!K1H["vector"]){if(!this["raphaelFontsErrors"][t1H]){b3H["messageManager"]["noFontVectorInfoMessage"](t1H);this["raphaelFontsErrors"][t1H]=!![];}X1H=!{};}if(X1H){jQuery["get"](K1H["vector"],function(R1H,v1H,Q1H){return y1H["onRaphaelFontLoaded"](R1H,t1H,T1H);},"script")["fail"](function(o1H,D1H,k1H){return y1H["oRaphaelFontLoadFail"](t1H,o1H,D1H,k1H);});}else{if(T1H)T1H(!1);}};W3H["onRaphaelFontLoaded"]=function(M1H,g1H,B1H){var V1H;if(M1H){V1H=!!0;if(!V1H){try{eval(M1H);}catch(P1H){V1H=!![];b3H["messageManager"]["errorRegisteringFontMessage"](g1H);}this["raphaelFonts"][g1H]=!![];if(B1H)B1H();}}else{b3H["messageManager"]["errorLoadingFontMessage"](g1H);}};W3H["oRaphaelFontLoadFail"]=function(H1H,i1H,d1H,N1H){b3H["messageManager"]["failedToLoadFontMessage"](H1H);};return W3H;}();J3H["raphaelFonts"]={};J3H["raphaelFontsErrors"]={};b3H["FontManager"]=J3H;}(w3H=r3H["Model"]||(r3H["Model"]={})));}(LAJS||(LAJS={})));(function(j1H){var x1H;(function(c1H){var Z1H,e1H,a1H;Z1H=function(){s1H["prototype"]["allowedAttrs"]=function(){switch(this["type"]){case ObjectType["Image"]:return c1H["Obj"]["imgAttrs"];case ObjectType["SVG"]:return c1H["Obj"]["svgAttrs"];case ObjectType["Text"]:default:return c1H["Obj"]["textAttrs"];}};s1H["prototype"]["getSourceId"]=function(){return this["attr"]()["sourceId"];};s1H["prototype"]["setSourceId"]=function(S1H){this["attr"]({'\x73\x6f\x75\x72\x63\x65\x49\x64':S1H});};s1H["prototype"]["clone"]=function(){var U1H;U1H=new a1H();U1H["type"]=this["type"];U1H["value"]=this["value"];U1H["attrs"]=this["getAttr"]();if(this["type"]==ObjectType["Image"]){U1H["value"]=U1H["attrs"]["src"];}else if((!this["value"]||this["value"]=="dumb")&&this["type"]==ObjectType["SVG"]){U1H["value"]=U1H["attrs"]["sourceUrl"];}U1H["maxScale"]=this["maxScale"]();U1H["initScale"]=this["initScale"];if(this["multicolor"]){U1H["multicolor"]=!![];U1H["complexColor"]=new c1H["ComplexColorVO"](this["complexColor"]);U1H["styleVO"]=new c1H["StyleVO"](this["styleVO"]["toString"]());}U1H["isUploaded"]=this["isUploaded"];return U1H;};s1H["prototype"]["attr"]=function(L1H){if(L1H){this["setAttr"](L1H);return this;}else{return this["getAttr"]();}};s1H["prototype"]["getAttr"]=function(){var Y1H,l1H,F1H,p1H,u1H,E1H,f1H;Y1H=this["elementLink"];if(this["elementLinkBackup"])Y1H=this["elementLinkBackup"];if(this["textElementLink"])Y1H=this["textElementLink"];if(!Y1H)return{};if(!Y1H)return{};l1H={};F1H=this["allowedAttrs"]();for(var q1H=+"0";q1H<F1H["length"];q1H++){p1H=F1H[q1H];if(Y1H["attr"](p1H)!=undefined){l1H[p1H]=Y1H["attr"](p1H);}}if(this["type"]==ObjectType["Text"]){switch(Y1H["attr"]("text-anchor")){case"start":l1H["text-align"]="left";break;case"end":l1H["text-align"]="right";break;case"middle":default:l1H["text-align"]="center";break;}}l1H["isDefaultText"]=this["isDefaultText"];l1H["type"]=this["type"];l1H["multicolor"]=this["multicolor"];l1H["complex-color"]=this["complexColor"]["toObject"]();l1H["id"]=this["elementId"];l1H["uploaded"]=this["uploaded"];u1H=Y1H["matrix"]["split"]();E1H=this["getBBox"]();u1H['width']=E1H["width"];u1H['height']=E1H["height"];l1H["transformation"]=u1H;this["attrCache"]=l1H;l1H["uwidth"]=this["getUWidth"]();l1H["uheight"]=this["getUHeight"]();l1H["dpuExceeded"]=this["dpuExceeded"];if(this["isConstrained"]()){l1H['constrained']=!!"1";f1H=l1H["constraints"];l1H['constraintString']=[f1H["0"-0],f1H["1"*1],f1H[+"0"]+f1H[2],f1H[1]+f1H["3"|0]]["join"](",");}else{l1H['constraintString']="";l1H['constrained']=![];}l1H['showConstraints']=this["isConstraintsShown"]();return l1H;};s1H["prototype"]["setAttr"]=function(r1H){var I6H,m6H,w1H,R6H,v6H,z6H,X6H,y6H,T6H,K6H,W1H,b1H,J1H,A6H,O6H,G6H;if(!r1H)return;I6H=!{};this["lastAttrCacheString"]=j1H["Util"]["attrToString"](this["attrCache"],c1H["Obj"]["floatAttrs"]);r1H=this["filterAttr"](r1H);m6H=this["elementLink"];if(this["elementLinkBackup"])m6H=this["elementLinkBackup"];if(this["textElementLink"])m6H=this["textElementLink"];if(!m6H){if(!this["defaultAttr"])this["defaultAttr"]={};for(var t6H in r1H){this["defaultAttr"][t6H]=r1H[t6H];}return;}w1H={};R6H=this["allowedAttrs"]();for(var C6H in r1H){if(j1H["Util"]["arrayIndexOf"](C6H,R6H)!=-1){v6H=m6H["attr"](C6H);w1H[C6H]=r1H[C6H];}}if(!r1H["ignoreLastFont"]&&this["attrCache"]&&this["attrCache"]["font-family"]&&w1H["font-family"]&&w1H["font-family"]!=this["attrCache"]["font-family"]){this["lastFont"]=this["attrCache"]["font-family"];}if("textEffect"in r1H){z6H=this["getAttr"]()["textEffect"]?this["getAttr"]()["textEffect"]:"none";X6H=z6H!="none"&&!j1H["Effects"]["isVector"](z6H);y6H=r1H["textEffect"]!="none"&&!j1H["Effects"]["isVector"](r1H["textEffect"]);if(X6H!=y6H){if(!X6H){this["lastAlign"]=this["getAttr"]()["text-align"];r1H["text-align"]="center";}else{r1H["text-align"]=this["lastAlign"];this["lastAlign"]="";}}T6H=j1H["Effects"]["isVector"](z6H);K6H=j1H["Effects"]["isVector"](r1H["textEffect"]);if(T6H!=K6H){W1H=j1H["Util"]["getObjectDimensions"](this["elementLink"]);b1H=0;J1H="0"*1;if(K6H){if(r1H["text-align"]=="right"){b1H=-W1H["dw"]/+"2";J1H=-W1H["dh"]/("2"-0);}else if(r1H["text-align"]=="left"){b1H=W1H["dw"]/+"2";J1H=W1H["dh"]/("2"*1);}}else{if(r1H["text-align"]=="right"){b1H=W1H["dw"]/("2"|0);J1H=W1H["dh"]/+"2";}else if(r1H["text-align"]=="left"){b1H=-W1H["dw"]/("2"*1);J1H=-W1H["dh"]/+"2";}}this["move"](b1H,J1H);}}if("text-align"in r1H){A6H=this["getAttr"]()["text-align"];W1H=j1H["Util"]["getObjectDimensions"](this["elementLink"]);O6H=W1H["dw"];G6H=W1H["dh"];b1H=+"0";J1H="0"-0;switch(r1H["text-align"]){case"left":if(A6H=="center"){b1H=-O6H/+"2";J1H=-G6H/+"2";}if(A6H=="right"){b1H=-O6H;J1H=-G6H;}w1H["text-anchor"]="start";break;case"right":if(A6H=="center"){b1H=O6H/+"2";J1H=G6H/("2"|0);}if(A6H=="left"){b1H=O6H;J1H=G6H;}w1H["text-anchor"]="end";break;case"center":default:if(A6H=="right"){b1H=-O6H/2;J1H=-G6H/("2"|0);}if(A6H=="left"){b1H=O6H/+"2";J1H=G6H/("2"*1);}w1H["text-anchor"]="middle";break;}this["move"](b1H,J1H);if(w1H["text-anchor"]!=m6H["attr"]("text-anchor"))I6H=!![];}if(w1H["font-family"]!=m6H["attr"]("font-family"))I6H=!!1;if("text"in w1H&&w1H["text"]["replace"](/\s/gi,"")===""){w1H["text"]=e1H["DEFAULT_TEXT"];this["isDefaultText"]=!!1;}else{this["isDefaultText"]=!1;}m6H["attr"](w1H);if(m6H["type"]==ObjectType["Image"]&&w1H["src"]&&!w1H["alreadyLoaded"]){this["updateImage"](m6H,w1H);}if("align"in r1H)this["align"](r1H["align"]);if("uploaded"in r1H)this["uploaded"]=r1H["uploaded"];if("uwidth"in r1H)this["setUWidth"](r1H["uwidth"],r1H["lockScale"]);if("uheight"in r1H)this["setUHeight"](r1H["uheight"],r1H["lockScale"]);this["checkTextFXAttr"]();this["checkFitBounds"]();if(this["checkConstraints"]())I6H=!"";if(this["type"]==ObjectType["Text"]){this["textBBox"]=null;}};s1H["prototype"]["filterAttr"]=function(g6H){var o6H,k6H,Q6H;o6H=this["attr"]();k6H={};for(var D6H in g6H){Q6H=!!{};switch(D6H){case"fill":case"fill-opacity":if(o6H["fixedColor"])Q6H=![];break;case"font-family":if(o6H["fixedFont"])Q6H=!{};break;case"stroke":case"stroke-width":case"stroke-opacity":case"font-weight":case"font-style":case"letter-spacing":if(o6H["fixedStyle"])Q6H=!"1";break;default:break;}if(Q6H){k6H[D6H]=g6H[D6H];}}return k6H;};s1H["prototype"]["maxScale"]=function(){var B6H,V6H,M6H,P6H,H6H;if(!this["elementLink"]||!this["designer"])return 0;B6H=j1H["Util"]["getBBox"](this["elementLink"],!0);V6H=B6H["width"];if(V6H<=+"0")return 0;if(this["type"]!=ObjectType["Image"])return+"0";M6H=0;P6H=j1H["Util"]["getBBox"](this["elementLink"],!!{});if(this["designer"]["minDPU"]>"0"-0&&this["designer"]["dpu"]>("0"|0)){H6H=this["designer"]["dpu"]/this["designer"]["minDPU"];M6H=H6H*V6H/P6H["width"];}return M6H;};s1H["prototype"]["updateImage"]=function(N6H,i6H){var d6H;d6H=this;this["value"]=i6H["src"];if(!this["designer"])return;this["designer"]["loadImage"](this,function(x6H,j6H){return d6H["onImageLoaded"](j6H,i6H);});};s1H["prototype"]["onImageLoaded"]=function(c6H,Z6H){c6H["attr"](Z6H);this["designer"]["tracker"]["track"](c6H);};s1H["prototype"]["remove"]=function(){if(this["designer"])this["designer"]["remove"](this);return this;};s1H["prototype"]["toBack"]=function(){if(this["elementLink"])this["elementLink"]["toBack"]();if(this["designer"])this["designer"]["layerChange"](this["elementLink"],"toBack");return this;};s1H["prototype"]["toFront"]=function(){if(this["elementLink"])this["elementLink"]["toFront"]();if(this["designer"])this["designer"]["fixPrintAreaLayer"]();if(this["designer"])this["designer"]["layerChange"](this["elementLink"],"toFront");return this;};s1H["prototype"]["up"]=function(){if(this["elementLink"]&&this["elementLink"]["next"])this["elementLink"]["insertAfter"](this["elementLink"]["next"]);if(this["designer"])this["designer"]["fixPrintAreaLayer"]();if(this["designer"])this["designer"]["layerChange"](this["elementLink"],"up");return this;};s1H["prototype"]["down"]=function(){if(this["elementLink"]&&this["elementLink"]["prev"])this["elementLink"]["insertBefore"](this["elementLink"]["prev"]);if(this["designer"])this["designer"]["layerChange"](this["elementLink"],"down");return this;};s1H["prototype"]["move"]=function(e6H,a6H){if(this["elementLink"])j1H["Util"]["move"](this["elementLink"],e6H,a6H);if(this["designer"])this["designer"]["tracker"]["track"]();return this;};s1H["prototype"]["flip"]=function(s6H){this["_flip"]=s6H;if(this["elementLink"]){j1H["Util"]["flip"](this["elementLink"],s6H);if(this["designer"])this["designer"]["forceTrackerUpdate"](this);}return this;};s1H["prototype"]["align"]=function(n6H){if(this["designer"])this["designer"]["align"](n6H,this);return this;};s1H["prototype"]["transform"]=function(h6H){if(this["elementLink"]){j1H["Util"]["transform"](this["elementLink"],h6H);if(this["designer"])this["designer"]["tracker"]["track"]();}return this;};s1H["prototype"]["getAreaCoords"]=function(){var S6H;if(!this["elementLink"])return null;S6H=this["getBBox"]();return[S6H["x"],S6H["y"],S6H["x2"],S6H["y2"]];};s1H["prototype"]["canMove"]=function(){var U6H;U6H=this["attr"]();return!this["isFixed"]()&&!U6H["fixedMove"]&&!this["isFitConstraints"]();};s1H["prototype"]["canRotate"]=function(){var L6H;L6H=this["attr"]();return!this["isFixed"]()&&!L6H["fixedRotate"]&&!this["isConstraintsShown"]()&&!this["isFitConstraints"]();};s1H["prototype"]["canResize"]=function(){var l6H;l6H=this["attr"]();return!this["isFixed"]()&&!l6H["fixedSize"]&&!this["isConstraintsShown"]()&&!this["isFitConstraints"]();};s1H["prototype"]["canDelete"]=function(){var Y6H;Y6H=this["attr"]();return!this["isFixed"]()&&!Y6H["fixed"]&&!Y6H["required"]&&!this["isConstraintsShown"]()&&!this["showPreloader"];};function s1H(h1H,n1H){if(n1H===void("0"-0)){n1H="";}this["type"]=h1H;this["value"]=n1H;this["textElementId"]="";this["textUrl"]="";this["_flip"]=FlipKind["None"];this["loadedFromDesign"]=!{};this["uploaded"]=!1;this["showPreloader"]=!{};this["initScale"]=+"0";this["suppressFitResize"]=!!"";this["defaultTransform"]="";this["forceTransform"]=!!0;this["multicolor"]=!1;this["dpuExceeded"]=!"1";this["complexColor"]=new c1H["ComplexColorVO"]();this["styleVO"]=new c1H["StyleVO"]("");this["lastFont"]="";this["lastAlign"]="";this["isDefaultText"]=![];this["isUploaded"]=![];this["textBBox"]=null;this["elementIdBackup"]="";this["attrCache"]={};this["lastAttrCacheString"]="";this["waitingToCheckFX"]=!!"";}s1H["prototype"]["isFixed"]=function(){var f6H;f6H=this["attr"]();return f6H["fixed"]||f6H["userFixed"];};s1H["prototype"]["isUserFixed"]=function(){var q6H;q6H=this["attr"]();return q6H["userFixed"];};s1H["prototype"]["isNameNumber"]=function(){var p6H;p6H=this["attr"]();return p6H["nameObj"]||p6H["numberObj"];};s1H["prototype"]["getWidth"]=function(){var u6H;if(!this["elementLink"])return+"0";u6H=j1H["Util"]["getBBox"](this["elementLink"],!"");return u6H["width"]*j1H["Util"]["getMatrixScaleX"](this["elementLink"]["matrix"]);};s1H["prototype"]["setWidth"]=function(w6H,F6H){var E6H,r6H;if(F6H===void+"0"){F6H=!!{};}if(!this["elementLink"])return;E6H=w6H/this["getWidth"]();r6H=F6H?E6H:+"1";j1H["Util"]["scaleElementXY"](this["elementLink"],E6H,r6H,!![]);};s1H["prototype"]["getUWidth"]=function(){var b6H;if(!this["designer"])return 0;b6H=this["getWidth"]()/this["designer"]["dpuX"];return Math["round"](b6H*+"10000")/+"10000";};s1H["prototype"]["setUWidth"]=function(J6H,W6H){if(W6H===void("0"*1)){W6H=!"";}J6H=+J6H;if(!this["designer"])return;this["setWidth"](J6H*this["designer"]["dpuX"],W6H);};s1H["prototype"]["getHeight"]=function(O7H){var m7H;if(O7H===void 0){O7H=!!"1";}if(!this["elementLink"])return"0"-0;if(this["type"]==ObjectType["Text"]&&c1H["Obj"]["enableAccurateText"]){m7H=this["getBBox"](!0);}else{m7H=j1H["Util"]["getBBox"](this["elementLink"],!!{});}if(O7H){return m7H["height"]*j1H["Util"]["getMatrixScaleY"](this["elementLink"]["matrix"]);}else{return m7H["height"];}};s1H["prototype"]["setHeight"]=function(z7H,G7H){var A7H,C7H;if(G7H===void("0"*1)){G7H=!!1;}if(!this["elementLink"])return;A7H=z7H/this["getHeight"]();C7H=G7H?A7H:1;j1H["Util"]["scaleElementXY"](this["elementLink"],C7H,A7H,!![]);};s1H["prototype"]["getUHeight"]=function(){var I7H;if(!this["designer"])return"0"*1;I7H=this["getHeight"]()/this["designer"]["dpuY"];return Math["round"](I7H*("10000"-0))/10000;};s1H["prototype"]["setUHeight"]=function(t7H,K7H){if(K7H===void+"0"){K7H=!!"1";}t7H=+t7H;if(!this["designer"])return;this["setHeight"](t7H*this["designer"]["dpuY"],K7H);};s1H["prototype"]["getBBox"]=function(X7H){var y7H,T7H;if(X7H===void 0){X7H=!!"";}if(!this["elementLink"]){if(this["textElementLink"]){y7H=j1H["Util"]["getBBox"](this["textElementLink"],X7H);y7H["x"]="0"*1;return y7H;}else{return{'\x79\x32':"0"*1,'\x77\x69\x64\x74\x68':+"0",'\x78':"0"|0,'\x78\x32':"0"|0,'\x68\x65\x69\x67\x68\x74':"0"*1,'\x79':"0"*1};}}if(this["type"]==ObjectType["Text"]&&!this["hasTextFX"]()&&s1H["enableAccurateText"]){if(!this["textBBox"])this["textBBox"]=j1H["Util"]["getTrueBBox"](this["elementLink"],!!{});T7H=j1H["Util"]["cloneBBox"](this["textBBox"]);if(!X7H)T7H=j1H["Util"]["applyTransformation"](T7H,this["elementLink"]);return T7H;}else{return j1H["Util"]["getBBox"](this["elementLink"],X7H);}};s1H["prototype"]["checkFitBounds"]=function(){var Q7H,v7H,o7H,D7H,R7H,k7H,g7H;if(this["type"]!=ObjectType["Text"])return;if(!this["elementLink"])return;Q7H=this["attr"]();if(!Q7H["fitBounds"])return;v7H=Q7H["fitBounds"];if(v7H["length"]<+"2")return;o7H=v7H["0"|0];D7H=v7H["1"|0];R7H=j1H["Util"]["getBBox"](this["elementLink"]);if(parseFloat(R7H["width"]["toFixed"](+"4"))==+"0"||parseFloat(R7H["height"]["toFixed"]("4"|0))==+"0")return;k7H=o7H/R7H["width"];g7H=D7H/R7H["height"];j1H["Util"]["scaleElement"](this["elementLink"],Math["min"](k7H,g7H),!"");};s1H["restoreElAttrs"]=function(M7H,V7H){if("letterSpacing"in V7H)M7H["attr"]("letterSpacing",V7H["letterSpacing"]);};s1H["prototype"]["isImage"]=function(){return this["type"]==ObjectType["Image"]||this["hasTextFX"]()&&!this["isTextFXVector"]();};s1H["prototype"]["isSVG"]=function(){return this["type"]==ObjectType["SVG"]||this["hasTextFX"]()&&this["isTextFXVector"]();};s1H["prototype"]["needTextFX"]=function(B7H){if("textEffect"in B7H&&B7H["textEffect"]!=""&&B7H["textEffect"]!="none")return!![];return!!"";};s1H["prototype"]["hasTextFX"]=function(){if(this["textElementId"])return!0;return![];};s1H["prototype"]["isTextFXVector"]=function(){return this["textUrl"]&&this["textUrl"]["substr"]("0"|0,"6"*1)=="svg://";};s1H["prototype"]["checkTextFXAttr"]=function(){var H7H,d7H,P7H,i7H;H7H=this;if(!(this["type"]==ObjectType["Text"]))return;if(this["waitingToCheckFX"])return;d7H=new Date()["getTime"]();P7H=this["getAttr"]();i7H=j1H["Util"]["attrToString"](P7H,c1H["Obj"]["floatAttrs"]);if(i7H==this["lastAttrCacheString"])return;if(this["needTextFX"](P7H)){this["waitingToCheckFX"]=!!1;setTimeout(function(){return H7H["doCheckTextFXAttr"]();},s1H["checkTextFXThrottle"]);}else{this["doCheckTextFXAttr"]();}};s1H["prototype"]["doCheckTextFXAttr"]=function(x7H){var c7H,N7H,Z7H,e7H,j7H;c7H=this;if(x7H===void 0){x7H=!"";}this["waitingToCheckFX"]=!{};if(!(this["type"]==ObjectType["Text"]))return;N7H=this["getAttr"]();if(!x7H){if(this["lastFont"]!=""&&this["lastFont"]!=N7H["font-family"]){this["attr"]({'\x66\x6f\x6e\x74\x2d\x66\x61\x6d\x69\x6c\x79':this["lastFont"],'\x69\x67\x6e\x6f\x72\x65\x4c\x61\x73\x74\x46\x6f\x6e\x74':!!1});if(this["designer"]&&this["designer"]["selected"]()==this){this["designer"]["select"](this["elementLink"],!![]);}}}else{if(this["needTextFX"](N7H)){if(!j1H["Model"]["TextEffectsManager"]["canFormUrl"](N7H,function(a7H){return c7H["doCheckTextFXAttr"](a7H);})){return;}if(this["hasTextFX"]()&&this["elementLink"]){Z7H=j1H["Util"]["getBBox"](this["textElementLink"],!!1)["width"];e7H=this["isTextFXVector"]();j7H=j1H["Model"]["TextEffectsManager"]["formTextImageUrl"](N7H,Z7H);if(this["textUrl"]==j7H)return;this["textUrl"]=j7H;if(!this["elementLink"])return;if(e7H!=this["isTextFXVector"]()){this["removeTextFX"]();this["addTextFX"](N7H);}else{if(this["isTextFXVector"]()){this["updateVectorTextFXSize"](j7H);}else{if(this["elementLink"]["attr"]()["src"]==j7H)return;this["updateTextFXSize"]();this["elementLink"]["attr"]("src",j7H);}}}else{this["addTextFX"](N7H);}}else{if(this["hasTextFX"]()){this["removeTextFX"]();}else{}}}};s1H["prototype"]["addTextFX"]=function(h7H){var n7H,s7H;if(this["elementLink"]){this["textElementId"]=this["elementId"];this["textElementLink"]=this["elementLink"];}n7H=j1H["Util"]["getBBox"](this["textElementLink"],!![])["width"];s7H=j1H["Model"]["TextEffectsManager"]["formTextImageUrl"](h7H,n7H);this["textUrl"]=s7H;this["textElementLink"]["hide"]();this["elementId"]="";this["elementLink"]=null;this["textUrl"]=s7H;this["designer"]["addObjectToCanvas"](this,!!"",this["designer"]&&this["designer"]["selected"]()==this);};s1H["prototype"]["removeTextFX"]=function(){this["designer"]["switchTextFX"](!{},this);this["elementLink"]=this["textElementLink"];this["elementId"]=this["textElementId"];this["textElementLink"]=null;this["textElementId"]="";this["elementLink"]["show"]();};s1H["prototype"]["updateTextFXSize"]=function(){var U7H,S7H;U7H=this;this["showPreloader"]=!![];if(this["designer"]&&this["designer"]["selected"]()==this){this["designer"]["tracker"]["track"](this["elementLink"]);}S7H=new Image();S7H["onload"]=function(L7H){return U7H["onTextFXLoaded"](S7H);};S7H["src"]=this["textUrl"];};s1H["prototype"]["onTextFXLoaded"]=function(l7H){var Y7H,f7H,q7H;this["showPreloader"]=!1;if(this["textElementLink"]&&l7H["src"]==this["textUrl"]){if(this["hasTextFX"]()&&l7H["src"]==this["textUrl"]){Y7H=l7H["width"];f7H=l7H["height"];q7H=j1H["Util"]["getBBox"](this["textElementLink"],!!"1");f7H=l7H["height"]*q7H["width"]/Y7H;Y7H=q7H["width"];this["elementLink"]["attr"]("width",Y7H);this["elementLink"]["attr"]("height",f7H);if(this["designer"]&&this["designer"]["selected"]()==this){this["designer"]["tracker"]["track"](this["elementLink"]);}}}};s1H["prototype"]["updateVectorTextFXSize"]=function(p7H){if(!this["textElementLink"])return;if(!this["hasTextFX"]())return;if(!this["designer"])return;p7H=p7H["substr"]("6"-0);this["designer"]["onSVGUpdated"](this,p7H);if(this["designer"]&&this["designer"]["selected"]()==this){this["designer"]["tracker"]["track"](this["elementLink"]);}};s1H["prototype"]["updateColorize"]=function(){if(!this["designer"])return;this["designer"]["colorizeObject"](this);};s1H["prototype"]["isEmpty"]=function(){var u7H;if(this["type"]==ObjectType["Text"]){u7H=this["attr"]();if(!u7H["text"]){return!!"1";}}return!"1";};s1H["prototype"]["isConstrained"]=function(){var F7H;F7H=this["attrCache"];return!!"1"&&F7H["constraints"]&&F7H["constraints"]["length"]&&F7H["constraints"]["length"]>="4"-0;};s1H["prototype"]["isConstraintsShown"]=function(){return this["elementLinkBackup"]!=null;};s1H["prototype"]["isFitConstraints"]=function(){var E7H;E7H=this["attrCache"];return!!{}&&E7H["fitConstraints"];};s1H["prototype"]["setConstained"]=function(b7H){var J7H,w7H,r7H;if(!this["elementLink"])return;if(!this["designer"])return;J7H=this["isSelected"]();w7H=this["isConstrained"]();if(!w7H&&b7H){r7H=j1H["Util"]["getBBox"](this["elementLink"]);this["attr"]({'\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x73':[r7H["x"],r7H["y"],r7H["width"],r7H["height"]],'\x66\x69\x78\x65\x64':!!""});}else if(w7H&&!b7H){this["setShowConstraints"](!{});this["attr"]({'\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x73':null});}if(J7H)this["designer"]["select"](this["elementLink"]);};s1H["prototype"]["setShowConstraints"]=function(W7H){var m4H;if(!this["elementLink"])return;if(!this["designer"])return;m4H=this["isSelected"]();if(!this["isConstraintsShown"]()&&W7H){this["designer"]["showConstraints"](this);}else if(this["isConstraintsShown"]()&&!W7H){this["designer"]["hideConstraints"](this);}if(m4H)this["designer"]["select"](this["elementLink"]);};s1H["prototype"]["checkConstraints"]=function(){var z4H,G4H,O4H,I4H,A4H,C4H;z4H=!1;if(this["isConstraintsShown"]())return![];if(!this["isConstrained"]()&&!this["designer"])return!"1";G4H=j1H["Util"]["getBBox"](this["elementLink"]);O4H=[];if(this["isConstrained"]()){O4H=this["attrCache"]["constraints"];}if(!O4H||!O4H["length"]||O4H["length"]<+"4")return;I4H=Math["min"](O4H[2]/G4H["width"],O4H["3"-0]/G4H["height"]);if(I4H<+"1"||this["isFitConstraints"]()){z4H=!!"1";j1H["Util"]["scaleElement"](this["elementLink"],I4H,!!{});G4H=j1H["Util"]["getBBox"](this["elementLink"]);}A4H="0"-0;C4H="0"|0;if(G4H["x"]<O4H["0"|0]){A4H=O4H[+"0"]-G4H["x"];}else if(G4H["x2"]>O4H["0"*1]+O4H["2"|0]){A4H=O4H[+"0"]+O4H[2]-G4H["x2"];}if(G4H["y"]<O4H["1"|0]){C4H=O4H["1"*1]-G4H["y"];}else if(G4H["y2"]>O4H[1]+O4H[3]){C4H=O4H[+"1"]+O4H["3"*1]-G4H["y2"];}if(this["isFitConstraints"]()){A4H=O4H[+"0"]+O4H[+"2"]/("2"|0)-(G4H["x"]+(G4H["x2"]-G4H["x"])/+"2");C4H=O4H[+"1"]+O4H["3"|0]/("2"*1)-(G4H["y"]+(G4H["y2"]-G4H["y"])/2);}if(A4H!==+"0"||C4H!=="0"*1){z4H=!!{};j1H["Util"]["move"](this["elementLink"],A4H,C4H);}return z4H;};s1H["prototype"]["isSelected"]=function(){return this["designer"]&&this["designer"]["selected"]()==this;};return s1H;}();Z1H["laAttrs"]=["laservice","fixed","userFixed","fixedSize","fixedRotate","fixedMove","fixedColor","required","fitBounds","fixedFont","fixedStyle","nameObj","numberObj","x","y","transform","align","constraints","fitConstraints","showConstraints"];Z1H["textAttrs"]=Z1H["laAttrs"]["concat"](["fill","fill-opacity","src","stroke","stroke-width","font-family","font-size","font-weight","stroke-opacity","text","font-style","letterSpacing","text-align","textEffect","textEffectValue","line-leading"]);Z1H["imgAttrs"]=Z1H["laAttrs"]["concat"](["src","sourceId","sourceUrl","processColors","colorsNumber","colorsList","alreadyLoaded","textSourceId","isUploaded"]);Z1H["svgAttrs"]=Z1H["laAttrs"]["concat"](["src","stroke","fill","sourceId","sourceUrl","processColors","colorsNumber","colorsList","colorize","isUploaded"]);Z1H["floatAttrs"]=["letterSpacing","textEffectValue","line-leading"];Z1H["enableAccurateText"]=![];Z1H["checkTextFXThrottle"]=+"400";c1H["Obj"]=Z1H;e1H=function(){function t4H(){}return t4H;}();e1H["DEFAULT_TEXT"]="Your text here";c1H["ObjectConst"]=e1H;a1H=function(){function K4H(){this["type"]="";this["value"]="";this["attrs"]={};this["maxScale"]="1"-0;this["initScale"]="1"*1;this["multicolor"]=!{};}return K4H;}();c1H["CloneObj"]=a1H;}(x1H=j1H["VO"]||(j1H["VO"]={})));}(LAJS||(LAJS={})));mobilesafari='ontouchstart'in window||navigator["msMaxTouchPoints"]>+"0";(function(X4H){var y4H,T4H;y4H=function(){Q4H["prototype"]["init"]=function(k4H,g4H,V4H,o4H,M4H){var D4H;X4H["debug"]("LiveArtJS ver. "+X4H["Model"]["LAModel"]["version"]+" ("+X4H["Model"]["LAModel"]["buildTimeStamp"]+")");this["laMain"]=new T4H();this["setModelUpdateHandler"](V4H);if(o4H&&o4H["placeOrderHandler"])this["setPlaceOrderHandler"](o4H["placeOrderHandler"]);D4H=o4H?o4H["dimensions"]:null;this["laMain"]["init"](k4H,g4H,o4H,D4H,M4H);return this;};function Q4H(){}Q4H["prototype"]["setModelUpdateHandler"]=function(B4H){this["laMain"]["setModelUpdateHandler"](B4H);return this;};Q4H["prototype"]["setPlaceOrderHandler"]=function(P4H){this["laMain"]["setPlaceOrderHandler"](P4H);};Q4H["prototype"]["userInteract"]=function(H4H){if(!this["laMain"])return!{};this["laMain"]["userInteract"](H4H);return this;};Q4H["prototype"]["debug"]=function(){X4H["debug"]=X4H["trueDebug"];};return Q4H;}();X4H["LiveArtJS"]=y4H;T4H=function(){i4H["prototype"]["init"]=function(c4H,Z4H,j4H,x4H,e4H){if(j4H){if(j4H["defaultDesignId"]&&j4H["defaultDesignId"]!='null')this["model"]["defaultDesignId"]=j4H["defaultDesignId"];if(j4H["defaultProductId"]&&j4H["defaultProductId"]!='null')this["model"]["defaultProductId"]=j4H["defaultProductId"];if(j4H["defaultGraphicId"]&&j4H["defaultGraphicId"]!='null')this["model"]["defaultGraphicId"]=j4H["defaultGraphicId"];if(j4H["defaultProductAttributes"]){this["model"]["defaultProductAttributes"]={};if(j4H["defaultProductAttributes"]["sizeUnits"]&&j4H["defaultProductAttributes"]["sizeUnits"]["length"]===+"2"){this["model"]["defaultProductAttributes"]["sizeUnits"]=j4H["defaultProductAttributes"]["sizeUnits"];}if(j4H["defaultProductAttributes"]["quantities"]&&j4H["defaultProductAttributes"]["quantities"]!='null'){this["model"]["defaultProductAttributes"]["quantities"]=j4H["defaultProductAttributes"]["quantities"];}if(j4H["defaultProductAttributes"]["selectedUnit"]&&j4H["defaultProductAttributes"]["selectedUnit"]!='null'){this["model"]["defaultProductAttributes"]["selectedUnit"]=j4H["defaultProductAttributes"]["selectedUnit"];}}if(j4H&&j4H["translation"]){this["model"]["controlsManager"]["setDictionary"](j4H["translation"]);this["model"]["messageManager"]["updateDictionary"](j4H["translation"]);}if(x4H&&x4H["length"]=="2"-0){this["model"]["holderDimensions"]=x4H;}if(j4H["adminMode"]){this["model"]["adminMode"]=!![];}}this["model"]["setHolder"](c4H);this["model"]["configManager"]["loadConfig"](Z4H);this["model"]["controlsManager"]["uiHelpers"]=e4H;};i4H["prototype"]["onOptionsLoaded"]=function(a4H){this["options"]=a4H;this["continueInit"]();};i4H["prototype"]["continueInit"]=function(){};i4H["prototype"]["setOptions"]=function(s4H){this["options"]=this["model"]["configManager"]["setOptions"](s4H);};i4H["prototype"]["addObject"]=function(h4H,S4H,U4H){var n4H;n4H=new X4H["VO"]["Obj"](h4H,S4H);n4H["defaultAttr"]=U4H;return this["addObjectToCanvas"](n4H);};i4H["prototype"]["removeObject"]=function(L4H){return this["model"]["canvasManager"]["removeObject"](L4H);};i4H["prototype"]["addObjectToCanvas"]=function(l4H){return this["model"]["canvasManager"]["addObjectToCanvas"](l4H);};i4H["prototype"]["onObjectSelected"]=function(Y4H){if(this["selectHandler"])this["selectHandler"](Y4H["obj"]);};function i4H(){var d4H;d4H=this;this["options"]=new X4H["VO"]["LAOptions"]();this["model"]=X4H["Model"]["LAModel"]["getInstance"]();this["model"]["addEventListener"](LAEvents["CONFIG_LOADED_EVENT"],function(N4H){return d4H["onOptionsLoaded"](N4H);});}i4H["prototype"]["getObjAttr"]=function(f4H){return f4H["attr"]();};i4H["prototype"]["settObjAttr"]=function(q4H,p4H){q4H["attr"](p4H);};i4H["prototype"]["onSelect"]=function(u4H){this["selectHandler"]=u4H;};i4H["prototype"]["selected"]=function(){return this["model"]["canvasManager"]["selected"]();};i4H["prototype"]["setModelUpdateHandler"]=function(F4H){this["model"]["controlsManager"]["setModelUpdateHandler"](F4H);};i4H["prototype"]["setPlaceOrderHandler"]=function(E4H){this["model"]["orderManager"]["setPlaceOrderHandler"](E4H);};i4H["prototype"]["userInteract"]=function(r4H){this["model"]["controlsManager"]["userInteract"](r4H);};return i4H;}();function R4H(){var O9H;O9H=[];for(var m9H=+"0";m9H<arguments["length"];m9H++){O9H[m9H]=arguments[m9H];}}X4H["LAMain"]=T4H;X4H["trueDebug"]=v4H;X4H["noDebug"]=R4H;function v4H(){var b4H,W4H;b4H=[];for(var w4H=0;w4H<arguments["length"];w4H++){b4H[w4H]=arguments[w4H];}if(window["console"]&&console["log"]){W4H=new Date();console["log"]("--- "+W4H["toTimeString"]()+" "+W4H["getMilliseconds"]()+" ---");for(var J4H=+"0";J4H<b4H["length"];J4H++){console["log"](b4H[J4H]);}}}X4H["debug"]=R4H;}(LAJS||(LAJS={})));(function(G9H){var C9H,A9H;C9H=function(){z9H["prototype"]["track"]=function(t9H,K9H){var T9H,X9H;T9H=this;if(K9H===void+"0"){K9H=!{};}if(t9H){X9H=this["trackers"][t9H["id"]];if(!X9H)X9H=this["trackers"][t9H["id"]]=new A9H(t9H,this["designer"]["canvas"],function(R9H){return T9H["onTrackerMouseDown"](R9H);},this);else X9H["update"](K9H);}else{for(var y9H in this["trackers"]){this["trackers"][y9H]["update"](K9H);}}};function z9H(I9H){this["trackers"]={};this["zoom"]=+"100";this["lockProportions"]=!!1;this["lockEls"]=[];this["unlockEls"]=[];this["designer"]=I9H;}z9H["prototype"]["stopTrack"]=function(Q9H){var v9H;if(Q9H){v9H=this["trackers"][Q9H["id"]];if(v9H&&v9H["lockEl"]){v9H["remove"]();delete this["trackers"][Q9H["id"]];}}else{this["clear"]();}};z9H["prototype"]["clear"]=function(){for(var o9H in this["trackers"]){this["trackers"][o9H]["remove"]();delete this["trackers"][o9H];}};z9H["prototype"]["setLockProportions"]=function(D9H){if(D9H==this["lockProportions"])return;this["lockProportions"]=D9H;this["track"](null,!![]);};z9H["prototype"]["onTrackerMouseDown"]=function(k9H){this["designer"]["trackerAction"](k9H);};z9H["prototype"]["markTracker"]=function(g9H){g9H["node"]["isTracker"]=!!"1";return g9H;};z9H["prototype"]["setZoom"]=function(V9H){if(V9H==this["zoom"])return;this["zoom"]=V9H;this["track"]();};z9H["prototype"]["addUnlockEl"]=function(M9H){if(M9H){this["unlockEls"]["push"](M9H);}};z9H["prototype"]["addLockEl"]=function(B9H){if(B9H){this["lockEls"]["push"](B9H);}};z9H["prototype"]["clearLockCache"]=function(){for(var P9H="0"*1;P9H<this["lockEls"]["length"];P9H++){this["lockEls"][P9H]["remove"]();}this["lockEls"]=[];};z9H["prototype"]["clearUnlockCache"]=function(){for(var H9H=+"0";H9H<this["unlockEls"]["length"];H9H++){this["unlockEls"][H9H]["remove"]();}this["unlockEls"]=[];};return z9H;}();G9H["TrackerManager"]=C9H;A9H=function(){i9H["prototype"]["draw"]=function(){var Z9H,c9H,h9H,s9H,e9H,a9H,n9H;Z9H=this["element"]["node"]["objectLink"];c9H=Z9H["getBBox"](!0);this["lastBBox"]=c9H;this["lastFixed"]=Z9H["isFixed"]();h9H="#494949";s9H=+"0";this["box"]=this["canvas"]["rect"](c9H["x"]-s9H,c9H["y"]-s9H,c9H["width"]+s9H*+"2",c9H["height"]+s9H*2)["attr"]({'\x73\x74\x72\x6f\x6b\x65\x2d\x64\x61\x73\x68\x61\x72\x72\x61\x79':"- ",'\x73\x74\x72\x6f\x6b\x65':h9H,'\x6f\x70\x61\x63\x69\x74\x79':+"0.7"});this["box"]["attr"]("laservice",!![]);n9H=Math["min"](c9H["width"]+s9H*("2"*1),c9H["height"]+s9H*+"2");this["preloader"]=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["imagePreloaderPath"](),c9H["x"]+(c9H["width"]+s9H*+"2"-n9H)/2,c9H["y"]+(c9H["height"]+s9H*+"2"-n9H)/("2"*1),n9H,n9H);this["preloader"]["attr"]("laservice",!"");this["preloader"]["hide"]();if(Z9H&&Z9H["canRotate"]()&&!Z9H["isConstraintsShown"]()){e9H=this["getTrackerXY"](G9H["Action"]["Rotate"],c9H)["x"];a9H=this["getTrackerXY"](G9H["Action"]["Rotate"],c9H)["y"];this["rotateEl"]=this["trackerIcon"](e9H,a9H,G9H["Action"]["Rotate"]);}if(Z9H&&Z9H["canDelete"]()&&!Z9H["isConstraintsShown"]()){e9H=this["getTrackerXY"](G9H["Action"]["Delete"],c9H)["x"];a9H=this["getTrackerXY"](G9H["Action"]["Delete"],c9H)["y"];this["deleteEl"]=this["trackerIcon"](e9H,a9H,G9H["Action"]["Delete"]);}if(Z9H&&Z9H["canResize"]()||Z9H["isConstraintsShown"]()){e9H=this["getTrackerXY"](G9H["Action"]["ResizeH"],c9H)["x"];a9H=this["getTrackerXY"](G9H["Action"]["ResizeH"],c9H)["y"];this["resizeHEl"]=this["trackerIcon"](e9H,a9H,G9H["Action"]["ResizeH"]);e9H=this["getTrackerXY"](G9H["Action"]["ResizeV"],c9H)["x"];a9H=this["getTrackerXY"](G9H["Action"]["ResizeV"],c9H)["y"];this["resizeVEl"]=this["trackerIcon"](e9H,a9H,G9H["Action"]["ResizeV"]);e9H=this["getTrackerXY"](G9H["Action"]["Resize"],c9H)["x"];a9H=this["getTrackerXY"](G9H["Action"]["Resize"],c9H)["y"];this["resizeEl"]=this["trackerIcon"](e9H,a9H,G9H["Action"]["Resize"]);}if(!Z9H["isFitConstraints"]()&&!Z9H["isConstraintsShown"]()){if(Z9H&&Z9H["isUserFixed"]()){e9H=this["getTrackerXY"](G9H["Action"]["Unlock"],c9H)["x"];a9H=this["getTrackerXY"](G9H["Action"]["Unlock"],c9H)["y"];this["trackerManager"]["clearUnlockCache"]();this["unlockEl"]=this["trackerIcon"](e9H,a9H,G9H["Action"]["Unlock"]);}else{e9H=this["getTrackerXY"](G9H["Action"]["Lock"],c9H)["x"];a9H=this["getTrackerXY"](G9H["Action"]["Lock"],c9H)["y"];this["trackerManager"]["clearLockCache"]();this["lockEl"]=this["trackerIcon"](e9H,a9H,G9H["Action"]["Lock"]);}}this["update"]();};i9H["prototype"]["update"]=function(w9H){var p9H,L9H,m5H,W9H,f9H,q9H,J9H,b9H,S9H,U9H,Y9H,l9H,r9H,E9H,F9H,u9H;if(w9H===void("0"*1)){w9H=!{};}p9H=this["element"]["node"]["objectLink"];L9H=p9H["getBBox"](!!{});if(w9H||(L9H["width"]!=this["lastBBox"]["width"]||L9H["height"]!=this["lastBBox"]["height"])||this["lastFixed"]!=p9H["isFixed"]()){this["remove"]();this["draw"]();return;}m5H=+"0";W9H=this["element"]["transform"]();f9H=this["element"]["matrix"];q9H=G9H["Util"]["getMatrixRotate"](f9H,L9H["x"]+L9H["width"]/("2"|0),L9H["y"]+L9H["height"]/2);J9H=G9H["Util"]["getMatrixScaleX"](f9H);b9H=G9H["Util"]["getMatrixScaleY"](f9H);if(this["box"]){S9H=this["getTrackerXY"]("",L9H)["x"];U9H=this["getTrackerXY"]("",L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);r9H=L9H["width"]*Math["abs"](J9H)*this["trackerManager"]["zoom"]/+"100";E9H=L9H["height"]*Math["abs"](b9H)*this["trackerManager"]["zoom"]/100;this["box"]["attr"]({'\x77\x69\x64\x74\x68':r9H,'\x78':Y9H,'\x79':l9H,'\x68\x65\x69\x67\x68\x74':E9H});F9H=100/this["trackerManager"]["zoom"];this["box"]["transform"]("s"+F9H+","+F9H+","+Y9H+","+l9H+"r"+q9H+","+Y9H+","+l9H);if(this["preloader"]){u9H=Math["min"](r9H,E9H);this["preloader"]["attr"]({'\x68\x65\x69\x67\x68\x74':u9H,'\x79':l9H+(E9H-u9H)/+"2",'\x77\x69\x64\x74\x68':u9H,'\x78':Y9H+(r9H-u9H)/("2"*1)});this["preloader"]["transform"]("s"+F9H+","+F9H+","+Y9H+","+l9H+"r"+q9H+","+Y9H+","+l9H);p9H=this["element"]["node"]["objectLink"];if(p9H&&p9H["showPreloader"]){this["preloader"]["show"]();}else{this["preloader"]["hide"]();}}}if(this["resizeEl"]){S9H=this["getTrackerXY"](G9H["Action"]["Resize"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["Resize"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["resizeEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["resizeEl"],+"100"/this["trackerManager"]["zoom"],!!{});}if(this["resizeHEl"]){S9H=this["getTrackerXY"](G9H["Action"]["ResizeH"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["ResizeH"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["resizeHEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["resizeHEl"],("100"|0)/this["trackerManager"]["zoom"],!!1);}if(this["resizeVEl"]){S9H=this["getTrackerXY"](G9H["Action"]["ResizeV"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["ResizeV"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["resizeVEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["resizeVEl"],100/this["trackerManager"]["zoom"],!!{});}if(this["rotateEl"]){S9H=this["getTrackerXY"](G9H["Action"]["Rotate"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["Rotate"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["rotateEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["rotateEl"],100/this["trackerManager"]["zoom"],!![]);}if(this["deleteEl"]){S9H=this["getTrackerXY"](G9H["Action"]["Delete"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["Delete"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["deleteEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["deleteEl"],+"100"/this["trackerManager"]["zoom"],!![]);}if(this["moveEl"]){S9H=this["getTrackerXY"](G9H["Action"]["Move"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["Move"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["moveEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["moveEl"],("100"|0)/this["trackerManager"]["zoom"],!![]);}if(this["lockEl"]){S9H=this["getTrackerXY"](G9H["Action"]["Lock"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["Lock"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["lockEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["lockEl"],("100"-0)/this["trackerManager"]["zoom"],!!{});}else if(this["unlockEl"]){S9H=this["getTrackerXY"](G9H["Action"]["Unlock"],L9H)["x"];U9H=this["getTrackerXY"](G9H["Action"]["Unlock"],L9H)["y"];Y9H=f9H["x"](S9H,U9H);l9H=f9H["y"](S9H,U9H);this["unlockEl"]["transform"]("t"+(Y9H-S9H)+","+(l9H-U9H)+"r"+q9H);G9H["Util"]["scaleElement"](this["unlockEl"],"100"*1/this["trackerManager"]["zoom"],!!"1");}};i9H["prototype"]["remove"]=function(){this["box"]["remove"]();if(this["preloader"]){this["preloader"]["remove"]();this["preloader"]=null;}if(this["resizeEl"]){this["resizeEl"]["remove"]();this["resizeEl"]=null;}if(this["resizeHEl"]){this["resizeHEl"]["remove"]();this["resizeHEl"]=null;}if(this["resizeVEl"]){this["resizeVEl"]["remove"]();this["resizeVEl"]=null;}if(this["rotateEl"]){this["rotateEl"]["remove"]();this["rotateEl"]=null;}if(this["deleteEl"]){this["deleteEl"]["remove"]();this["deleteEl"]=null;}if(this["moveEl"]){this["moveEl"]["remove"]();this["moveEl"]=null;}if(this["lockEl"]){this["trackerManager"]["addLockEl"](this["lockEl"]);G9H["Util"]["safeRemoving"](this["lockEl"]);this["lockEl"]=null;}if(this["unlockEl"]){G9H["Util"]["safeRemoving"](this["unlockEl"]);this["unlockEl"]=null;}};i9H["prototype"]["trackerIcon"]=function(A5H,C5H,z5H){var t5H,O5H,I5H,G5H,K5H;t5H=this;O5H=mobilesafari?32:"21"*1;I5H=mobilesafari?"_32px":"";switch(z5H){case G9H["Action"]["Resize"]:G5H=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/resize"+I5H+".png",A5H-O5H/+"2",C5H-O5H/+"2",O5H,O5H);break;case G9H["Action"]["ResizeH"]:G5H=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/resizeH"+I5H+".png",A5H-O5H/+"2",C5H-O5H/+"2",O5H,O5H);break;case G9H["Action"]["ResizeV"]:G5H=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/resizeV"+I5H+".png",A5H-O5H/2,C5H-O5H/("2"-0),O5H,O5H);break;case G9H["Action"]["Rotate"]:G5H=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/rotate"+I5H+".png",A5H-O5H/+"2",C5H-O5H/("2"-0),O5H,O5H);break;case G9H["Action"]["Delete"]:G5H=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/delete"+I5H+".png",A5H-O5H/("2"|0),C5H-O5H/+"2",O5H,O5H);break;case G9H["Action"]["Lock"]:G5H=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/unlock"+I5H+".png",A5H-O5H/("2"*1),C5H-O5H/("2"-0),O5H,O5H);break;case G9H["Action"]["Unlock"]:G5H=this["canvas"]["image"](G9H["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/lock"+I5H+".png",A5H-O5H/+"2",C5H-O5H/+"2",O5H,O5H);break;default:G5H=this["canvas"]["ellipse"](A5H,C5H,O5H/("2"|0),O5H/2)["attr"]({'\x66\x69\x6c\x6c':"white",'\x73\x74\x72\x6f\x6b\x65\x2d\x77\x69\x64\x74\x68':"1"-0,'\x73\x74\x72\x6f\x6b\x65':"grey"});break;}G5H["node"]["id"]="la-tracker-"+z5H;G5H["attr"]("cursor","pointer");G5H["mouseover"](function(){this["attr"]("fill","grey");});G5H["mouseout"](function(){this["attr"]("fill","white");});if(mobilesafari){K5H="touchstart";if(z5H==G9H["Action"]["Lock"]||z5H==G9H["Action"]["Unlock"])K5H="touchend";G5H["node"]["addEventListener"](K5H,function(X5H){return t5H["onTrackerMouseDown"](X5H,z5H);},!!0);G5H["node"]["addEventListener"]("mousedown",function(T5H){return t5H["onTrackerMouseDown"](T5H,z5H);},!{});}else{jQuery("#la-tracker-"+z5H)["on"]("dragstart",function(y5H){y5H["preventDefault"]();});G5H["mousedown"](function(R5H){t5H["onTrackerMouseDown"](R5H,z5H);});}this["markTracker"](G5H);return G5H;};function i9H(d9H,N9H,j9H,x9H){this["element"]=d9H;this["canvas"]=N9H;this["mouseHandler"]=j9H;this["trackerManager"]=x9H;this["draw"]();}i9H["prototype"]["onTrackerMouseDown"]=function(Q5H,v5H){if(this["mouseHandler"])this["mouseHandler"](v5H);};i9H["prototype"]["markTracker"]=function(o5H){o5H["node"]["isTracker"]=!!{};o5H["attr"]("laservice",!![]);return o5H;};i9H["prototype"]["getTrackerXY"]=function(j5H,D5H){var g5H,V5H,k5H,M5H,H5H,i5H,N5H,B5H,P5H,d5H;k5H=0;switch(j5H){case G9H["Action"]["Resize"]:g5H=D5H["x"]+D5H["width"]+k5H;V5H=D5H["y"]+D5H["height"]+k5H;break;case G9H["Action"]["ResizeH"]:g5H=D5H["x"]+D5H["width"]+k5H;V5H=D5H["y"]+D5H["height"]/2;break;case G9H["Action"]["ResizeV"]:g5H=D5H["x"]+D5H["width"]/+"2";V5H=D5H["y"]+D5H["height"]+k5H;break;case G9H["Action"]["Rotate"]:g5H=D5H["x"]-k5H;V5H=D5H["y"]+D5H["height"]+k5H;break;case G9H["Action"]["Delete"]:g5H=D5H["x"]+D5H["width"]+k5H;V5H=D5H["y"]-k5H;break;case G9H["Action"]["Lock"]:g5H=D5H["x"]-k5H;V5H=D5H["y"]-k5H;break;case G9H["Action"]["Unlock"]:g5H=D5H["x"]-k5H;V5H=D5H["y"]-k5H;break;default:g5H=D5H["x"];V5H=D5H["y"];break;}M5H=this["element"]["matrix"];H5H=M5H["x"](D5H["x"]+D5H["width"]/("2"*1),D5H["y"]+D5H["height"]/+"2");i5H=M5H["y"](D5H["x"]+D5H["width"]/("2"*1),D5H["y"]+D5H["height"]/("2"|0));N5H=G9H["Util"]["getMatrixRotate"](M5H,H5H,i5H);B5H=Raphael["matrix"](+"1","0"-0,+"0",+"1",+"0",0);B5H["rotate"]("0"*1-N5H,H5H,i5H);B5H["add"](M5H["a"],M5H["b"],M5H["c"],M5H["d"],M5H["e"],M5H["f"]);P5H=B5H["a"]<+"0";d5H=B5H["d"]<("0"|0);if(P5H)g5H=+"2"*D5H["x"]+D5H["width"]-g5H;if(d5H)V5H=("2"-0)*D5H["y"]+D5H["width"]-V5H;return{'\x66\x6c\x69\x70\x48':P5H,'\x78':g5H,'\x66\x6c\x69\x70\x56':d5H,'\x79':V5H};};i9H["prototype"]["reuseIcon"]=function(x5H,Z5H,e5H){var c5H;c5H=mobilesafari?+"32":21;x5H["transform"]("");x5H["node"]["setAttribute"]("x",""+(Z5H-c5H/2));x5H["node"]["setAttribute"]("y",""+(e5H-c5H/+"2"));x5H["show"]();if(this["deleteEl"]){x5H["insertAfter"](this["deleteEl"]);}};return i9H;}();G9H["Tracker"]=A9H;}(LAJS||(LAJS={})));(function(s5H){var n5H,a5H;n5H=function(){h5H["prototype"]["showRuler"]=function(){var L5H,l5H,U5H,Y5H,f5H;this["calcLocValues"]();if(this["locPrintAreaUnits"][+"0"]>=this["locPrintAreaUnits"][1]){L5H=q5H(this["locPrintAreaCoord"]["0"|0],this["locPrintAreaCoord"]["2"|0],this["locPrintAreaUnits"][+"0"]);}else{L5H=q5H(this["locPrintAreaCoord"]["1"|0],this["locPrintAreaCoord"][+"3"],this["locPrintAreaUnits"][+"1"]);}function q5H(O2H,G2H,J5H){var r5H,b5H,F5H,W5H,w5H,u5H,E5H,m2H;r5H=G2H-O2H;b5H=Math["floor"](r5H/80);F5H=Math["round"](J5H/b5H);W5H=F5H["toString"]()["length"];w5H=Math["pow"](+"10",W5H-+"1");u5H=Math["round"](F5H/w5H);if(u5H>="8"*1){u5H="8"-0;}else if(u5H<+"8"&&u5H>=5){u5H=+"5";}else if(u5H<5&&u5H>="4"*1){u5H="4"-0;}else if(u5H<+"4"&&u5H>=+"2"){u5H="2"|0;}else{u5H="1"-0;}F5H=u5H*w5H;E5H=r5H/J5H*F5H;m2H=E5H/("4"|0);return{'\x6d\x61\x6a\x6f\x72\x55\x6e\x69\x74\x73':F5H,'\x6d\x61\x6a\x6f\x72\x50\x78':E5H,'\x6d\x69\x6e\x6f\x72\x50\x78':m2H};}l5H=jQuery('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" width="100%" height="100%"></svg>')["attr"]({'\x76\x69\x65\x77\x42\x6f\x78':"0 0 "+this["width"]+" "+this["height"]});if(jQuery("#liveart-main-container")["hasClass"]("fullSize")){l5H["attr"]("preserveAspectRatio","xMinYMid");}U5H=p5H(this["height"],this["locPrintAreaCoord"][1],this["locPrintAreaCoord"][+"3"],this["locPrintAreaUnits"][+"1"],L5H);U5H["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"rotate(90, 7.5, 7.5) translate(0.5, -0.5)"});U5H["find"]("path")["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"scale(1, -1) translate(0, -15)"});U5H["find"]("text")["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"rotate(180) translate(5, 5)"});U5H["find"]("text")["last"]()["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"rotate(180) translate(4, 5)"})["css"]("text-anchor","start");U5H["appendTo"](l5H);l5H["appendTo"](this["rulerHolder"]);Y5H=jQuery('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" width="100%" height="100%" ></svg>')["attr"]({'\x76\x69\x65\x77\x42\x6f\x78':"0 0 "+this["width"]+" "+this["height"]})["css"]({'\x74\x6f\x70':"0",'\x70\x6f\x73\x69\x74\x69\x6f\x6e':"absolute",'\x6c\x65\x66\x74':"0"});if(jQuery("#liveart-main-container")["hasClass"]("fullSize")){Y5H["attr"]("preserveAspectRatio","xMidYMin");}f5H=p5H(this["width"],this["locPrintAreaCoord"][+"0"],this["locPrintAreaCoord"][+"2"],this["locPrintAreaUnits"][+"0"],L5H,this["locUnit"]);f5H["appendTo"](Y5H);Y5H["appendTo"](this["rulerHolder"]);function p5H(D2H,R2H,C2H,P2H,t2H,y2H){var T2H,v2H,K2H,A2H,I2H,o2H,k2H,B2H,V2H,M2H,Q2H,g2H;T2H=jQuery('<g></g>');v2H=jQuery('<rect x="0" y="0" height="15" fill="#ffffff"></rect>');v2H["attr"]({'\x77\x69\x64\x74\x68':D2H});T2H["append"](v2H);if(jQuery("#liveart-main-container")["hasClass"]("fullSize")){v2H["attr"]({'\x78':R2H,'\x77\x69\x64\x74\x68':C2H-R2H});}K2H="M"+R2H+",14.5H"+C2H;A2H=new Array();I2H=R2H;o2H=0;while(I2H<C2H){K2H+="M"+I2H+",0V15";for(var X2H="1"|0;X2H<=3;X2H++){k2H=I2H+t2H["minorPx"]*X2H;if(k2H<C2H){B2H=X2H==+"2"?+"9":+"11";K2H+="M"+k2H+","+B2H+"V15";}}A2H["push"](new a5H(I2H+("3"-0),t2H["majorUnits"]*o2H));if(I2H+"3"*1+t2H["minorPx"]>=C2H){A2H["pop"]();}I2H+=t2H["majorPx"];o2H++;}K2H+="M"+C2H+",0V15";A2H["push"](new a5H(C2H+("3"-0),P2H));if(y2H&&y2H["length"]>("0"|0)){if(C2H+t2H["majorPx"]>D2H){A2H[+"0"]["label"]+=" "+y2H;}else{A2H[A2H["length"]-+"1"]["label"]+=" "+y2H;}}V2H=jQuery('<path fill="none" stroke="#a9a9a9" shape-rendering="crispEdges"></path>');V2H["attr"]({'\x64':K2H});T2H["append"](V2H);M2H=jQuery('<g transform="translate(0,11)" style="font-size: 10px; font-family: Arial; fill: #222;"></g>');for(var z2H=+"0";z2H<A2H["length"];z2H++){Q2H=jQuery('<g></g>')["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"translate("+A2H[z2H]["x"]+",0)"});g2H=jQuery('<text></text>')["text"](A2H[z2H]["label"]);Q2H["append"](g2H);M2H["append"](Q2H);if(A2H[z2H]["x"]+t2H["minorPx"]>D2H){Q2H["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"translate("+(A2H[z2H]["x"]-"6"*1)+",0)"});g2H["css"]("text-anchor","end");}}T2H["append"](M2H);return T2H;}jQuery(this["rulerHolder"])["html"](jQuery(this["rulerHolder"])["html"]());};function h5H(S5H){this["printAreaCoord"]=["0"*1,+"0","0"-0,+"0"];this["printAreaUnits"]=["0"-0,"0"|0];this["locPrintAreaCoord"]=["0"-0,+"0",+"0",+"0"];this["locPrintAreaUnits"]=[0,"0"-0];this["locUnit"]="";this["width"]=+"0";this["height"]="0"*1;this["viewPort"]={'\x7a\x6f\x6f\x6d':100,'\x78':+"0",'\x79':+"0"};this["RULER_HEIGHT"]=+"15";this["designer"]=S5H;}h5H["prototype"]["setViewPort"]=function(H2H){this["viewPort"]=H2H;if(this["rulerHolder"])this["rulerHolder"]["children"]()["remove"]();this["showRuler"]();};h5H["prototype"]["calcLocValues"]=function(){var i2H,N2H,j2H,h2H,a2H,e2H,Z2H,d2H,S2H,x2H,c2H,s2H,n2H;i2H=this["RULER_HEIGHT"]/(this["viewPort"]["zoom"]/("100"|0));N2H=this["width"]+this["RULER_HEIGHT"];j2H=this["height"]+this["RULER_HEIGHT"];h2H=N2H/(this["viewPort"]["zoom"]/100);a2H=j2H/(this["viewPort"]["zoom"]/100);e2H=this["width"]/h2H*+"100";Z2H=this["height"]/a2H*+"100";d2H=Math["min"](e2H,Z2H);S2H=this["designer"]["options"]["unitConversionMult"];x2H="0"|0;c2H=0;if(e2H<=Z2H){s2H=this["height"]/this["width"]*N2H;c2H=(s2H-j2H)/4;}else{n2H=this["width"]/this["height"]*j2H;x2H=(n2H-N2H)/("2"|0);}this["locPrintAreaCoord"][0]=(this["printAreaCoord"]["0"|0]-this["viewPort"]["x"]+i2H)*d2H/+"100"+x2H;this["locPrintAreaCoord"][+"1"]=(this["printAreaCoord"][+"1"]-this["viewPort"]["y"]+i2H)*d2H/("100"*1)+c2H;this["locPrintAreaCoord"]["2"-0]=(this["printAreaCoord"][2]-this["viewPort"]["x"]+i2H)*d2H/("100"-0)+x2H;this["locPrintAreaCoord"]["3"*1]=(this["printAreaCoord"]["3"|0]-this["viewPort"]["y"]+i2H)*d2H/("100"|0)+c2H;this["locPrintAreaUnits"][+"0"]=this["printAreaUnits"][+"0"];this["locPrintAreaUnits"][+"1"]=this["printAreaUnits"]["1"|0];};return h5H;}();s5H["RulerManager"]=n5H;a5H=function(){function U2H(L2H,l2H){this["x"]=L2H;this["label"]=l2H["toString"]();}return U2H;}();s5H["RulerMarkLabelVO"]=a5H;}(LAJS||(LAJS={})));(function(Y2H){var f2H;(function(q2H){q2H["TrialWatermark"]='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 587 543" enable-background="new 0 0 587 543" xml:space="preserve"><g id="Layer">	<polygon fill="#CC0000" points="470,0 532,0 587,55 587,117 	"/>	<g>		<path fill="#FFFFFF" d="M504.561,13.174l5.748-5.749l-2.068-2.068l1.326-1.326l5.643,5.643L513.883,11l-2.058-2.058l-5.748,5.749			L504.561,13.174z"/>		<path fill="#FFFFFF" d="M513.099,21.712l1.124-3.903l-1.103-1.103l-2.514,2.514l-1.506-1.506l7.074-7.075l3.309,3.309			c1.475,1.475,1.421,3.352,0.106,4.667c-1.241,1.241-2.716,1.124-3.66,0.541l-1.092,4.296L513.099,21.712z M518.052,17.056			c0.583-0.583,0.487-1.4-0.106-1.994l-1.591-1.591l-1.909,1.909l1.591,1.591C516.63,17.564,517.447,17.66,518.052,17.056z"/>		<path fill="#FFFFFF" d="M515.921,24.534l7.074-7.075l1.506,1.506l-7.074,7.075L515.921,24.534z"/>		<path fill="#FFFFFF" d="M523.716,32.329l0.753-1.644l-3.033-3.033l-1.645,0.752l-1.707-1.707l9.8-4.349l1.888,1.888l-4.349,9.8			L523.716,32.329z M527.322,24.799l-4.146,1.941l2.205,2.205L527.322,24.799z"/>		<path fill="#FFFFFF" d="M526.018,34.631l7.074-7.075l1.517,1.517l-5.749,5.749l2.99,2.99l-1.325,1.326L526.018,34.631z"/>		<path fill="#FFFFFF" d="M536.624,45.237l4.179-9.97l0.7,0.7l-3.818,8.973l8.962-3.829l0.7,0.7l-9.97,4.179L536.624,45.237z"/>		<path fill="#FFFFFF" d="M541.313,49.926l7.074-7.075l4.486,4.486l-0.552,0.552l-3.882-3.882l-2.62,2.62l3.808,3.808l-0.551,0.552			l-3.808-3.808l-2.801,2.8l3.882,3.882l-0.551,0.552L541.313,49.926z"/>		<path fill="#FFFFFF" d="M551.441,60.055l0.943-4.911l-1.56-1.56l-2.927,2.928l-0.604-0.604l7.074-7.075l2.641,2.641			c1.22,1.22,1.378,2.927,0.084,4.221c-1.283,1.283-2.896,1.093-3.998,0.075l-0.923,5.017L551.441,60.055z M556.458,55.059			c0.891-0.891,0.891-2.143-0.053-3.086l-1.984-1.984l-3.044,3.044l1.984,1.984C554.305,55.96,555.567,55.95,556.458,55.059z"/>		<path fill="#FFFFFF" d="M554.199,60.818l0.848-0.064c-0.064,0.976,0.169,2.227,1.188,3.246c1.442,1.442,2.663,1.05,3.268,0.446			c2.078-2.079-3.245-5.239-0.774-7.71c1.156-1.156,2.927-0.849,4.21,0.434c1.05,1.05,1.485,2.228,1.4,3.395l-0.849,0.042			c0.106-1.124-0.339-2.122-1.134-2.917c-0.944-0.944-2.196-1.114-2.96-0.351c-1.814,1.813,3.425,5.059,0.784,7.7			c-0.912,0.912-2.608,1.401-4.519-0.509C554.495,63.363,554.092,62.005,554.199,60.818z"/>		<path fill="#FFFFFF" d="M559.757,68.37l7.074-7.075l0.604,0.604l-7.074,7.075L559.757,68.37z"/>		<path fill="#FFFFFF" d="M565.389,66.938c2.068-2.068,5.017-2.302,7.095-0.224c2.068,2.068,1.847,5.029-0.222,7.097			c-2.067,2.068-5.028,2.29-7.097,0.222C563.087,71.955,563.321,69.007,565.389,66.938z M571.625,73.175			c1.793-1.792,2.005-4.211,0.308-5.908c-1.707-1.707-4.115-1.485-5.908,0.308c-1.781,1.782-2.015,4.201-0.308,5.908			C567.414,75.179,569.844,74.957,571.625,73.175z"/>		<path fill="#FFFFFF" d="M575.284,83.897l1.622-10.533l-6.077,6.078l-0.604-0.604l7.074-7.075l0.615,0.615l-1.559,10.426			l5.992-5.993l0.604,0.604l-7.074,7.075L575.284,83.897z"/>	</g>	<g opacity="0.15">		<path d="M88.701,103.649l36.314-36.314l7.785,7.785l-29.509,29.509l15.353,15.353l-6.806,6.806L88.701,103.649z"/>		<path d="M117.068,132.016l36.314-36.314l7.73,7.73l-36.314,36.314L117.068,132.016z"/>		<path d="M142.167,157.114l22.323-50.306l8.765,8.765l-17.802,37.949l37.947-17.804l8.765,8.765l-50.306,22.323L142.167,157.114z"			/>		<path d="M169.227,184.175l36.314-36.314l25.697,25.697l-6.806,6.806l-17.967-17.967l-7.622,7.622l17.586,17.586l-6.806,6.806			l-17.586-17.586l-8.275,8.275l17.967,17.967l-6.806,6.806L169.227,184.175z"/>		<path d="M226.068,241.016l3.865-8.439l-15.571-15.571l-8.439,3.865l-8.765-8.765l50.306-22.323l9.692,9.692l-22.322,50.306			L226.068,241.016z M244.58,202.36l-21.288,9.963l11.324,11.324L244.58,202.36z"/>		<path d="M258.736,273.684l5.771-20.036l-5.662-5.661l-12.903,12.903l-7.731-7.731l36.315-36.314l16.986,16.987			c7.567,7.567,7.296,17.205,0.545,23.956c-6.37,6.37-13.938,5.771-18.783,2.776l-5.609,22.05L258.736,273.684z M284.162,249.782			c2.994-2.994,2.504-7.187-0.545-10.235l-8.166-8.166l-9.8,9.8l8.167,8.166C276.866,252.396,281.059,252.886,284.162,249.782z"/>		<path d="M281.061,296.008l29.509-29.509l-10.617-10.617l6.806-6.806l28.965,28.965l-6.806,6.806l-10.563-10.563l-29.509,29.509			L281.061,296.008z"/>		<path d="M331.422,346.369l17.259-17.259l-23.03-23.03l-17.259,17.259l-3.104-3.104l36.314-36.314l3.104,3.104l-16.225,16.225			l23.03,23.03l16.225-16.225l3.104,3.104l-36.314,36.314L331.422,346.369z"/>		<path d="M352.819,367.767l33.483-33.483l-11.868-11.868l2.831-2.831l26.895,26.895l-2.831,2.831L389.46,337.44l-33.483,33.483			L352.819,367.767z"/>		<path d="M405.088,420.035l32.395-32.395l-45.625,19.164l-1.197-1.197l19.109-45.68l-32.395,32.395l-3.103-3.103l36.314-36.314			l4.628,4.628l-17.858,42.575l42.521-17.912l4.683,4.683l-36.314,36.314L405.088,420.035z"/>		<path d="M416.523,431.471l36.314-36.314l3.157,3.157l-33.483,33.483l17.586,17.586l-2.831,2.831L416.523,431.471z"/>		<path d="M448.429,452.813h4.137c-0.979,5.662,0.328,10.672,5.01,15.354c5.281,5.281,12.903,5.28,17.857,0.326			c5.499-5.499,5.063-12.685-0.163-17.911c-3.321-3.321-7.241-5.063-12.358-5.282l-1.361-3.32l19.056-19.056l20.961,20.961			l-2.831,2.831l-17.857-17.857l-14.21,14.21c3.538,0.054,8.274,1.524,12.031,5.281c6.098,6.098,7.568,15.625,0.001,23.192			c-7.241,7.241-17.26,6.152-23.956-0.544C448.701,464.955,447.339,458.911,448.429,452.813z"/>	</g></g></svg>';q2H["isTrial"]=p2H;function p2H(){return!this["isFull"];}}(f2H=Y2H["Trial"]||(Y2H["Trial"]={})));}(LAJS||(LAJS={})));(function(u2H){var F2H;(function(E2H){var J2H,w2H,b2H,r2H;J2H=function(){W2H["prototype"]["fromString"]=function(y0T,T0T){var X0T,A0T,G0T,K0T,C0T,t0T;if(T0T){this["symbolId"]=T0T;}this["classList"]={};X0T=y0T["split"]("}");for(var I0T=+"0";I0T<X0T["length"];I0T++){A0T=X0T[I0T]["split"]("{");if(A0T["length"]>=("2"|0)){G0T=new w2H();G0T["name"]=u2H["Util"]["cleanUID"](A0T[0]["trim"]());K0T=A0T[+"1"]["split"](";");for(var z0T=+"0";z0T<K0T["length"];z0T++){C0T=K0T[z0T]["split"](":");if(C0T["length"]>=("2"|0)){t0T=new b2H();t0T["name"]=C0T["0"-0]["trim"]();t0T["value"]=C0T["1"*1]["trim"]();G0T["attrList"]["push"](t0T);}}this["classList"][G0T["name"]]=G0T;}}this["processClassList"]();};function W2H(m0T,O0T){this["classList"]={};this["colorizableList"]=[];this["symbolId"]="";this["skipParseStyles"]=!{};this["fromString"](m0T,O0T);}W2H["prototype"]["processClassList"]=function(){var R0T,Q0T,o0T,D0T,v0T,k0T,g0T,V0T;this["colorizableList"]=[];for(var M0T in this["classList"]){R0T=this["classList"][M0T];Q0T=u2H["Util"]["arrayFind"](R0T["attrList"],"name","fill");if(Q0T){o0T=new r2H({'\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65':u2H["Util"]["cleanUID"](R0T["name"]),'\x61\x74\x74\x72\x4e\x61\x6d\x65':Q0T["name"],'\x76\x61\x6c\x75\x65':Q0T["value"]});D0T=u2H["Util"]["arrayFind"](R0T["attrList"],"name","la-fill-name");if(D0T){v0T=D0T["value"]["split"]('"');if(v0T["length"]>+"1")o0T["name"]=v0T[+"1"];else o0T["name"]=D0T["value"];}this["colorizableList"]["push"](o0T);}k0T=u2H["Util"]["arrayFind"](R0T["attrList"],"name","stroke");if(k0T){g0T=new r2H({'\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65':u2H["Util"]["cleanUID"](R0T["name"]),'\x61\x74\x74\x72\x4e\x61\x6d\x65':k0T["name"],'\x76\x61\x6c\x75\x65':k0T["value"]});V0T=u2H["Util"]["arrayFind"](R0T["attrList"],"name","la-stroke-name");if(V0T){v0T=V0T["value"]["split"]('"');if(v0T["length"]>+"1")g0T["name"]=v0T["1"*1];else g0T["name"]=V0T["value"];}this["colorizableList"]["push"](g0T);}}};W2H["prototype"]["toString"]=function(){var B0T,P0T,i0T,d0T;B0T="";for(var N0T in this["classList"]){P0T=this["classList"][N0T];i0T="";if(this["symbolId"]["length"]>0&&P0T["name"]["indexOf"](this["symbolId"])==-("1"|0)){i0T=this["symbolId"]+" ";}B0T+=i0T+P0T["name"]+" {";for(var H0T="0"*1;H0T<P0T["attrList"]["length"];H0T++){d0T=P0T["attrList"][H0T];B0T+=d0T["name"]+":"+d0T["value"]+";";}B0T+="} ";}return B0T;};W2H["prototype"]["toColorizeArray"]=function(){return u2H["Util"]["arrayToObjArray"](this["colorizableList"]);};W2H["prototype"]["fromColorizeArray"]=function(a0T){var x0T,j0T,Z0T,e0T;for(var c0T=+"0";c0T<a0T["length"];c0T++){x0T=a0T[c0T];if(x0T["id"]&&x0T["value"]){j0T=u2H["Util"]["arrayFind"](this["colorizableList"],"id",x0T["id"]);if(j0T){j0T["value"]=x0T["value"];Z0T=this["classList"][j0T["className"]];if(Z0T){e0T=u2H["Util"]["arrayFind"](Z0T["attrList"],"name",j0T["attrName"]);if(e0T){e0T["value"]=j0T["value"];}}}}}};return W2H;}();E2H["StyleVO"]=J2H;w2H=function(){function s0T(){this["name"]="";this["attrList"]=[];}return s0T;}();E2H["StyleClassVO"]=w2H;b2H=function(){function n0T(){this["name"]="";this["value"]="";}return n0T;}();E2H["StyleAttrVO"]=b2H;r2H=function(){h0T["prototype"]["formId"]=function(){this["id"]=this["className"]+"."+this["attrName"];};h0T["prototype"]["extractClassAndAttribute"]=function(){var U0T;U0T=this["id"]["split"](".");if(U0T["length"]>"1"*1){this["attrName"]=U0T[U0T["length"]-+"1"];this["className"]="."+U0T[U0T["length"]-+"2"];}};h0T["prototype"]["toObject"]=function(){return{'\x69\x64':this["id"],'\x6e\x61\x6d\x65':this["name"],'\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65':this["className"],'\x61\x74\x74\x72\x4e\x61\x6d\x65':this["attrName"],'\x76\x61\x6c\x75\x65':this["value"],'\x63\x6f\x6c\x6f\x72\x73':u2H["Util"]["arrayToObjArray"](this["colors"]),'\x68\x69\x64\x65\x50\x61\x6e\x74\x6f\x6e\x65\x73':this["hidePantones"],'\x61\x76\x61\x69\x6c\x61\x62\x6c\x65\x4c\x6f\x63\x61\x74\x69\x6f\x6e\x73':this["availableLocations"]};};function h0T(S0T){this["id"]="";this["name"]="";this["className"]="";this["attrName"]="";this["value"]="";this["hidePantones"]=!1;this["colors"]=[];this["availableLocations"]=[];if(S0T["name"])this["name"]=S0T["name"];if(S0T["className"])this["className"]=S0T["className"];if(S0T["attrName"])this["attrName"]=S0T["attrName"];if(S0T["value"])this["value"]=S0T["value"];if(S0T["colors"])this["colors"]=u2H["Util"]["parseArray"](S0T["colors"],E2H["ColorVO"]);if(S0T["hidePantones"])this["hidePantones"]=S0T["hidePantones"];if(S0T["id"]){this["id"]=S0T["id"];this["extractClassAndAttribute"]();}else{this["formId"]();}if(this["id"]==="."){throw"ColorizableElementVO: Object can not be created without id";}}return h0T;}();E2H["ColorizableElementVO"]=r2H;}(F2H=u2H["VO"]||(u2H["VO"]={})));}(LAJS||(LAJS={})));(function(L0T){var l0T;l0T=function(){Y0T["prototype"]["setEnableSnapGuides"]=function(q0T){this["enableSnapGuides"]=q0T;};Y0T["prototype"]["setDeltaHit"]=function(p0T,u0T){this["hitDX"]=p0T;this["hitDY"]=u0T;};Y0T["prototype"]["onObjectMoved"]=function(b0T,J0T,F0T){var E0T,r0T,w0T;E0T={'\x6d\x6f\x76\x65':!{},'\x64\x78':+"0",'\x64\x79':0},r0T={'\x64\x79':0,'\x6d\x6f\x76\x65':!!"",'\x64\x78':+"0"},w0T={'\x64\x79':"0"*1,'\x6d\x6f\x76\x65':!{},'\x64\x78':0};r0T=this["snapCenter"](b0T,J0T,F0T);if(r0T["move"]){L0T["Util"]["move"](F0T["elementLink"],r0T["dx"],r0T["dy"]);}else{E0T=this["snapToPrintArea"](b0T,J0T,F0T);if(E0T["move"]){L0T["Util"]["move"](F0T["elementLink"],E0T["dx"],E0T["dy"]);}else{w0T=this["snapToObject"](b0T,J0T,F0T);if(w0T["move"]){L0T["Util"]["move"](F0T["elementLink"],w0T["dx"],w0T["dy"]);}}}};function Y0T(f0T){this["snapLines"]=[];this["enableSnapGuides"]=!!1;this["deltaMove"]=+"3";this["deltaRotate"]="5"*1;this["hitDX"]=+"0";this["hitDY"]="0"|0;this["designer"]=f0T;}Y0T["prototype"]["snapToPrintArea"]=function(z8T,I8T,A8T,m8T){var C8T,W0T,t8T,O8T,G8T;if(m8T===void+"0"){m8T=this["deltaMove"];}if(!this["enableSnapGuides"])return{'\x6d\x6f\x76\x65':![],'\x64\x79':"0"*1,'\x64\x78':"0"|0};C8T=this["hitDX"];W0T=this["designer"]["getPrintAreaCoord"]();if(!W0T||W0T["length"]<+"4"){W0T=[+"0",+"0",this["designer"]["width"],this["designer"]["height"]];}O8T=L0T["Util"]["snapToVerticalLine"](z8T,C8T,A8T,W0T[+"0"],m8T);if(!O8T["move"])O8T=L0T["Util"]["snapToVerticalLine"](z8T,C8T,A8T,W0T["2"*1],m8T);G8T=L0T["Util"]["snapToHorizontalLine"](I8T,this["hitDY"],A8T,W0T["1"*1],m8T);if(!G8T["move"]){G8T=L0T["Util"]["snapToHorizontalLine"](I8T,this["hitDY"],A8T,W0T[3],m8T);}t8T={'\x6d\x6f\x76\x65':O8T["move"]||G8T["move"],'\x64\x78':O8T["dx"],'\x64\x79':G8T["dy"]};return t8T;};Y0T["prototype"]["snapCenter"]=function(D8T,g8T,o8T,R8T){var K8T,T8T,Q8T,k8T,y8T,X8T,v8T;if(R8T===void("0"*1)){R8T=this["deltaMove"];}if(!this["enableSnapGuides"])return{'\x6d\x6f\x76\x65':!1,'\x64\x79':+"0",'\x64\x78':"0"|0};K8T=this["designer"]["getPrintAreaCoord"]();if(!K8T||K8T["length"]<"4"*1)K8T=[0,+"0",this["designer"]["width"],this["designer"]["height"]];T8T=Math["round"](K8T["0"*1]+(K8T["2"*1]-K8T[+"0"])/2);Q8T=Math["round"](K8T[1]+(K8T["3"-0]-K8T["1"-0])/2);k8T=o8T["getBBox"]();y8T=L0T["Util"]["snapToVerticalLine"](D8T,this["hitDX"],o8T,T8T,R8T);if(y8T["move"]){X8T=this["designer"]["canvas"]["path"]("M "+T8T+","+K8T["1"*1]+" L "+T8T+","+K8T["3"*1]);this["customizeSnapLine"](X8T);this["snapLines"]["push"](X8T);}v8T=L0T["Util"]["snapToHorizontalLine"](g8T,this["hitDY"],o8T,Q8T,R8T);if(v8T["move"]){X8T=this["designer"]["canvas"]["path"]("M "+K8T["0"*1]+","+Q8T+" L "+K8T[+"2"]+","+Q8T);this["customizeSnapLine"](X8T);this["snapLines"]["push"](X8T);}return{'\x6d\x6f\x76\x65':y8T["move"]||v8T["move"],'\x64\x78':y8T["dx"],'\x64\x79':v8T["dy"]};};Y0T["prototype"]["snapToObject"]=function(Z8T,e8T,c8T,i8T){var P8T,s8T,N8T,d8T,a8T,x8T,H8T,M8T,B8T,V8T;if(i8T===void 0){i8T=this["deltaMove"];}if(!this["enableSnapGuides"])return{'\x6d\x6f\x76\x65':!!0,'\x64\x78':"0"-0,'\x64\x79':+"0"};P8T=this["designer"]["getPrintAreaCoord"]();if(!P8T||P8T["length"]<"4"-0)P8T=["0"|0,"0"-0,this["designer"]["width"],this["designer"]["height"]];s8T=!!"";N8T=+"0";d8T=+"0";a8T=this["designer"]["selected"]()["getAreaCoords"]();x8T=this["designer"]["getObjList"]();for(var j8T="0"-0;j8T<x8T["length"];j8T++){if(x8T[j8T]["elementId"]==this["designer"]["selected"]()["elementId"])continue;H8T=x8T[j8T]["getBBox"]();M8T=[H8T["x"],H8T["y"],H8T["x"]+H8T["width"],H8T["y"]+H8T["height"]];B8T=L0T["Util"]["snapToVerticalLine"](Z8T,this["hitDX"],c8T,M8T[0],i8T);if(B8T["move"]){V8T=this["designer"]["canvas"]["path"]("M "+M8T[+"0"]+","+P8T[+"1"]+" L "+M8T[0]+","+P8T["3"*1]);this["customizeSnapLine"](V8T);this["snapLines"]["push"](V8T);N8T=B8T["dx"];}B8T=L0T["Util"]["snapToVerticalLine"](Z8T,this["hitDX"],c8T,M8T["2"|0],i8T);if(B8T["move"]){V8T=this["designer"]["canvas"]["path"]("M "+M8T[+"2"]+","+P8T[+"1"]+" L "+M8T["2"-0]+","+P8T[+"3"]);this["customizeSnapLine"](V8T);this["snapLines"]["push"](V8T);N8T=B8T["dx"];}B8T=L0T["Util"]["snapToHorizontalLine"](e8T,this["hitDY"],c8T,M8T[+"1"],i8T);if(B8T["move"]){V8T=this["designer"]["canvas"]["path"]("M "+P8T["0"-0]+","+M8T[+"1"]+" L "+P8T[+"2"]+","+M8T[+"1"]);this["customizeSnapLine"](V8T);this["snapLines"]["push"](V8T);d8T=B8T["dy"];}B8T=L0T["Util"]["snapToHorizontalLine"](e8T,this["hitDY"],c8T,M8T[+"3"],i8T);if(B8T["move"]){V8T=this["designer"]["canvas"]["path"]("M "+P8T[+"0"]+","+M8T["3"*1]+" L "+P8T[+"2"]+","+M8T[+"3"]);this["customizeSnapLine"](V8T);this["snapLines"]["push"](V8T);d8T=B8T["dy"];}}return{'\x6d\x6f\x76\x65':d8T!=0||N8T!="0"-0,'\x64\x79':d8T,'\x64\x78':N8T};};Y0T["prototype"]["snapRotate"]=function(h8T,n8T){if(n8T===void("0"-0)){n8T=this["deltaRotate"];}if(!this["enableSnapGuides"])return h8T;switch(!!1){case isNaN(h8T):return"0"*1;case h8T<+"0"+n8T||h8T>+"360"-n8T:return"0"-0;case L0T["Util"]["between"](h8T,"45"-0-n8T,("45"|0)+n8T):return+"45";case L0T["Util"]["between"](h8T,+"90"-n8T,"90"*1+n8T):return+"90";case L0T["Util"]["between"](h8T,+"135"-n8T,+"135"+n8T):return 135;case L0T["Util"]["between"](h8T,180-n8T,"180"*1+n8T):return"180"-0;case L0T["Util"]["between"](h8T,+"225"-n8T,("225"|0)+n8T):return+"225";case L0T["Util"]["between"](h8T,"270"-0-n8T,+"270"+n8T):return"270"|0;case L0T["Util"]["between"](h8T,+"315"-n8T,+"315"+n8T):return+"315";default:return h8T;}};Y0T["prototype"]["clearSnaps"]=function(){for(var S8T="0"-0;S8T<this["snapLines"]["length"];S8T++){this["snapLines"][S8T]["remove"]();}this["snapLines"]=[];};Y0T["prototype"]["customizeSnapLine"]=function(U8T,L8T){U8T["attr"]("stroke",SnapConst["SnapStrokeColor"]);U8T["attr"]("stroke-width",SnapConst["SnapStrokeWidth"]);if(L8T)U8T["attr"]("id",L8T);U8T["attr"]("la-snap-line",!!"1");return U8T;};return Y0T;}();L0T["SnapLinesManager"]=l0T;}(LAJS||(LAJS={})));(function(l8T){l8T["SnapStrokeColor"]="#ff00ff";l8T["SnapStrokeWidth"]="1";}(SnapConst||(SnapConst={})));(function(Y8T){var p8T,f8T,q8T;p8T=function(F8T){__extends(u8T,F8T);u8T["prototype"]["imagePreloaderPath"]=function(){return Y8T["Model"]["ConfigManager"]["imagePreloaderPath"]();};u8T["prototype"]["backgroundPreloaderPath"]=function(){return Y8T["Model"]["ConfigManager"]["assetsUrl"]+"img/tracker/image_preloader.gif";};u8T["prototype"]["backgroundFillerPath"]=function(){return Y8T["Model"]["ConfigManager"]["assetsUrl"]+"img/bg-fill.png";};u8T["prototype"]["loadingBackground"]=function(){return this["loadingSVGBackground"]||this["loadingRasterBackground"];};u8T["prototype"]["init"]=function(r8T,w8T,b8T,J8T){this["holder"]=r8T;this["width"]=w8T;this["height"]=b8T;this["logDiv"]=J8T;this["defaultPrintingArea"]();this["setupCanvas"]();};u8T["prototype"]["updateElementTransformation"]=function(m3T){var W8T,z3T,G3T,A3T,X3T,K3T,O3T,I3T,t3T,C3T,y3T,T3T;if(!this["fitProductImage"]||!m3T)return;W8T=m3T["getBBox"]();if(W8T){z3T=Math["abs"](m3T["matrix"]["split"]()["scalex"]);G3T=W8T["width"];A3T=W8T["height"];X3T=this["width"]/G3T;K3T=this["height"]/A3T;O3T=Math["min"](X3T,K3T);I3T=G3T/z3T*O3T;t3T=A3T/z3T*O3T;C3T=m3T["attr"]("transform");if(!m3T["attr"]("transform")){C3T="";}y3T=(I3T-G3T)*+"0.5"+(this["width"]-I3T)*+"0.5"-W8T["x"];T3T=(t3T-A3T)*+"0.5"+(this["height"]-t3T)*("0.5"*1)-W8T["y"];C3T+=" t "+y3T+", "+T3T+" s "+O3T+", "+O3T;m3T["attr"]("transform",C3T);}};u8T["prototype"]["updateProductElementsScale"]=function(){this["updateElementTransformation"](this["productEl"]);this["updateElementTransformation"](this["maskEl"]);this["setupPrintArea"]();this["setupClipRect"]();};u8T["prototype"]["setupCanvas"]=function(){var R3T,v3T;R3T=this;if(this["options"]["checkeredBackground"]){this["holder"]["addClass"]("fillBackground");}this["createSpeedDiv"]();this["canvas"]=Raphael(this["holder"][+"0"],this["width"],this["height"]);this["svgHolder"]=this["holder"]["children"]()["eq"]("0"*1);this["captureDefs"]();this["defaultPrintingArea"]();this["initCustomAttr"]();if(!(Y8T["AgentUtils"]["isAndroid"]()&&Y8T["AgentUtils"]["isFF"]())){this["holder"]["mousedown"](function(Q3T){return R3T["onMouseDown"](Q3T);});this["holder"]["mousemove"](function(o3T){return R3T["onMouseMove"](o3T);});this["holder"]["mouseup"](function(D3T){return R3T["onMouseUp"](D3T);});}this["mouseOutCheck"]=function(k3T){return R3T["onMouseOutCheck"](k3T);};if(mobilesafari||!!1){v3T=this["holder"][0];v3T["addEventListener"]("touchstart",function(g3T){return R3T["onTouchStart"](g3T);},![]);v3T["addEventListener"]("touchmove",function(V3T){return R3T["onTouchMove"](V3T);},!{});v3T["addEventListener"]("touchend",function(M3T){return R3T["onTouchEnd"](M3T);},![]);v3T["addEventListener"]("selectstart",function(B3T){B3T["preventDefault"]();return!{};},!{});}this["setProductImage"]("");this["addWatermark"]();this["setOverlay"]("");this["updateViewBox"]();this["svgHolder"]["attr"]("preserveAspectRatio","xMinYMin meet");this["setupReference"]();};u8T["prototype"]["captureDefs"]=function(){this["defs"]=this["svgHolder"]["find"]("defs");};u8T["prototype"]["initCustomAttr"]=function(){this["canvas"]["customAttributes"]["laservice"]=function(H3T){var P3T;P3T=jQuery(this["node"]);P3T["attr"]("laservice",H3T);return{};};this["canvas"]["customAttributes"]["fixStrokeScale"]=function(d3T){var i3T;i3T=jQuery(this["node"]);if(d3T)i3T["attr"]("fix-stroke-scale","true");else i3T["removeAttr"]("fix-stroke-scale");return{};};this["canvas"]["customAttributes"]["fixed"]=function(j3T){var N3T;N3T=jQuery(this["node"]);if(j3T)N3T["attr"]("la-fixed","true");else N3T["removeAttr"]("la-fixed");return{};};this["canvas"]["customAttributes"]["userFixed"]=function(c3T){var x3T;x3T=jQuery(this["node"]);if(c3T)x3T["attr"]("la-user-fixed","true");else x3T["removeAttr"]("la-user-fixed");return{};};this["canvas"]["customAttributes"]["fixedSize"]=function(e3T){var Z3T;Z3T=jQuery(this["node"]);if(e3T)Z3T["attr"]("la-fixed-size","true");else Z3T["removeAttr"]("la-fixed-size");return{};};this["canvas"]["customAttributes"]["fixedRotate"]=function(s3T){var a3T;a3T=jQuery(this["node"]);if(s3T)a3T["attr"]("la-fixed-rotate","true");else a3T["removeAttr"]("la-fixed-rotate");return{};};this["canvas"]["customAttributes"]["fixedMove"]=function(h3T){var n3T;n3T=jQuery(this["node"]);if(h3T)n3T["attr"]("la-fixed-move","true");else n3T["removeAttr"]("la-fixed-move");return{};};this["canvas"]["customAttributes"]["constrained"]=function(U3T){var S3T;S3T=jQuery(this["node"]);if(U3T)S3T["attr"]("la-fixed-constrained","true");else S3T["removeAttr"]("la-fixed-constrained");return{};};this["canvas"]["customAttributes"]["fixedColor"]=function(l3T){var L3T;L3T=jQuery(this["node"]);if(l3T)L3T["attr"]("la-fixed-color","true");else L3T["removeAttr"]("la-fixed-color");return{};};this["canvas"]["customAttributes"]["required"]=function(f3T){var Y3T;Y3T=jQuery(this["node"]);if(f3T)Y3T["attr"]("la-required","true");else Y3T["removeAttr"]("la-required");return{};};this["canvas"]["customAttributes"]["fixedFont"]=function(p3T){var q3T;q3T=jQuery(this["node"]);if(p3T)q3T["attr"]("la-fixed-font","true");else q3T["removeAttr"]("la-fixed-font");return{};};this["canvas"]["customAttributes"]["fixedStyle"]=function(F3T){var u3T;u3T=jQuery(this["node"]);if(F3T)u3T["attr"]("la-fixed-style","true");else u3T["removeAttr"]("la-fixed-style");return{};};this["canvas"]["customAttributes"]["fitBounds"]=function(){var E3T,r3T;E3T=Array["prototype"]["slice"]["call"](arguments);r3T=jQuery(this["node"]);if(E3T&&E3T["length"])r3T["attr"]("la-fit-bounds",E3T["join"](","));else r3T["removeAttr"]("la-fit-bounds");return{};};this["canvas"]["customAttributes"]["sourceId"]=function(b3T){var w3T;w3T=jQuery(this["node"]);w3T["attr"]("la-source-id",b3T);return{};};this["canvas"]["customAttributes"]["sourceUrl"]=function(W3T){var J3T;J3T=jQuery(this["node"]);J3T["attr"]("la-source-url",W3T);return{};};this["canvas"]["customAttributes"]["nameObj"]=function(O1T){var m1T;m1T=jQuery(this["node"]);if(O1T)m1T["attr"]("la-name-obj","true");else m1T["removeAttr"]("la-name-obj");return{};};this["canvas"]["customAttributes"]["numberObj"]=function(A1T){var G1T;G1T=jQuery(this["node"]);if(A1T)G1T["attr"]("la-number-obj","true");else G1T["removeAttr"]("la-number-obj");return{};};this["canvas"]["customAttributes"]["processColors"]=function(z1T){var C1T;C1T=jQuery(this["node"]);if(z1T)C1T["attr"]("la-process-colors","true");else C1T["removeAttr"]("la-process-colors");return{};};this["canvas"]["customAttributes"]["colorsNumber"]=function(t1T){var I1T;I1T=jQuery(this["node"]);I1T["attr"]("la-colors-number",t1T);return{};};this["canvas"]["customAttributes"]["colorsList"]=function(){var K1T,X1T;K1T=Array["prototype"]["slice"]["call"](arguments);X1T=jQuery(this["node"]);if(K1T&&K1T["length"])X1T["attr"]("la-colors-list",K1T);else X1T["removeAttr"]("la-colors-list");return{};};this["canvas"]["customAttributes"]["colorize"]=function(y1T){var T1T;T1T=jQuery(this["node"]);if(y1T)T1T["attr"]("la-colorize","true");else T1T["removeAttr"]("la-colorize");return{};};this["canvas"]["customAttributes"]["textSourceId"]=function(v1T){var R1T;R1T=jQuery(this["node"]);R1T["attr"]("la-text-source-id",v1T);return{};};this["canvas"]["customAttributes"]["letterSpacing"]=function(o1T){var Q1T;Q1T=jQuery(this["node"]);Q1T["attr"]("letter-spacing",o1T);return{};};this["canvas"]["customAttributes"]["textEffect"]=function(D1T){var k1T;k1T=jQuery(this["node"]);if(D1T&&D1T!=("0"|0)&&D1T!="none")k1T["attr"]("la-text-effect",D1T);else{k1T["removeAttr"]("la-text-effect");k1T["removeAttr"]("la-text-effect-value");}return{};};this["canvas"]["customAttributes"]["textEffectValue"]=function(V1T){var g1T;g1T=jQuery(this["node"]);if(V1T)g1T["attr"]("la-text-effect-value",V1T["toString"]());else{g1T["removeAttr"]("la-text-effect-value");}return{};};this["canvas"]["customAttributes"]["constraints"]=function(){var M1T,B1T;M1T=Array["prototype"]["slice"]["call"](arguments);B1T=jQuery(this["node"]);if(M1T&&M1T["length"])B1T["attr"]("la-constraints",M1T["join"](","));else B1T["removeAttr"]("la-constraints");return{};};this["canvas"]["customAttributes"]["fitConstraints"]=function(H1T){var P1T;P1T=jQuery(this["node"]);if(H1T)P1T["attr"]("la-fit-constraints","true");else P1T["removeAttr"]("la-fit-constraints");return{};};this["canvas"]["customAttributes"]["isUploaded"]=function(d1T){var i1T;i1T=jQuery(this["node"]);if(d1T)i1T["attr"]("la-is-uploaded","true");else i1T["removeAttr"]("la-is-uploaded");return{};};};u8T["prototype"]["setProductImage"]=function(N1T){var j1T,c1T,Z1T,x1T;j1T=this;if(N1T==this["productImage"])return;this["productImage"]=N1T;if(this["backgroundCanvas"]){this["clearBackground"]();}else{this["backgroundCanvas"]=Raphael(this["holder"]["0"-0],this["width"],this["height"]);c1T=this["holder"]["children"]();Z1T=this["holder"]["position"]();c1T["css"]({'\x70\x6f\x73\x69\x74\x69\x6f\x6e':"absolute"});}this["maskDefinedInProduct"]=![];if(N1T&&N1T["length"]>("0"|0)){this["createProductPreloader"]();if(this["isPathSVG"](N1T)){this["loadingSVGBackground"]=!!1;jQuery["get"](N1T,null,function(e1T,a1T,s1T){return j1T["onSVGBackgroundImageLoaded"](e1T,N1T);},"text")["fail"](function(){var h1T;h1T=[];for(var n1T="0"-0;n1T<arguments["length"];n1T++){h1T[n1T]=arguments[n1T];}return j1T["onSVGBackgroundFail"](N1T);});}else{this["loadingRasterBackground"]=!0;x1T=new Image();x1T["onload"]=function(S1T){return j1T["onBackgroundImageLoaded"](x1T);};x1T["src"]=N1T;}}};u8T["prototype"]["clearBackground"]=function(){if(this["productDefsRoot"])this["productDefsRoot"]=null;this["productElTransform"]="";if(this["backgroundStyleNode"])this["backgroundStyleNode"]["remove"]();this["backgroundStyleNode"]=null;this["backgroundStyle"]=null;this["backgroundCanvas"]["clear"]();this["productEl"]=null;};u8T["prototype"]["createProductPreloader"]=function(){if(this["backgroundPreloader"])this["backgroundPreloader"]["remove"]();this["backgroundPreloader"]=this["backgroundCanvas"]["image"](this["backgroundPreloaderPath"](),(this["width"]-this["backgroundPreloaderSize"])/+"2",(this["height"]-this["backgroundPreloaderSize"])/2,this["backgroundPreloaderSize"],this["backgroundPreloaderSize"]);};u8T["prototype"]["deleteProductPreloader"]=function(){if(this["backgroundPreloader"]){this["backgroundPreloader"]["remove"]();this["backgroundPreloader"]=null;}};u8T["prototype"]["onBackgroundImageLoaded"]=function(U1T){var L1T,l1T;if(!U1T["src"]||U1T["src"]["indexOf"](this["productImage"])==-("1"|0))return;this["loadingRasterBackground"]=!1;this["deleteProductPreloader"]();this["clearBackground"]();L1T=this["width"];l1T=this["height"];if(this["fitProductImage"]){L1T=U1T["width"];l1T=U1T["height"];}this["productEl"]=this["backgroundCanvas"]["image"](this["productImage"],"0"|0,"0"|0,L1T,l1T);if(this["scaleLoadedBackground"]){this["updateProductSize"](U1T["width"],U1T["height"]);this["scaleLoadedBackground"]=![];}this["updateProductElementsScale"]();};u8T["prototype"]["onSVGBackgroundImageLoaded"]=function(u1T,J1T){var f1T,W1T,Y1T,F1T,r1T,w1T,b1T,q1T,E1T,p1T;f1T=null;this["loadingSVGBackground"]=!{};this["deleteProductPreloader"]();this["clearBackground"]();if(!u1T){this["onSVGFail"](J1T);return;}u1T=Y8T["Utils"]["ImageUtils"]["svgToGroup"](u1T);Y1T=Y8T["Utils"]["ImageUtils"]["parseSVG"](u1T);if(!Y1T){this["onSVGFail"](J1T);return;}F1T=Y8T["Util"]["generateUID"]();Y1T["attr"]("id",F1T);r1T=Y8T["Utils"]["ImageUtils"]["parseSVGDimensions"](Y1T);w1T=r1T["width"];b1T=r1T["height"];jQuery(this["backgroundCanvas"]["canvas"])["find"]("defs")["append"](Y1T);this["productDefsRoot"]=Y1T;f1T=Y1T["find"]("#la-product-mask");if(f1T["length"]>+"0")f1T["detach"]();this["backgroundStyleNode"]=Y1T["find"]("style");this["processBackgroundStyle"]();this["backgroundUseID"]="#"+F1T;if(this["fitProductImage"]){this["productEl"]=this["backgroundCanvas"]["use"](this["backgroundUseID"],"0"|0,0,w1T,b1T);}else{this["productEl"]=this["backgroundCanvas"]["use"](this["backgroundUseID"],+"0","0"-0,this["width"],this["height"]);}if(f1T["length"]>+"0"){this["maskDefinedInProduct"]=!![];if(this["maskDefsRoot"])this["maskDefsRoot"]["remove"]();q1T=jQuery("<g>");E1T={};jQuery["each"](Y1T["0"*1]["attributes"],function(){if(this["specified"]){E1T[this["name"]]=this["value"];}});q1T["attr"](E1T);q1T["html"](jQuery('<div>')["append"](f1T["clone"]())["html"]());f1T=q1T;p1T=jQuery('<div>')["append"](q1T["clone"]())["html"]();p1T="svg://"+p1T;this["setMask"](p1T,!!0);}else{this["maskDefinedInProduct"]=!!0;}this["displayCutLines"](![]);if(this["scaleLoadedBackground"]){this["updateProductSize"]();this["scaleLoadedBackground"]=!1;}this["updateProductElementsScale"]();this["forceRedraw"]();};u8T["prototype"]["onSVGBackgroundFail"]=function(m6T){this["loadingSVGBackground"]=![];this["deleteProductPreloader"]();this["dispatchEvent"](new Y8T["Events"]["BackgroundColorizeParsedEvent"]([]));Y8T["Model"]["messageManager"]["failedToLoadProductBackgroundMessage"](m6T);};u8T["prototype"]["addWatermark"]=function(){if(this["watermarkHolder"]||!Y8T["Trial"]["isTrial"]())return;this["watermarkHolder"]=jQuery("<div>");this["watermarkHolder"]["appendTo"](this["holder"]);this["watermarkHolder"]["html"](Y8T["Trial"]["TrialWatermark"]);this["watermarkHolder"]["css"]({'\x70\x6f\x69\x6e\x74\x65\x72\x2d\x65\x76\x65\x6e\x74\x73':"none",'\x7a\x49\x6e\x64\x65\x78':+"40",'\x70\x6f\x73\x69\x74\x69\x6f\x6e':"absolute"});};function u8T(){var E8T;E8T=F8T["call"](this)||this;E8T["backgroundUseID"]="";E8T["maskDefinedInProduct"]=![];E8T["productElTransform"]="";E8T["selectedEl"]=new Array();E8T["lastSelected"]=new Array();E8T["elements"]=new Array();E8T["hitX"]="0"*1;E8T["hitY"]="0"-0;E8T["tmpX"]=0;E8T["tmpY"]="0"-0;E8T["printAreaCoordOrig"]=["0"-0,"0"-0,0,"0"*1];E8T["printAreaCoord"]=[0,+"0",0,0];E8T["printAreaUnits"]=["0"|0,"0"-0];E8T["printAreaVisible"]=!!"";E8T["clipRectCoordOrig"]=[];E8T["clipRectCoord"]=[];E8T["options"]=new Y8T["VO"]["LAOptions"]();E8T["maskImage"]="";E8T["overlayImage"]="";E8T["rulerPrintAreaUnits"]=[+"0","0"*1];E8T["locUnit"]="";E8T["backgroundPreloaderSize"]=+"66";E8T["preloaders"]={};E8T["blockDoubleClick"]=!{};E8T["doubleClickDelay"]="300"-0;E8T["lastClick"]=new Date()["getTime"]()-+"10000000";E8T["lastSelectedObj"]=null;E8T["dpu"]=+"0";E8T["minDPU"]="0"*1;E8T["dpuX"]=+"1";E8T["dpuY"]=+"1";E8T["viewPort"]={'\x78':+"0",'\x7a\x6f\x6f\x6d':100,'\x79':+"0"};E8T["hitViewPort"]={'\x78':"0"|0,'\x79':+"0",'\x7a\x6f\x6f\x6d':+"100"};E8T["drag"]=!{};E8T["lockProportions"]=!!{};E8T["showRuler"]=!"1";E8T["loadingSVGBackground"]=!!"";E8T["loadingRasterBackground"]=!{};E8T["scaleLoadedBackground"]=!1;E8T["fitProductImage"]=![];E8T["fitPrintArea"]=!1;E8T["preloadersToRemove"]=[];E8T["onMouseDownDebug"]={'\x64\x65\x62\x75\x67\x45\x6c':null,'\x64\x65\x62\x75\x67':!1};E8T["counter"]="0"-0;E8T["rememberedTouches"]=[];E8T["transforming"]=!{};E8T["dragging"]=![];E8T["redrawing"]=!!"";E8T["tracker"]=new Y8T["TrackerManager"](E8T);E8T["ruler"]=new Y8T["RulerManager"](E8T);E8T["snapLinesManager"]=new Y8T["SnapLinesManager"](E8T);return E8T;}u8T["prototype"]["setOverlay"]=function(O6T){if(this["overlayImage"]==O6T)return;this["overlayImage"]=O6T;if(O6T==""){if(this["overlayCanvas"])this["overlayCanvas"]["clear"]();}else{if(!this["overlayHolder"]){this["overlayHolder"]=jQuery("<div>");this["overlayHolder"]["appendTo"](this["holder"]);this["overlayHolder"]["css"]({'\x70\x6f\x73\x69\x74\x69\x6f\x6e':"absolute",'\x70\x6f\x69\x6e\x74\x65\x72\x2d\x65\x76\x65\x6e\x74\x73':"none",'\x7a\x49\x6e\x64\x65\x78':+"20"});}if(!this["overlayCanvas"]){this["overlayCanvas"]=Raphael(this["overlayHolder"][0],this["width"],this["height"]);}this["overlayCanvas"]["clear"]();this["overlayCanvas"]["image"](this["overlayImage"],0,0,this["width"],this["height"]);}};u8T["prototype"]["setRuler"]=function(G6T){if(G6T===void("0"*1)){G6T=!![];}if(this["rulerHolder"]){this["rulerHolder"]["remove"]();this["rulerHolder"]=null;}this["showRuler"]=G6T;if(!G6T){this["updateViewBox"]();return;}this["rulerHolder"]=jQuery("<div>");this["rulerHolder"]["appendTo"](this["holder"]);this["rulerHolder"]["css"]({'\x70\x6f\x69\x6e\x74\x65\x72\x2d\x65\x76\x65\x6e\x74\x73':"none",'\x70\x6f\x73\x69\x74\x69\x6f\x6e':"absolute",'\x7a\x49\x6e\x64\x65\x78':"10"-0});this["ruler"]["rulerHolder"]=this["rulerHolder"];this["ruler"]["width"]=this["width"];this["ruler"]["height"]=this["height"];this["ruler"]["printAreaCoord"]=this["printAreaCoord"];this["ruler"]["printAreaUnits"]=this["rulerPrintAreaUnits"];this["ruler"]["locUnit"]=this["locUnit"];this["ruler"]["showRuler"]();this["updateViewBox"]();};u8T["prototype"]["setMask"]=function(C6T,X6T){var t6T,T6T,y6T,v6T,K6T,A6T,z6T,R6T,I6T;t6T=this;if(X6T===void("0"*1)){X6T=!{};}T6T=this["maskImage"];if(!X6T){if(this["maskImage"]==C6T)return;this["maskImage"]=C6T;}y6T=this["maskImage"]["substr"](+"0","6"|0)=="svg://";v6T=T6T["substr"](0,"6"*1)=="svg://";if(this["maskDefinedInProduct"]&&!y6T){if(v6T)this["maskImage"]=T6T;return;}if(this["maskImage"]==""){if(this["maskEl"]){this["maskEl"]["remove"]();this["maskEl"]=null;}if(this["maskDefsRoot"]){this["maskDefsRoot"]["remove"]();this["maskDefsRoot"]=null;}}else{if(this["maskEl"])this["maskEl"]["remove"]();K6T="";if(this["maskDefsRoot"]){K6T=this["maskDefsRoot"]["attr"]("transform");this["maskDefsRoot"]["remove"]();this["maskDefsRoot"]=null;}if(y6T){A6T=this["maskImage"]["substr"]("6"-0);A6T='<?xml version="1.0" encoding="utf-8"?>'+'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+A6T;A6T=Y8T["Utils"]["ImageUtils"]["svgToGroup"](A6T);z6T=Y8T["Utils"]["ImageUtils"]["parseSVG"](A6T);if(!z6T){this["onSVGFail"](C6T);return;}R6T=Y8T["Util"]["generateUID"]();z6T["attr"]("id",R6T);this["maskDefsRoot"]=z6T;this["defs"]["append"](z6T);this["maskEl"]=this["canvas"]["use"]("#"+R6T,"0"*1,"0"|0,this["width"],this["height"]);this["maskEl"]["id"]=this["maskEl"]["node"]["id"]="productMask";this["maskEl"]["attr"]("laservice",!![]);this["maskEl"]["attr"]("style","pointer-events: none;");if(K6T){this["maskDefsRoot"]["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':K6T});}if(this["productEl"]){this["maskEl"]["transform"](this["productEl"]["transform"]());}}else{if(this["maskImage"]&&this["maskImage"]["length"]>("0"|0)){if(this["isPathSVG"](this["maskImage"])){jQuery["get"](this["maskImage"],null,function(Q6T,o6T,D6T){return t6T["onSVGMaskImageLoaded"](Q6T,C6T);},"text")["fail"](function(){var g6T;g6T=[];for(var k6T="0"|0;k6T<arguments["length"];k6T++){g6T[k6T]=arguments[k6T];}return t6T["onSVGMaskImageFail"](C6T);});}else{I6T=new Image();I6T["onload"]=function(V6T){return t6T["onMaskImageLoaded"](I6T);};I6T["src"]=this["maskImage"];}}}this["fixPrintAreaLayer"]();}};u8T["prototype"]["onMaskImageLoaded"]=function(M6T){if(this["maskEl"])this["maskEl"]["remove"]();this["maskEl"]=this["canvas"]["image"](this["maskImage"],"0"|0,"0"-0,M6T["width"],M6T["height"]);this["maskEl"]["id"]=this["maskEl"]["node"]["id"]="productMask";this["maskEl"]["attr"]("laservice",!!{});this["maskEl"]["attr"]("style","pointer-events: none;");if(this["productEl"]){this["maskEl"]["transform"](this["productEl"]["transform"]());}this["fixPrintAreaLayer"]();this["updateProductElementsScale"]();};u8T["prototype"]["onSVGMaskImageLoaded"]=function(P6T,d6T){var B6T,H6T,i6T,N6T,j6T;if(this["maskEl"])this["maskEl"]["remove"]();if(this["maskDefsRoot"]){this["maskDefsRoot"]["remove"]();this["maskDefsRoot"]=null;}if(!P6T){this["onSVGMaskImageFail"](d6T);return;}P6T=Y8T["Utils"]["ImageUtils"]["svgToGroup"](P6T);B6T=Y8T["Utils"]["ImageUtils"]["parseSVG"](P6T);if(!B6T){this["onSVGMaskImageFail"](d6T);return;}H6T=Y8T["Util"]["generateUID"]();B6T["attr"]("id",H6T);i6T=Y8T["Utils"]["ImageUtils"]["parseSVGDimensions"](B6T);N6T=i6T["width"];j6T=i6T["height"];this["defs"]["append"](B6T);this["maskDefsRoot"]=B6T;this["maskEl"]=this["canvas"]["use"]("#"+H6T,0,0,N6T,j6T);this["maskEl"]["id"]=this["maskEl"]["node"]["id"]="productMask";this["maskEl"]["attr"]("laservice",!!{});this["maskEl"]["attr"]("style","pointer-events: none;");if(this["productEl"]){this["maskEl"]["transform"](this["productEl"]["transform"]());}this["updateProductElementsScale"]();};u8T["prototype"]["onSVGMaskImageFail"]=function(x6T){Y8T["Model"]["messageManager"]["failedToLoadProductMaskMessage"](x6T);};u8T["prototype"]["addCloneObjectToCanvas"]=function(Z6T){var e6T,c6T,a6T;e6T=this;c6T=new Y8T["VO"]["Obj"](Z6T["type"],Z6T["value"]);a6T=Z6T["attrs"];c6T["attr"](a6T);c6T["attr"]({'\x61\x6c\x72\x65\x61\x64\x79\x4c\x6f\x61\x64\x65\x64':!!{}});if(Z6T["type"]==ObjectType["Image"]){c6T["value"]=a6T["src"];}else if((!Z6T["value"]||Z6T["value"]=="dumb")&&Z6T["type"]==ObjectType["SVG"]){c6T["value"]=a6T["sourceUrl"];}c6T["initScale"]=Z6T["initScale"];if(Z6T["multicolor"]){c6T["multicolor"]=!!{};c6T["complexColor"]=new Y8T["VO"]["ComplexColorVO"](Z6T["complexColor"]);c6T["styleVO"]=new Y8T["VO"]["StyleVO"](Z6T["styleVO"]["toString"]());c6T["styleVO"]["skipParseStyles"]=!"";}c6T["forceTransform"]=!"";return this["addObjectToCanvas"](c6T)["then"](function(s6T){var n6T;if(s6T){n6T=e6T["getCloneShift"]();Y8T["Util"]["move"](s6T["elementLink"],"0"|0,n6T);if(e6T["selected"]()===s6T){e6T["tracker"]["track"](s6T["elementLink"]);}}return s6T;});};u8T["prototype"]["getCloneShift"]=function(){return this["width"]/("40"|0);};u8T["prototype"]["addObjectToCanvas"]=function(h6T,L6T,U6T){var S6T;S6T=this;if(L6T===void("0"*1)){L6T=!!{};}if(U6T===void 0){U6T=!!1;}return new Promise(function(l6T,f6T){var Y6T;S6T["checkObjectType"](h6T);if(h6T["type"]==ObjectType["Image"]||h6T["isImage"]()){S6T["loadImage"](h6T,function(q6T,p6T){return S6T["onElementAdded"](q6T,p6T,U6T,null,L6T);})["then"](function(u6T){l6T(u6T);});}else if(h6T["type"]==ObjectType["SVG"]||h6T["isSVG"]()){S6T["loadSVG"](h6T,function(F6T,E6T){return S6T["onElementAdded"](F6T,E6T,U6T,null,!!{});})["then"](function(r6T){l6T(r6T);});}else if(h6T["type"]==ObjectType["Text"]||h6T["isTextFXVector"]()){Y6T=function(w6T,b6T){S6T["onElementAdded"](w6T,b6T,U6T);l6T(h6T);};S6T["addTextToCanvas"](h6T,Y6T);}else{f6T();}});};u8T["prototype"]["onElementAdded"]=function(J6T,W6T,m7T,O7T,G7T){if(m7T===void+"0"){m7T=!!1;}if(O7T===void("0"*1)){O7T=null;}if(G7T===void 0){G7T=!"";}J6T["designer"]=this;if(O7T){W6T["id"]=W6T["node"]["id"]=J6T["elementId"]=O7T;}else{W6T["id"]=W6T["node"]["id"]=J6T["elementId"]=Y8T["Util"]["generateUID"]();}J6T["elementLink"]=W6T;this["dispatchEvent"](new Y8T["Events"]["ObjectAddedEvent"](J6T));jQuery(W6T["node"])["css"]("letter-spacing","");W6T["node"]["elementLink"]=W6T;W6T["node"]["objectLink"]=J6T;W6T["node"]["laDesigner"]=this;this["elements"]["push"](W6T);J6T["attr"](J6T["defaultAttr"]);this["switchTextFX"](!!{},J6T);if(J6T["forceTransform"]&&J6T["defaultAttr"]&&J6T["defaultAttr"]["transform"]){J6T["forceTransform"]=!"1";J6T["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':J6T["defaultAttr"]["transform"]});}J6T["defaultAttr"]={};this["fixPrintAreaLayer"]();if(m7T){this["select"](W6T,m7T);}else{this["deSelect"]();}if(m7T)this["dispatchEvent"](new Y8T["Events"]["DesignerChangedEvent"](this["selected"](),G7T));};u8T["prototype"]["switchTextFX"]=function(t7T,A7T){var C7T,I7T,z7T;if(A7T["type"]!=ObjectType["Text"])return;if(t7T){if(A7T["loadedTextEffectElement"]){A7T["textElementId"]=A7T["elementId"];A7T["textElementLink"]=A7T["elementLink"];A7T["textElementLink"]["hide"]();if(A7T["loadedTextEffectElement"]["type"]=="use")A7T["textUrl"]="svg://"+A7T["loadedTextEffectElement"]["attr"]("src");else A7T["textUrl"]=A7T["loadedTextEffectElement"]["attr"]("src");A7T["elementLink"]=A7T["loadedTextEffectElement"];A7T["elementId"]=A7T["loadedTextEffectElement"]["id"];A7T["elementLink"]["attr"]("textSourceId",A7T["textElementLink"]["id"]);A7T["loadedTextEffectElement"]=null;A7T["elementLink"]["node"]["objectLink"]=A7T;this["elements"]["push"](A7T["elementLink"]);Y8T["Util"]["arrayRemove"](A7T["textElementLink"],this["elements"]);}else{if(!A7T["textElementLink"])return;A7T["elementLink"]["transform"](A7T["textElementLink"]["transform"]());C7T=A7T["getBBox"](!![]);A7T["elementLink"]["transform"]("...t"+-C7T["width"]/("2"*1)+","+-C7T["height"]/+"2");A7T["elementLink"]["attr"]("textSourceId",A7T["textElementLink"]["id"]);Y8T["Util"]["arrayRemove"](A7T["textElementLink"],this["elements"]);}}else{if(A7T["elementLink"]){A7T["textElementLink"]["transform"](A7T["elementLink"]["transform"]());C7T=A7T["getBBox"](!![]);A7T["textElementLink"]["transform"]("...t"+C7T["width"]/("2"*1)+","+C7T["height"]/("2"*1));}I7T=this["selected"]();if(A7T==I7T){this["select"](A7T["textElementLink"]);this["tracker"]["clear"]();}z7T=Y8T["Util"]["arrayIndexOf"](A7T["elementLink"],this["elements"]);if(z7T>-+"1"){A7T["elementLink"]["remove"]();this["elements"][z7T]=A7T["textElementLink"];}else{if(Y8T["Util"]["arrayIndexOf"](A7T["textElementLink"],this["elements"])==-+"1")this["elements"]["push"](A7T["textElementLink"]);}}};u8T["prototype"]["addTextToCanvas"]=function(X7T,v7T){var y7T,R7T,K7T,T7T;y7T=this["printAreaCoord"]["0"-0]+(this["printAreaCoord"][+"2"]-this["printAreaCoord"][+"0"])/+"2";R7T=this["printAreaCoord"][+"1"]+(this["printAreaCoord"]["3"*1]-this["printAreaCoord"][+"1"])/("2"-0);K7T=this["canvas"]["text"]("0"*1,"0"-0,X7T["value"]);if(X7T["defaultTransform"]["length"]>"0"*1){K7T["transform"](X7T["defaultTransform"]);X7T["defaultTransform"]="";}else{K7T["transform"]("t"+y7T+","+R7T);}T7T=+"32";K7T["attr"]({'\x66\x6f\x6e\x74\x2d\x73\x69\x7a\x65':T7T});K7T["attr"]({'\x6c\x65\x74\x74\x65\x72\x2d\x73\x70\x61\x63\x69\x6e\x67':X7T["attr"]()["letterSpacing"]});K7T["text"]=X7T["value"];K7T["attr"]("font-size",Math["abs"](T7T));K7T["attr"]("fixStrokeScale",!![]);K7T["attr"]("cursor","pointer");this["setObjectClipPath"](K7T);v7T(X7T,K7T);};u8T["prototype"]["loadImage"]=function(Q7T,D7T){var o7T;o7T=this;this["createPreloadElement"](Q7T);return new Promise(function(g7T,V7T){var k7T;k7T=new Image();k7T["onload"]=function(M7T){o7T["onImageLoaded"](Q7T,k7T,D7T);g7T(Q7T);};if(Q7T["type"]!=ObjectType["Text"])k7T["src"]=Q7T["value"];else k7T["src"]=Q7T["textUrl"];});};u8T["prototype"]["onImageLoaded"]=function(P7T,N7T,s7T){var B7T,i7T,d7T,H7T,c7T,Z7T,j7T,x7T,a7T,e7T;i7T=N7T["width"];d7T=N7T["height"];H7T=this["fitImageCoords"](i7T,d7T);H7T=this["fitImageCoords"](i7T,d7T,!1,P7T["suppressFitResize"]||P7T["type"]==ObjectType["Text"]);c7T=H7T[+"4"];Z7T=this["deletePreloadElement"](P7T);if(P7T["type"]==ObjectType["Image"]||P7T["hasTextFX"]()&&P7T["textUrl"]==N7T["src"]){if(!P7T["elementLink"]){if(P7T["type"]!=ObjectType["Text"]){B7T=this["canvas"]["image"](P7T["value"],"0"*1,0,i7T,d7T);B7T["attr"]("cursor","pointer");if(Z7T!="")B7T["transform"](Z7T);this["setObjectClipPath"](B7T);j7T=B7T["matrix"];j7T["translate"](H7T["0"|0],H7T["1"*1]);j7T["scale"](H7T[2]/ i7T,H7T[+"3"]/d7T);B7T["transform"](j7T["toTransformString"]());}else{B7T=this["canvas"]["image"](P7T["textUrl"],0,"0"-0,i7T,d7T);B7T["attr"]("cursor","pointer");x7T=N7T["width"];a7T=N7T["height"];if(P7T["textElementLink"]){e7T=P7T["getBBox"](!!"1");a7T=N7T["height"]*e7T["width"]/x7T;x7T=e7T["width"];B7T["transform"](P7T["textElementLink"]["transform"]());}B7T["attr"]("width",x7T);B7T["attr"]("height",a7T);this["setObjectClipPath"](B7T);}}else{B7T=P7T["elementLink"];B7T["attr"]({'\x77\x69\x64\x74\x68':i7T,'\x68\x65\x69\x67\x68\x74':d7T});this["setObjectClipPath"](B7T);}if(c7T>"0"-0){jQuery(B7T["node"])["attr"]("la-maxscale",c7T);}s7T(P7T,B7T);}};u8T["prototype"]["loadSVG"]=function(n7T,S7T){var h7T;h7T=this;return new Promise(function(L7T,Y7T){var U7T,l7T;if(n7T["type"]!=ObjectType["Text"]){h7T["createPreloadElement"](n7T);}if(n7T["type"]!=ObjectType["Text"])U7T=n7T["value"];else U7T=n7T["textUrl"];if(U7T["substr"](+"0",+"6")=="svg://"){h7T["onSVGLoaded"](n7T,U7T["substr"](6),null,null,S7T,U7T);L7T(n7T);}else{l7T=function(f7T,q7T,p7T){h7T["onSVGLoaded"](n7T,f7T,q7T,p7T,S7T,U7T);L7T(n7T);};jQuery["get"](U7T,null,l7T,"text")["fail"](h7T["onSVGFail"]["bind"](null,U7T));}});};u8T["prototype"]["onSVGLoaded"]=function(F7T,u7T,V4T,M4T,g4T,y4T){var E7T,r7T,T4T,v4T,A4T,C4T,m4T,w7T,b7T,W7T,J7T,I4T,t4T,R4T,X4T,Q4T,o4T,D4T,k4T,K4T,O4T,z4T,G4T;if(!u7T){this["onSVGFail"](y4T);return;}u7T=u7T["replace"](/(\r\n|\n|\r)/gm," ");u7T=u7T["replace"](/^(\s)+/g,"");u7T=Y8T["Utils"]["ImageUtils"]["svgToGroup"](u7T);u7T=u7T["replace"](/sodipodi:(\w+)=\"([^\"]+)\"/ig,"");u7T=u7T["replace"](/inkscape:(\w+)=\"([^\"]+)\"/ig,"");u7T=u7T["replace"](/<inkscape([^>]+)\/>/ig,"");u7T=u7T["replace"](/(<sodipodi([^>]+)>)/ig,"");u7T=u7T["replace"](/(<\/sodipodi:([^>]+)>)/ig,"");r7T=Y8T["Util"]["generateUID"]();T4T=/\sid="(\w+)"/igm;v4T=/url\(#(\w+)\)/igm;C4T=[];while(A4T=v4T["exec"](u7T)){C4T["push"](A4T["1"-0]);}while(A4T=T4T["exec"](u7T)){m4T=A4T["1"-0];if(C4T["indexOf"](m4T)>-("1"-0)){u7T=u7T["replace"](new RegExp(" id=\""+m4T+"\"","igm")," id=\""+m4T+"-"+r7T+"\"");u7T=u7T["replace"](new RegExp("url\\(#"+m4T+"\\)","igm"),"url(#"+m4T+"-"+r7T+")");}}u7T=Y8T["Util"]["cleanIlustrator"](u7T);w7T=Y8T["Utils"]["ImageUtils"]["parseSVG"](u7T);if(!w7T){this["onSVGFail"](y4T);return;}if(F7T["defaultAttr"]["colorize"]&&!F7T["multicolor"]){w7T["find"]("[fill]")["each"](function(){this["removeAttribute"]("fill");});}w7T["find"]("metadata")["each"](function(){jQuery(this)["remove"]();});w7T["attr"]("id",r7T);b7T=Y8T["Utils"]["ImageUtils"]["parseSVGDimensions"](w7T);W7T=b7T["width"];J7T=b7T["height"];I4T=b7T["viewBoxW"];t4T=b7T["viewBoxH"];R4T=b7T["viewBoxX"];X4T=b7T["viewBoxY"];Q4T=W7T/I4T;o4T=J7T/t4T;D4T=-R4T;k4T=-X4T;K4T=Y8T["Utils"]["ImageUtils"]["buildTransformString"](Q4T,o4T,D4T,k4T);if(K4T["length"]){w7T["attr"]("transform",K4T);}this["defs"]["append"](w7T);O4T=this["fitSVGCoords"](W7T,J7T,I4T,t4T);z4T=this["deletePreloadElement"](F7T);if(!F7T["elementLink"]){if(F7T["type"]!=ObjectType["Text"]){E7T=this["canvas"]["use"]("#"+r7T,0,"0"|0,W7T,J7T);F7T["defaultAttr"]["src"]="#"+r7T;F7T["defaultAttr"]["sourceUrl"]=F7T["value"];E7T["attr"]("cursor","pointer");if(z4T!="")E7T["transform"](z4T);G4T=E7T["matrix"];G4T["translate"](O4T[+"0"],O4T[+"1"]);G4T["scale"](O4T[4],O4T["4"-0]);E7T["transform"](G4T["toTransformString"]());}else{E7T=this["canvas"]["use"]("#"+r7T,"0"|0,0,W7T,J7T);F7T["defaultAttr"]["src"]="#"+r7T;F7T["defaultAttr"]["sourceUrl"]=F7T["value"];E7T["attr"]("cursor","pointer");if(F7T["textElementLink"]){E7T["transform"](F7T["textElementLink"]["transform"]());}}this["setObjectClipPath"](E7T);}else{E7T=F7T["elementLink"];E7T["attr"]({'\x77\x69\x64\x74\x68':W7T,'\x68\x65\x69\x67\x68\x74':J7T});this["setObjectClipPath"](E7T);}this["processGraphicsStyle"](F7T,E7T);this["forceRedraw"]();if(g4T)g4T(F7T,E7T);};u8T["prototype"]["onSVGUpdated"]=function(H4T,B4T){var i4T,P4T,d4T,N4T,j4T,x4T;this["removeObjDefs"](H4T);if(!B4T){this["onSVGFail"](B4T);return;}B4T=Y8T["Utils"]["ImageUtils"]["svgToGroup"](B4T);P4T=Y8T["Utils"]["ImageUtils"]["parseSVG"](B4T);if(!P4T){this["onSVGFail"](B4T);return;}d4T=Y8T["Util"]["generateUID"]();P4T["attr"]("id",d4T);N4T=Y8T["Utils"]["ImageUtils"]["parseSVGDimensions"](P4T);j4T=N4T["width"];x4T=N4T["height"];this["defs"]["append"](P4T);if(!H4T["elementLink"]){return;}else{i4T=H4T["elementLink"];i4T["attr"]({'\x73\x72\x63':"#"+d4T});i4T["attr"]({'\x77\x69\x64\x74\x68':j4T,'\x68\x65\x69\x67\x68\x74':x4T});}};u8T["prototype"]["onSVGFail"]=function(c4T){Y8T["Model"]["messageManager"]["failedToLoadGraphicMessage"](c4T);};u8T["prototype"]["createPreloadElement"]=function(e4T){var s4T,n4T,h4T,a4T,Z4T;s4T=Math["min"](this["printAreaCoord"][+"2"]-this["printAreaCoord"]["0"|0],this["printAreaCoord"]["3"*1]-this["printAreaCoord"][+"1"]);n4T=s4T;h4T=s4T;a4T=this["fitImageCoords"](n4T,h4T,!1);Z4T=this["canvas"]["image"](this["imagePreloaderPath"](),a4T["0"*1],a4T[1],a4T[+"2"],a4T[3]);this["clearPreloadersCache"]();Z4T["attr"]("cursor","pointer");e4T["designer"]=this;Z4T["id"]=Z4T["node"]["id"]=e4T["elementId"]=Y8T["Util"]["generateUID"]();e4T["elementLink"]=Z4T;Z4T["node"]["elementLink"]=Z4T;Z4T["node"]["objectLink"]=e4T;if(e4T["defaultTransform"]["length"]>0){Z4T["transform"](e4T["defaultTransform"]);e4T["defaultTransform"]="";}this["preloaders"][Z4T["id"]]=Z4T;return Z4T;};u8T["prototype"]["deletePreloadElement"]=function(U4T){var l4T,L4T,S4T;l4T="";if(U4T["elementLink"]&&this["preloaders"][U4T["elementLink"]["id"]]){delete this["preloaders"][U4T["elementLink"]["id"]];L4T=U4T["elementLink"];this["deSelect"](L4T);U4T["elementLink"]=undefined;S4T=L4T["matrix"];l4T="m"+[S4T["a"],S4T["b"],S4T["c"],S4T["d"],S4T["e"],S4T["f"]]["join"](",");Y8T["Util"]["safeRemoving"](L4T);this["preloadersToRemove"]["push"](L4T);}return l4T;};u8T["prototype"]["clearPreloadersCache"]=function(){for(var Y4T=+"0";Y4T<this["preloadersToRemove"]["length"];Y4T++){this["preloadersToRemove"][Y4T]["remove"]();}this["preloadersToRemove"]=[];};u8T["prototype"]["getSVG"]=function(k9T,V9T,g9T,F4T){var T9T,q4T,m9T,v9T,Q9T,w4T,O9T,G9T,A9T,E4T,p4T,I9T,R9T,t9T,J4T,W4T,z9T,f4T,u4T,K9T,o9T,D9T,y9T,r4T,C9T,X9T;T9T=this;if(F4T===void("0"*1)){F4T=!1;}if(!F4T){this["deSelect"]();this["tracker"]["clear"]();}v9T=this["viewPort"]["zoom"];Q9T=this["showRuler"];if(!F4T){this["setRuler"](!"1");this["setZoom"](100);this["updateTextElementTranformations"]();if(this["printAreaEl"])this["printAreaEl"]["hide"]();if(this["maskEl"]&&!g9T)this["maskEl"]["hide"]();if(this["referenceEl"])this["referenceEl"]["hide"]();this["getObjList"]()["forEach"](function(M9T){T9T["hideConstraints"](M9T);});}if(this["productImage"]){w4T=this["width"];O9T=this["height"];if(this["productEl"]){G9T=parseFloat(this["productEl"]["attr"]("width"));A9T=parseFloat(this["productEl"]["attr"]("height"));if(!(isNaN(G9T)||isNaN(A9T))){w4T=G9T;O9T=A9T;}}if(this["isPathSVG"](this["productImage"])){this["displayCutLines"](!![]);m9T=jQuery(this["backgroundCanvas"]["canvas"])["find"]("defs")["children"]()["clone"]();m9T["appendTo"](this["defs"]);q4T=this["canvas"]["use"](this["backgroundUseID"],"0"|0,+"0",w4T,O9T);if(this["productEl"]){q4T["transform"](this["productEl"]["transform"]());}this["displayCutLines"](![]);}else{q4T=this["canvas"]["image"](this["productImage"],0,"0"*1,w4T,O9T);if(this["productEl"]){q4T["transform"](this["productEl"]["transform"]());}}q4T["id"]=q4T["node"]["id"]="productImage";q4T["attr"]("laservice",!!{});q4T["toBack"]();if(!k9T)q4T["hide"]();}E4T=jQuery("<div>");p4T=this["holder"]["children"]()["eq"](+"1")["clone"]();if(p4T["length"]<1)return"";if(Y8T["Trial"]["isTrial"]()&&this["watermarkHolder"]){I9T=jQuery("<div>");I9T["html"](Y8T["Trial"]["TrialWatermark"]);R9T=I9T["find"]("svg > g");p4T["append"](R9T);}t9T=p4T["get"](+"0")["getElementsByTagName"]("defs");for(var b4T=0;b4T<t9T["length"];b4T++){J4T=t9T[b4T];while(J4T["attributes"]["length"]>+"0"){J4T["removeAttribute"](J4T["attributes"][0]["name"]);}}p4T["children"]()["each"](function(){var B9T;B9T=jQuery(this)["css"]('display');if(B9T=='none'){jQuery(this)["attr"]("display","none");}});p4T["find"]("*[font]")["each"](function(H9T,P9T){P9T["removeAttribute"]("font");});p4T["find"]("[la-remove]")["each"](function(d9T,i9T){Y8T["Util"]["removeElement"](i9T);});p4T["get"]("0"*1)["removeAttribute"]("style");E4T["append"](p4T);W4T=jQuery(" > svg > use#productImage",E4T)["first"]();z9T=jQuery(" > svg > defs",E4T)["first"]();if(W4T["index"]()>-+"1"&&W4T["index"]()<z9T["index"]()){W4T["insertAfter"](z9T);}if(this["printAreaCoord"]&&this["printAreaCoord"]["length"]==="4"-0){p4T["attr"]("la-print-area",this["printAreaCoord"]["join"](" "));}else{p4T["removeAttr"]("la-print-area");}f4T=E4T["html"]();u4T='xmlns="http://www.w3.org/2000/svg"';K9T=f4T["split"](">")[+"0"];o9T=K9T["indexOf"](u4T);D9T=K9T["lastIndexOf"](u4T);if(D9T!=o9T){f4T=f4T["replace"](u4T," ");}f4T=f4T["replace"](u4T,u4T+' xmlns:xlink="http://www.w3.org/1999/xlink"');f4T='<?xml version="1.0" encoding="UTF-8" standalone="no"?>'+f4T;if(this["printAreaEl"])this["printAreaEl"]["show"]();if(this["maskEl"])this["maskEl"]["show"]();if(this["referenceEl"])this["referenceEl"]["show"]();if(q4T){q4T["remove"]();}if(m9T){m9T["remove"]();}f4T=this["fixHrefs"](f4T);if(!F4T){this["setRuler"](Q9T);this["setZoom"](v9T);if(this["options"]["fontsCSSUrl"]["length"]>"0"-0){y9T=Y8T["Util"]["getAbsoluteURL"](this["options"]["fontsCSSUrl"]);f4T=f4T["replace"]("<defs/>","<defs></defs>");f4T=f4T["replace"]("<defs />","<defs></defs>");r4T=f4T["indexOf"]("<defs");C9T=f4T["indexOf"](">",r4T);if(r4T>=0&&C9T>=+"0"){X9T=f4T["substr"](+"0",r4T)+'<defs><link xmlns="http://www.w3.org/1999/xhtml" href="'+y9T+'" type="text/css" rel="stylesheet"/>'+f4T["substr"](C9T+("1"|0));f4T=X9T;}}}return f4T;};u8T["prototype"]["getSVGState"]=function(){var e9T,j9T,c9T,x9T,Z9T;e9T=this["defs"]["clone"]();j9T=this["getObjList"]();c9T=[];for(var N9T=+"0";N9T<j9T["length"];N9T++){if(j9T[N9T]["textElementLink"]){if(j9T[N9T]["elementLink"]){j9T[N9T]["textElementLink"]["transform"](j9T[N9T]["elementLink"]["transform"]());}x9T=j9T[N9T]["textElementLink"]["attr"]();x9T["type"]=j9T[N9T]["textElementLink"]["type"];x9T["id"]=j9T[N9T]["textElementLink"]["id"];}else{x9T=j9T[N9T]["elementLink"]["attr"]();x9T["type"]=j9T[N9T]["elementLink"]["type"];x9T["id"]=j9T[N9T]["elementLink"]["id"];}c9T["push"](x9T);if(j9T[N9T]["textElementLink"]){x9T=j9T[N9T]["elementLink"]["attr"]();x9T["type"]=j9T[N9T]["elementLink"]["type"];x9T["id"]=j9T[N9T]["elementLink"]["id"];c9T["push"](x9T);}}Z9T=[];if(this["backgroundStyleNode"]&&this["backgroundStyle"]){Z9T=this["backgroundStyle"]["toColorizeArray"]();}return{'\x63\x6f\x6c\x41\x72\x72':Z9T,'\x65\x6c\x73':c9T,'\x64\x65\x66\x73':e9T};};u8T["prototype"]["setSVG"]=function(W9T,r9T){var u9T,f9T,J9T,b9T,L9T,l9T,q9T,n9T,Y9T,s9T,E9T,S9T,p9T,U9T,w9T,h9T,F9T;if(r9T===void+"0"){r9T=!"";}this["stopRedraw"]();this["loadedSVGBackgroundStyle"]=null;u9T=[];f9T="";if(r9T){this["clear"]();this["defs"]["empty"]();}try{J9T=jQuery(jQuery["parseXML"](W9T));}catch(m5T){}b9T=jQuery("<div>");L9T=J9T["children"]()["eq"]("0"|0);b9T["append"](L9T);if(L9T["find"]("defs")["length"]>("0"|0)){L9T["find"]("defs")["eq"]("0"-0)["children"]()["each"](function(A5T,G5T){var O5T;O5T=jQuery(G5T);if(O5T["is"]("link")){O5T["remove"]();}if(O5T["attr"]("la-cut-mask")){O5T["remove"]();}});}l9T=L9T["find"]("defs")["children"]();if(l9T){l9T["detach"]();}q9T=b9T["html"]();q9T=this["fixHrefs"](q9T);n9T=rappar(q9T);Y9T=[];for(var a9T=+"0";a9T<n9T["length"];a9T++){if(n9T[a9T]["laservice"]){if(n9T[a9T]["src"]){u9T["push"](n9T[a9T]["src"]);if(n9T[a9T]["id"]=="productImage"){f9T=n9T[a9T]["src"];}}}else{Y9T["push"](n9T[a9T]);}}s9T=this["canvas"]["add"](Y9T);E9T={};for(var a9T=+"0";a9T<s9T["length"];a9T++){S9T=s9T[a9T]["attr"]("textSourceId");if(S9T){p9T=s9T[a9T];E9T[S9T]=p9T;p9T["id"]=p9T["node"]["id"]=Y9T[a9T]["id"];}}for(var a9T=0;a9T<s9T["length"];a9T++){S9T=s9T[a9T]["attr"]("textSourceId");if(!S9T){if(s9T[a9T]["type"]=="text"){U9T=ObjectType["Text"];w9T=s9T[a9T]["attr"]("text");}else if(s9T[a9T]["type"]=="use"){U9T=ObjectType["SVG"];w9T=s9T[a9T]["attr"]("src");}else{U9T=ObjectType["Image"];w9T=s9T[a9T]["attr"]("src");}h9T=new Y8T["VO"]["Obj"](U9T,"dumb");if(U9T!="text")h9T["isUploaded"]=s9T[a9T]["attr"]("isUploaded")?!!1:!1;h9T["initScale"]=Math["abs"](s9T[a9T]["matrix"]["split"]()["scalex"]);h9T["loadedFromDesign"]=!!"1";F9T=E9T[Y9T[a9T]["id"]];if(F9T){h9T["loadedTextEffectElement"]=F9T;}this["onElementAdded"](h9T,s9T[a9T],![]);}}this["defs"]=this["svgHolder"]["find"]("defs");if(l9T){this["defs"]["append"](l9T);}if(f9T["length"]>"0"*1){try{this["extractLoadedBackgroundStyle"](this["defs"]["find"](f9T));this["processBackgroundStyle"]();}catch(C5T){}}this["removeDefs"](u9T);if(this["maskDefsRoot"]){this["defs"]["append"](this["maskDefsRoot"]);}this["setupPrintArea"]();this["setupClipRect"]();this["deSelect"]();this["canvas"]["renderfix"]();this["forceRedraw"]();};u8T["prototype"]["setSVGState"]=function(T5T){var R5T,M5T,D5T,Q5T,K5T,t5T,I5T,g5T,y5T,o5T,v5T,V5T,X5T,k5T;this["stopRedraw"]();R5T=T5T["defs"];R5T=R5T["clone"]();M5T=T5T["els"];this["loadedSVGBackgroundStyle"]=null;D5T=[];Q5T="";this["clear"](!![]);this["defs"]["empty"]();K5T=M5T;t5T=[];for(var z5T=0;z5T<K5T["length"];z5T++){if(K5T[z5T]["laservice"]){if(K5T[z5T]["src"]){D5T["push"](K5T[z5T]["src"]);if(K5T[z5T]["id"]=="productImage"){Q5T=K5T[z5T]["src"];}}}else{t5T["push"](K5T[z5T]);}}I5T=this["canvas"]["add"](t5T);g5T={};for(var z5T="0"|0;z5T<I5T["length"];z5T++){y5T=I5T[z5T]["attr"]("textSourceId");if(y5T){o5T=I5T[z5T];g5T[y5T]=o5T;o5T["id"]=o5T["node"]["id"]=t5T[z5T]["id"];}}for(var z5T=+"0";z5T<I5T["length"];z5T++){y5T=I5T[z5T]["attr"]("textSourceId");if(!y5T){if(I5T[z5T]["type"]=="text"){v5T=ObjectType["Text"];V5T=I5T[z5T]["attr"]("text");}else if(I5T[z5T]["type"]=="use"){v5T=ObjectType["SVG"];V5T=I5T[z5T]["attr"]("src");}else{v5T=ObjectType["Image"];V5T=I5T[z5T]["attr"]("src");}X5T=new Y8T["VO"]["Obj"](v5T,"dumb");if(v5T!="text")X5T["isUploaded"]=I5T[z5T]["attr"]("isUploaded")?!"":!"1";X5T["initScale"]=Math["abs"](I5T[z5T]["matrix"]["split"]()["scalex"]);X5T["loadedFromDesign"]=!!"1";Y8T["VO"]["Obj"]["restoreElAttrs"](I5T[z5T],t5T[z5T]);k5T=g5T[t5T[z5T]["id"]];if(k5T){X5T["loadedTextEffectElement"]=k5T;}if(t5T[z5T]["id"]){this["onElementAdded"](X5T,I5T[z5T],!1,t5T[z5T]["id"]);}else{this["onElementAdded"](X5T,I5T[z5T],!!"");}}}this["defs"]=this["svgHolder"]["find"]("defs");if(R5T){this["defs"]["append"](R5T["children"]());}if(Q5T["length"]>0){try{this["extractLoadedBackgroundStyle"](this["defs"]["find"](Q5T));}catch(B5T){}}this["removeDefs"](D5T);this["setupPrintArea"]();this["setMask"]("",!"");this["deSelect"]();if(T5T["colArr"]&&T5T["colArr"]["length"]){if(this["loadingSVGBackground"]){this["loadedSVGBackgroundStyle"]=new Y8T["VO"]["StyleVO"]("");this["loadedSVGBackgroundStyle"]["fromColorizeArray"](T5T["colArr"]);}else{this["colorizeBackground"](T5T["colArr"]);this["processBackgroundStyle"]();}}this["canvas"]["renderfix"]();this["updateViewBox"]();this["forceRedraw"]();};u8T["prototype"]["clear"]=function(P5T){if(P5T===void("0"-0)){P5T=!!"";}this["deSelect"]();this["tracker"]["clear"]();this["defs"]["html"]("");this["canvas"]["clear"]();this["captureDefs"]();this["elements"]=new Array();this["selectedEl"]=new Array();this["lastSelected"]=new Array();if(this["printAreaEl"])this["printAreaEl"]["remove"]();this["printAreaEl"]=null;this["maskEl"]=null;this["referenceEl"]=null;this["setMask"]("",!!"1");this["setupPrintArea"]();this["setupReference"]();if(!P5T){this["setZoom"](+"100");}if(!P5T){this["dispatchEvent"](new Y8T["Events"]["DesignerChangedEvent"](this["selected"]()));}};u8T["prototype"]["selected"]=function(){var H5T;if(this["selectedEl"]["length"]>"0"-0){H5T=this["selectedEl"][+"0"];if(H5T==null||H5T["node"]==null)return;return H5T["node"]["objectLink"];}else{return null;}};u8T["prototype"]["onMouseDown"]=function(d5T){var c5T,N5T,j5T,i5T,x5T,Z5T,e5T,a5T,n5T,s5T;jQuery(document)["bind"]("mousemove",this["mouseOutCheck"]);c5T=Y8T["Util"]["getEventXY"](d5T,this["holder"],this["canvas"]["canvas"]);N5T=this["tmpX"]=this["hitX"]=c5T["x"];j5T=this["tmpY"]=this["hitY"]=c5T["y"];if(this["onMouseDownDebug"]["debugEl"]){this["onMouseDownDebug"]["debugEl"]["remove"]();}if(this["onMouseDownDebug"]["debug"]){this["onMouseDownDebug"]["debugEl"]=this["canvas"]["circle"](N5T,j5T,"5"*1)["attr"]("fill","red");}this["hitViewPort"]["x"]=this["viewPort"]["x"];this["hitViewPort"]["y"]=this["viewPort"]["y"];this["hitViewPort"]["zoom"]=this["viewPort"]["zoom"];this["resizeXY"]=[N5T,j5T];if(this["isSelecting"]()){this["stopSelection"]();}else{i5T=null;if(this["drag"]){this["action"]=f8T["Drag"];}else{if(d5T["target"]["elementLink"]){i5T=d5T["target"]["elementLink"];}else if(d5T["target"]["parentNode"]&&d5T["target"]["parentNode"]["elementLink"]){i5T=d5T["target"]["parentNode"]["elementLink"];}if(!i5T&&!d5T["target"]["isTracker"]){x5T=this["elements"]["length"]-+"1";while(!i5T&&x5T>=0){Z5T=this["elements"][x5T];if(Y8T["Util"]["isClicked"](N5T,j5T,Z5T))i5T=Z5T;x5T--;}}if(i5T){if(!this["isSelected"](i5T)){this["select"](i5T);if(this["selected"]()["isConstraintsShown"]())this["selected"]()["setShowConstraints"](this["selected"]()["isConstraintsShown"]());}else{if(i5T["node"]==null)return;e5T=i5T["node"]["objectLink"];if(e5T&&e5T["canMove"]()){this["action"]=f8T["Move"];}else if(this["options"]["zoomEnabled"]){this["action"]=f8T["Drag"];}}}else if(!d5T["target"]["isTracker"]){this["deSelect"]();if(this["options"]["zoomEnabled"])this["action"]=f8T["Drag"];return;}else{return;}}}if(this["selected"]()){a5T=this["selected"]()["getBBox"]();n5T=N5T-a5T["x"];s5T=j5T-a5T["y"];this["snapLinesManager"]["setDeltaHit"](n5T,s5T);}if(!d5T["touches"]||this["action"]!==f8T["Drag"]){d5T["preventDefault"]();}return!!"";};u8T["prototype"]["onMouseMove"]=function(h5T){var L5T,S5T,U5T,l5T,Y5T;if(!h5T["touches"]||this["action"]!==f8T["Drag"]){h5T["preventDefault"]();}L5T=Y8T["Util"]["getEventXY"](h5T,this["holder"],this["canvas"]["canvas"]);S5T=L5T["x"];U5T=L5T["y"];if(this["selectionBox"]){Y8T["Util"]["resize"](this["selectionBox"],S5T-this["hitX"],U5T-this["hitY"],this["hitX"],this["hitY"]);}else{if(this["action"]==f8T["Drag"]){l5T=Y8T["Util"]["getEventXY"](h5T,this["holder"],this["canvas"]["canvas"]);Y5T=[this["viewPort"]["x"],this["viewPort"]["y"]];this["processDragObject"](l5T["x"],l5T["y"]);if(h5T["touches"]&&Y5T[0]===this["viewPort"]["x"]&&Y5T["1"|0]===this["viewPort"]["y"])return;}else if(this["action"]==f8T["Move"]){this["processMoveObject"](S5T,U5T);}else if(this["action"]==f8T["Rotate"]){this["processRotateObject"](S5T,U5T);}else{this["processResizeObject"](S5T,U5T);}}return!!0;};u8T["prototype"]["processDragObject"]=function(p5T,u5T){var f5T,q5T;f5T=this["tmpX"]-p5T;q5T=this["tmpY"]-u5T;this["viewPort"]["x"]+=f5T;this["viewPort"]["y"]+=q5T;this["updateViewBox"]();};u8T["prototype"]["processMoveObject"]=function(E5T,r5T){var w5T,b5T;w5T={'\x6d\x6f\x76\x65':!"1",'\x64\x78':"0"-0,'\x64\x79':"0"-0};this["snapLinesManager"]["clearSnaps"]();for(var F5T="0"-0;F5T<this["selectedEl"]["length"];F5T++){b5T=this["selectedEl"][F5T]["node"]["objectLink"];if(this["printAreaCoord"]&&this["printAreaCoord"]["length"]==+"4"){Y8T["Util"]["move"](this["selectedEl"][F5T],E5T-this["tmpX"],r5T-this["tmpY"]);this["snapLinesManager"]["onObjectMoved"](E5T,r5T,b5T);}else{w5T=this["snapLinesManager"]["snapToObject"](E5T,r5T,b5T);if(w5T["move"]){Y8T["Util"]["move"](this["selectedEl"][F5T],w5T["dx"],w5T["dy"]);}else{Y8T["Util"]["move"](this["selectedEl"][F5T],E5T-this["tmpX"],r5T-this["tmpY"]);}}}this["tracker"]["track"]();this["tmpX"]=E5T;this["tmpY"]=r5T;};u8T["prototype"]["processRotateObject"]=function(v2T,R2T){var J5T,W5T,A2T,C2T,O2T,m2T,z2T,I2T,t2T,K2T,X2T,T2T,y2T,G2T;J5T=Y8T["Util"]["getBBox"](this["selectedEl"][0],!"");W5T=this["selectedEl"][+"0"]["matrix"];A2T=W5T["x"](J5T["x"]+J5T["width"]/("2"-0),J5T["y"]+J5T["height"]/+"2");C2T=W5T["y"](J5T["x"]+J5T["width"]/2,J5T["y"]+J5T["height"]/2);O2T=W5T["x"](J5T["x"],J5T["y"]+J5T["height"]/2);m2T=W5T["y"](J5T["x"],J5T["y"]+J5T["height"]/("2"-0));z2T=W5T["x"](J5T["x"],J5T["y"]+J5T["height"]);I2T=W5T["y"](J5T["x"],J5T["y"]+J5T["height"]);t2T=Math["sqrt"]((O2T-z2T)*(O2T-z2T)+(m2T-I2T)*(m2T-I2T));K2T=Math["sqrt"]((O2T-A2T)*(O2T-A2T)+(m2T-C2T)*(m2T-C2T));X2T=Math["atan2"](t2T,K2T);T2T=90+X2T*(+"180"/Math["PI"]);y2T=Math["atan2"](R2T-C2T,v2T-A2T);G2T=((y2T*(+"180"/Math["PI"])+("90"|0))%360+"360"*1+T2T)%+"360";G2T=this["snapLinesManager"]["snapRotate"](G2T);Y8T["Util"]["rotateAbsolute"](this["selectedEl"][+"0"],G2T);this["tracker"]["track"]();};u8T["prototype"]["processResizeObject"]=function(Q2T,o2T){if(this["action"]==f8T["Resize"]){Y8T["Util"]["resizeElement"](this["selectedEl"]["0"-0],this["resizeXY"],[Q2T,o2T]);this["tracker"]["track"](this["selectedEl"]["0"*1]);this["resizeXY"]=[Q2T,o2T];}else if(this["action"]==f8T["ResizeH"]){Y8T["Util"]["resizeElement"](this["selectedEl"][+"0"],this["resizeXY"],[Q2T,o2T],q8T["Horizontal"]);this["tracker"]["track"](this["selectedEl"][+"0"]);this["resizeXY"]=[Q2T,o2T];}else if(this["action"]==f8T["ResizeV"]){Y8T["Util"]["resizeElement"](this["selectedEl"][+"0"],this["resizeXY"],[Q2T,o2T],q8T["Vertical"]);this["tracker"]["track"](this["selectedEl"]["0"*1]);this["resizeXY"]=[Q2T,o2T];}};u8T["prototype"]["onMouseUp"]=function(k2T){var H2T,i2T,g2T,D2T,V2T,M2T,B2T,P2T;H2T=jQuery(".noUiSlider .noUi-origin div")["hasClass"]("noUi-active");if(H2T){return!"";}this["snapLinesManager"]["setDeltaHit"](undefined,undefined);if(!k2T["touches"]||this["action"]!==f8T["Drag"]){k2T["preventDefault"]();}jQuery(document)["unbind"]("mousemove",this["mouseOutCheck"]);if(this["isSelecting"]()){i2T=Y8T["Util"]["getBBox"](this["selectionBox"]);g2T=[];if(g2T["length"]=="0"-0){this["deSelect"]();}if(g2T["length"]>"0"-0){this["select"](g2T[+"0"]);}if(this["selectionBox"]["node"]&&this["selectionBox"]["node"]["parentNode"]){this["selectionBox"]["remove"]();}this["selectionBox"]=null;}else{if(this["action"]==f8T["Move"]){this["dispatchEvent"](new Y8T["Events"]["DesignerChangedEvent"](this["selected"]()));if(this["selected"]()){D2T=this["selected"]();if(D2T["checkConstraints"]())this["tracker"]["track"](D2T["elementLink"]);if(D2T["isConstraintsShown"]()){this["hideConstraints"](D2T);this["showConstraints"](D2T);this["select"](D2T["elementLink"],!"");}}}else if(this["action"]==f8T["Resize"]||this["action"]==f8T["ResizeH"]||this["action"]==f8T["ResizeV"]||this["action"]==f8T["Rotate"]){if(this["selected"]()){D2T=this["selected"]();if(D2T["checkConstraints"]())this["tracker"]["track"](D2T["elementLink"]);if(D2T["isConstraintsShown"]()){this["hideConstraints"](D2T);this["showConstraints"](D2T);this["select"](D2T["elementLink"],!!1);}}V2T=new Y8T["Events"]["DesignerChangedEvent"](this["selected"]());V2T["objectSizeChanged"]=!!{};this["dispatchEvent"](V2T);}this["action"]="";}M2T=!{};if(new Date()["getTime"]()-this["lastClick"]<this["doubleClickDelay"]&&!this["blockDoubleClick"])M2T=!!"1";B2T=!!0;if(new Date()["getTime"]()-this["lastClick"]<this["doubleClickDelay"]&&!this["blockDoubleClick"])B2T=!!"1";if(!this["blockDoubleClick"])this["lastClick"]=new Date()["getTime"]();if(B2T){P2T="";if(k2T["target"]&&k2T["target"]["id"]){P2T=k2T["target"]["id"];}if(P2T["substr"](+"0",+"10")!="la-tracker")this["dblclick"]();}if(M2T&&this["options"]["deleteOnDoubleClick"])this["askRemove"]();this["snapLinesManager"]["clearSnaps"]();return!{};};u8T["prototype"]["onMouseOutCheck"]=function(d2T){var N2T,j2T,x2T;if(mobilesafari)return;N2T=jQuery(this["holder"])["offset"]();j2T=d2T["pageX"]-N2T["left"];x2T=d2T["pageY"]-N2T["top"];if(j2T<"0"-0||x2T<+"0"||j2T>this["width"]||x2T>this["height"]){this["onMouseUp"](d2T);}};u8T["prototype"]["onTouchStart"]=function(c2T){var Z2T;this["speedRender"]();Z2T=Y8T["Util"]["Touch"]["processEvent"](c2T,this["holder"],this["viewPort"]);if(Z2T["length"]>+"1"){if(this["selectedEl"]["length"]!=="0"*1){c2T["preventDefault"]();this["transform"](Z2T);}}else{this["onMouseDown"](c2T);}return!!0;};u8T["prototype"]["onTouchMove"]=function(e2T){var a2T,s2T;this["speedRender"]();a2T=Y8T["Util"]["Touch"]["processEvent"](e2T,this["holder"],this["viewPort"]);if(a2T["length"]>("1"|0)){if((this["selectedEl"]["length"]===+"0"||this["drag"])&&this["options"]["zoomEnabled"]){s2T=[this["viewPort"]["x"],this["viewPort"]["y"]];this["touchDrag"](e2T);if(s2T[+"0"]===this["viewPort"]["x"]&&s2T[+"1"]===this["viewPort"]["y"])return;}else{this["transform"](a2T);}e2T["preventDefault"]();}else{this["onMouseMove"](e2T);}};u8T["prototype"]["onTouchEnd"]=function(n2T){var h2T;h2T=Y8T["Util"]["Touch"]["processEvent"](n2T,this["holder"],this["viewPort"]);this["blockDoubleClick"]=this["transforming"]||h2T["length"]>+"0";this["stopTransform"]();this["dragging"]=!!"";this["onMouseUp"](n2T);return!{};};u8T["prototype"]["transform"]=function(S2T){var U2T;if(this["selectedEl"]["length"]==+"0")return;U2T=this["selectedEl"][+"0"];if(!this["transforming"]){this["transforming"]=!![];}else{if(Y8T["Util"]["touchTransform"](U2T,this["rememberedTouches"],S2T)){this["tracker"]["track"]();}else{this["stopTransform"]();}}this["rememberedTouches"]=S2T;};u8T["prototype"]["stopTransform"]=function(){this["transforming"]=!!"";this["dispatchEvent"](new Y8T["Events"]["DesignerChangedEvent"](this["selected"]()));};u8T["prototype"]["touchDrag"]=function(l2T){var L2T;if(!this["dragging"]){this["rememberedTouches"]=Y8T["Util"]["Touch"]["processEvent"](l2T,this["holder"],this["viewPort"]);this["hitViewPort"]["x"]=this["viewPort"]["x"];this["hitViewPort"]["y"]=this["viewPort"]["y"];this["dragging"]=!0;}else{L2T=Y8T["Util"]["Touch"]["processEvent"](l2T,this["holder"],this["hitViewPort"]);Y8T["Util"]["touchDrag"](this["viewPort"],this["rememberedTouches"],L2T,this["canvas"]["width"],this["canvas"]["height"]);this["updateViewBox"]();this["rememberedTouches"]=L2T;}};u8T["prototype"]["startSelection"]=function(Y2T,f2T){this["selectionBox"]=this["canvas"]["rect"](Y2T,f2T,+"0",+"0")["attr"]({'\x73\x74\x72\x6f\x6b\x65\x2d\x6f\x70\x61\x63\x69\x74\x79':+"0.0",'\x73\x74\x72\x6f\x6b\x65':"#007fff",'\x66\x69\x6c\x6c\x2d\x6f\x70\x61\x63\x69\x74\x79':"0.0"-0,'\x66\x69\x6c\x6c':"#007fff",'\x76\x69\x73\x69\x62\x69\x6c\x69\x74\x79':"hidden"});};u8T["prototype"]["stopSelection"]=function(){this["selectionBox"]["remove"]();this["selectionBox"]=null;};u8T["prototype"]["isSelecting"]=function(){return this["selectionBox"]!=null;};u8T["prototype"]["select"]=function(q2T,p2T){var u2T;if(p2T===void+"0"){p2T=!0;}if(!q2T)return;u2T=this["selected"]();if(u2T&&u2T["elementLink"]!==q2T){this["deSelect"]();}else{this["tracker"]["clear"]();}this["selectedEl"]=[q2T];this["tracker"]["track"](q2T);this["lastSelectedObj"]=q2T["node"]["objectLink"];if(p2T){this["dispatchEvent"](new Y8T["Events"]["ObjectSelectedEvent"](q2T["node"]["objectLink"]));}};u8T["prototype"]["setFitProductImage"]=function(F2T){this["fitProductImage"]=F2T;};u8T["prototype"]["setFitEditableArea"]=function(E2T){this["fitPrintArea"]=E2T;};u8T["prototype"]["deSelect"]=function(r2T){if(!r2T){this["lastSelected"]=[];while(this["selectedEl"]["0"|0]){this["lastSelected"]["push"](this["selectedEl"][0]);this["deSelect"](this["selectedEl"]["0"|0]);}this["tracker"]["clear"]();}else{Y8T["Util"]["arrayRemove"](r2T,this["selectedEl"]);this["tracker"]["stopTrack"](r2T);}if(this["lastSelectedObj"]!=null){this["lastSelectedObj"]=null;this["dispatchEvent"](new Y8T["Events"]["ObjectSelectedEvent"](null));}};u8T["prototype"]["dblclick"]=function(){var w2T;w2T=this["selected"]();this["dispatchEvent"](new Y8T["Events"]["ObjectDClickedEvent"](this["selected"]()));};u8T["prototype"]["askRemove"]=function(){var b2T,J2T;if(this["selectedEl"]["length"]==+"0")return;b2T=this["selectedEl"][+"0"]["node"]["objectLink"];if(!b2T||!b2T["canDelete"]())return;if(confirm("Delete the item?")){J2T=this["selectedEl"]["0"|0];this["remove"](J2T["node"]["objectLink"]);}};u8T["prototype"]["remove"]=function(W2T){var m0y;if(W2T==null){if(this["selectedEl"]["length"]==("0"|0)){return null;}else{m0y=this["selectedEl"]["0"|0];W2T=m0y["node"]["objectLink"];}}else{m0y=W2T["elementLink"];if(m0y==null)return W2T;}this["removeObjDefs"](m0y["node"]["objectLink"]);m0y["remove"]();Y8T["Util"]["arrayRemove"](m0y,this["elements"]);if(W2T&&W2T["textElementLink"]){W2T["textElementLink"]["remove"]();}this["deSelect"]();this["dispatchEvent"](new Y8T["Events"]["DesignerChangedEvent"](W2T));return W2T;};u8T["prototype"]["align"]=function(I0y,A0y){var G0y,O0y,z0y,C0y;if(A0y==null){if(this["selectedEl"]["length"]==("0"|0))return null;else G0y=this["selectedEl"][0];}else{G0y=A0y["elementLink"];if(G0y==null)return A0y;}if(!A0y["canMove"]())return;O0y=Y8T["Util"]["getBBox"](G0y);if(A0y["isConstrained"]()){C0y=A0y["attr"]()["constraints"];z0y=[C0y["0"-0],C0y["1"|0],C0y["0"-0]+C0y[+"2"],C0y[+"1"]+C0y[+"3"]];}else{z0y=this["printAreaCoord"];}switch(I0y){case AlignSide["Top"]:Y8T["Util"]["move"](G0y,+"0",this["printAreaCoord"][+"1"]-O0y["y"]);break;case AlignSide["Bottom"]:Y8T["Util"]["move"](G0y,"0"-0,this["printAreaCoord"][+"3"]-O0y["y2"]);break;case AlignSide["Left"]:Y8T["Util"]["move"](G0y,this["printAreaCoord"]["0"-0]-O0y["x"],+"0");break;case AlignSide["Right"]:Y8T["Util"]["move"](G0y,this["printAreaCoord"]["2"-0]-O0y["x2"],"0"*1);break;case AlignSide["VCenter"]:Y8T["Util"]["move"](G0y,+"0",(this["printAreaCoord"][1]+this["printAreaCoord"][3]-(O0y["y2"]-O0y["y"]))/+"2"-O0y["y"]);break;case AlignSide["HCenter"]:Y8T["Util"]["move"](G0y,(this["printAreaCoord"]["0"*1]+this["printAreaCoord"][2]-(O0y["x2"]-O0y["x"]))/("2"|0)-O0y["x"],+"0");break;}if(this["selectedEl"]["length"]>("0"|0))this["tracker"]["track"](this["selectedEl"][0]);return A0y;};u8T["prototype"]["isSelected"]=function(t0y){return Y8T["Util"]["arrayIndexOf"](t0y,this["selectedEl"])!=-("1"|0);};u8T["prototype"]["printingArea"]=function(K0y){this["printAreaCoordOrig"]=K0y;this["setupPrintArea"]();};u8T["prototype"]["productScale"]=function(X0y){if(!X0y)return;this["updateProductSize"]();this["updateElementsSize"](X0y);};u8T["prototype"]["defaultPrintingArea"]=function(){this["printAreaCoordOrig"]=[+"0",+"0",this["width"],this["height"]];this["setupPrintArea"]();};u8T["prototype"]["printingAreaVisible"]=function(y0y,T0y){if(T0y===void+"0"){T0y=![];}this["printAreaVisible"]=y0y;if(T0y)this["setupPrintArea"]();};u8T["prototype"]["printingAreaUnits"]=function(R0y){this["printAreaUnits"]=R0y;};u8T["prototype"]["rulerPrintingAreaUnits"]=function(v0y){this["rulerPrintAreaUnits"]=v0y;};u8T["prototype"]["getProductImageCoord"]=function(Q0y){var o0y,D0y,k0y,g0y,V0y;o0y=Q0y;if(this["productEl"]&&Q0y&&Q0y["length"]>=+"4"){D0y=this["productEl"]["matrix"]["x"](Q0y[+"0"],Q0y[1]);k0y=this["productEl"]["matrix"]["y"](Q0y[0],Q0y[+"1"]);g0y=this["productEl"]["matrix"]["x"](Q0y["2"*1],Q0y["3"|0]);V0y=this["productEl"]["matrix"]["y"](Q0y["2"-0],Q0y["3"-0]);o0y=[D0y,k0y,g0y,V0y];}return o0y;};u8T["prototype"]["setupPrintArea"]=function(){if(this["printAreaEl"]){this["printAreaEl"]["remove"]();this["printAreaEl"]=null;}this["printAreaCoord"]=this["printAreaCoordOrig"];if(this["fitPrintArea"]){this["printAreaCoord"]=this["getProductImageCoord"](this["printAreaCoordOrig"]);}if(!this["printAreaVisible"])return;this["printAreaEl"]=this["canvas"]["rect"](this["printAreaCoord"]["0"|0],this["printAreaCoord"]["1"*1],this["printAreaCoord"][+"2"]-this["printAreaCoord"][0],this["printAreaCoord"][+"3"]-this["printAreaCoord"][+"1"]);this["printAreaEl"]["id"]=this["printAreaEl"]["node"]["id"]="printingArea";this["printAreaEl"]["attr"]("stroke","grey");this["printAreaEl"]["attr"]("laservice",!0);this["fixPrintAreaLayer"]();};u8T["prototype"]["setClipRect"]=function(M0y){this["clipRectCoordOrig"]=M0y;this["setupClipRect"]();};u8T["prototype"]["setupClipRect"]=function(){var P0y;this["clipRectCoord"]=this["clipRectCoordOrig"];if(this["fitPrintArea"])this["clipRectCoord"]=this["getProductImageCoord"](this["clipRectCoordOrig"]);for(var B0y="0"*1;B0y<this["elements"]["length"];B0y++){P0y=this["elements"][B0y];this["setObjectClipPath"](P0y);}};u8T["prototype"]["setObjectClipPath"]=function(d0y){var H0y,N0y,i0y,j0y;H0y=d0y["node"]["objectLink"];if(this["clipRectCoord"]&&this["clipRectCoord"]["length"]=="4"*1){N0y=[this["clipRectCoord"]["0"|0],this["clipRectCoord"][+"1"],this["clipRectCoord"][+"2"]-this["clipRectCoord"][0],this["clipRectCoord"]["3"|0]-this["clipRectCoord"][+"1"]];d0y["attr"]("clip-rect",N0y["join"](" "));if(H0y&&H0y["textElementLink"])H0y["textElementLink"]["attr"]("clip-rect",N0y["join"](" "));}else{i0y=+"5000";j0y=-i0y+" "+-i0y+" "+(this["width"]+i0y*+"2")+" "+(this["height"]+i0y*2);d0y["attr"]("clip-rect",j0y);if(H0y&&H0y["textElementLink"])H0y["textElementLink"]["attr"]("clip-rect",j0y);}};u8T["prototype"]["updateProductSize"]=function(Z0y,e0y){var a0y,s0y,n0y,x0y,c0y,h0y,S0y;if(Z0y===void("0"-0)){Z0y="0"|0;}if(e0y===void("0"-0)){e0y="0"|0;}if(this["loadingBackground"]()){this["scaleLoadedBackground"]=!0;}else{if(this["backgroundCanvas"]){if(this["scaleLoadedBackground"]&&this["productDefsRoot"]){a0y=Y8T["Utils"]["ImageUtils"]["parseSVGDimensions"](this["productDefsRoot"]);s0y=a0y["width"];n0y=a0y["height"];x0y=this["width"]/s0y;c0y=this["height"]/n0y;this["productDefsRoot"]["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"scale("+x0y+","+c0y+")"});if(this["maskDefsRoot"]){this["maskDefsRoot"]["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"scale("+x0y+","+c0y+")"});}}else if(this["scaleLoadedBackground"]&&this["productEl"]&&Z0y!=("0"|0)&&Z0y!=+"0"){h0y=Z0y;S0y=e0y;x0y=this["width"]/h0y;c0y=this["height"]/S0y;this["productElTransform"]="scale("+x0y+","+c0y+")";}x0y=(this["printAreaCoord"][2]-this["printAreaCoord"]["0"|0])/this["width"];c0y=(this["printAreaCoord"][+"3"]-this["printAreaCoord"][1])/this["height"];this["backgroundCanvas"]["forEach"](function(U0y){U0y["attr"]({'\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d':"s"+x0y+","+c0y});return!!"1";},this);if(this["productEl"]){if(this["maskEl"]){this["maskEl"]["transform"](this["productEl"]["transform"]());}}}}};u8T["prototype"]["updateElementsSize"]=function(L0y){if(this["canvas"]&&L0y&&L0y!="1"-0){this["deSelect"]();this["canvas"]["forEach"](function(l0y){if(l0y["type"]=='text'){Y8T["Util"]["scaleElementRough"](l0y,L0y);}return!!1;},this);}};u8T["prototype"]["setupReference"]=function(){if(this["referenceEl"]){this["referenceEl"]["remove"]();this["referenceEl"]=null;}if(this["options"]["referenceImage"]=="")return;this["referenceEl"]=this["canvas"]["image"](this["options"]["referenceImage"],+"0",this["canvas"]["height"]-this["options"]["referenceShift"],this["options"]["referenceWidth"],this["options"]["referenceHeight"]);this["referenceEl"]["id"]=this["referenceEl"]["node"]["id"]="referenceImage";this["referenceEl"]["attr"]("laservice",!!{});this["fixPrintAreaLayer"]();};u8T["prototype"]["fixPrintAreaLayer"]=function(){this["maskEl"]=Y8T["Util"]["toFront"](this["maskEl"]);if(this["printAreaEl"]){this["printAreaEl"]=Y8T["Util"]["toFront"](this["printAreaEl"]);}if(this["referenceEl"])this["referenceEl"]["toBack"]();};u8T["prototype"]["trackerAction"]=function(Y0y){if(Y0y==f8T["Delete"]){this["remove"]();}else if(Y0y==f8T["Lock"]){this["lockElement"](!!1);}else if(Y0y==f8T["Unlock"]){this["lockElement"](![]);}else{this["action"]=Y0y;}};u8T["prototype"]["lockElement"]=function(f0y){if(f0y===void("0"|0)){f0y=!![];}this["selected"]()["attr"]({'\x75\x73\x65\x72\x46\x69\x78\x65\x64':f0y});this["tracker"]["track"](this["selected"]()["elementLink"],!0);};u8T["prototype"]["getElementPosition"]=function(q0y){if(!q0y)return-("1"-0);return Y8T["Util"]["arrayIndexOf"](q0y,this["elements"]);};u8T["prototype"]["setElementPosition"]=function(p0y,u0y){var F0y,E0y;if(!p0y||Y8T["Util"]["arrayIndexOf"](p0y,this["elements"])===-("1"|0)||u0y===-1||this["elements"][u0y]===p0y)return;F0y=Y8T["Util"]["arrayIndexOf"](p0y,this["elements"]);this["elements"]["splice"](F0y,+"1");if(u0y===+"0"){p0y["toBack"]();this["elements"]["unshift"](p0y);}else{E0y=u0y>=F0y?u0y-+"1":u0y;this["elements"]["splice"](E0y,"0"|0,p0y);p0y["insertAfter"](this["elements"][E0y-1]);}};u8T["prototype"]["layerChange"]=function(w0y,b0y){var r0y;r0y=Y8T["Util"]["arrayIndexOf"](w0y,this["elements"]);if(r0y==-+"1")return;this["elements"]["splice"](r0y,+"1");switch(b0y){case"toBack":r0y="0"*1;break;case"toFront":r0y=this["elements"]["length"];break;case"up":r0y++;if(r0y>this["elements"]["length"])r0y=this["elements"]["length"];break;case"down":r0y--;if(r0y<+"0")r0y="0"|0;break;}this["elements"]["splice"](r0y,+"0",w0y);};u8T["prototype"]["checkObjectType"]=function(J0y){if(J0y["type"]==ObjectType["Image"]){if(this["isPathSVG"](J0y["value"])){J0y["type"]=ObjectType["SVG"];}}};u8T["prototype"]["isPathSVG"]=function(m8y){var W0y;W0y=m8y["split"](".");if(W0y["length"]>+"0"&&W0y[W0y["length"]-1]["toLowerCase"]()=="svg")return!![];else return![];};u8T["prototype"]["fitImageCoords"]=function(T8y,y8y,X8y,I8y){var t8y,O8y,G8y,A8y,C8y,z8y,K8y;if(X8y===void+"0"){X8y=!!"1";}if(I8y===void("0"|0)){I8y=!!0;}t8y=0;O8y=T8y;G8y=y8y;A8y=this["printAreaCoord"][+"2"]-this["printAreaCoord"]["0"-0];C8y=this["printAreaCoord"]["3"-0]-this["printAreaCoord"]["1"-0];if(!O8y||isNaN(O8y))O8y=A8y;if(!G8y||isNaN(G8y))G8y=C8y;if(!I8y&&O8y>A8y){G8y=G8y*A8y/O8y;O8y=A8y;}if(!I8y&&G8y>C8y){O8y=O8y*C8y/G8y;G8y=C8y;}if(this["options"]["minDPU"]>+"0"&&this["dpu"]>0&&X8y){z8y=this["dpu"]/this["options"]["minDPU"];K8y=T8y*z8y;if(K8y>O8y){t8y=K8y/O8y;}else{O8y=T8y*z8y;G8y=y8y*z8y;t8y=+"1";}}return[(A8y-O8y)/2+this["printAreaCoord"][+"0"],(C8y-G8y)/("2"-0)+this["printAreaCoord"][+"1"],O8y,G8y,t8y];};u8T["prototype"]["fitSVGCoords"]=function(R8y,v8y,g8y,V8y,D8y){var Q8y,o8y,k8y;if(D8y===void+"0"){D8y=!{};}Q8y=this["printAreaCoord"][+"2"]-this["printAreaCoord"][0];o8y=this["printAreaCoord"][+"3"]-this["printAreaCoord"][1];if(!R8y||isNaN(R8y))R8y=g8y?g8y:Q8y;if(!v8y||isNaN(v8y))v8y=V8y?V8y:o8y;k8y="1"-0;if(!D8y&&R8y>Q8y){k8y*=Q8y/R8y;v8y=v8y*Q8y/R8y;R8y=Q8y;}if(!D8y&&v8y>o8y){k8y*=o8y/v8y;R8y=R8y*o8y/v8y;v8y=o8y;}return[(Q8y-R8y)/("2"|0)+this["printAreaCoord"][+"0"],(o8y-v8y)/2+this["printAreaCoord"][+"1"],R8y,v8y,k8y];};u8T["prototype"]["removeObjDefs"]=function(M8y){var P8y,B8y;if(!M8y||!M8y["isSVG"]()||M8y["elementLink"]==null)return;P8y=M8y["elementLink"]["attr"]("src");B8y=this["defs"]["find"](P8y);if(B8y)B8y["detach"]();};u8T["prototype"]["removeDefs"]=function(d8y){var i8y;if(!this["defs"])return;for(var H8y=+"0";H8y<d8y["length"];H8y++){try{i8y=this["defs"]["find"](d8y[H8y]);if(i8y)i8y["detach"]();}catch(N8y){}}};u8T["prototype"]["hasStrictObjects"]=function(){return this["getObjList"]()["some"](function(x8y){var j8y;j8y=x8y["attr"]();return j8y["required"]||j8y["fitConstraints"]||x8y["isConstrained"]();});};u8T["prototype"]["getObjList"]=function(){var Z8y;Z8y=[];for(var c8y=+"0";c8y<this["elements"]["length"];c8y++){if(this["elements"][c8y]["node"]&&this["elements"][c8y]["node"]["objectLink"]){Z8y["push"](this["elements"][c8y]["node"]["objectLink"]);}}return Z8y;};u8T["prototype"]["processBackgroundStyle"]=function(){var e8y;if(this["backgroundStyleNode"]){this["backgroundStyle"]=new Y8T["VO"]["StyleVO"](this["backgroundStyleNode"]["text"]());if(this["loadedSVGBackgroundStyle"]){this["backgroundStyle"]["fromColorizeArray"](this["loadedSVGBackgroundStyle"]["toColorizeArray"]());this["colorizeBackground"](this["backgroundStyle"]["toColorizeArray"]());this["loadedSVGBackgroundStyle"]=null;}e8y=this["backgroundStyle"]["toColorizeArray"]();this["dispatchEvent"](new Y8T["Events"]["BackgroundColorizeParsedEvent"](e8y));}else{this["dispatchEvent"](new Y8T["Events"]["BackgroundColorizeParsedEvent"]([]));}};u8T["prototype"]["extractLoadedBackgroundStyle"]=function(s8y){var a8y;if(!s8y)return;a8y=s8y["find"]("style");if(a8y){this["loadedSVGBackgroundStyle"]=new Y8T["VO"]["StyleVO"](a8y["text"]());}};u8T["prototype"]["colorizeBackground"]=function(n8y){if(this["backgroundStyleNode"]&&this["backgroundStyle"]&&!this["loadingSVGBackground"]){this["backgroundStyle"]["fromColorizeArray"](n8y);this["backgroundStyleNode"]["text"](this["backgroundStyle"]["toString"]());this["forceRedraw"]();}};u8T["prototype"]["forceRedraw"]=function(){var h8y,U8y,S8y;h8y=this;if(this["redrawing"])this["stopRedraw"]();this["redrawing"]=!!"1";this["redrawEl"]=this["holder"]["0"-0];this["redrawN"]=document["createTextNode"](' ');U8y=this["redrawEl"]["style"]["display"];this["redrawEl"]["appendChild"](this["redrawN"]);this["redrawEl"]["style"]["display"]='none';S8y=function(){return h8y["stopRedraw"]();};setTimeout(S8y,+"40");};u8T["prototype"]["stopRedraw"]=function(){if(!this["redrawing"])return;this["redrawing"]=!!"";this["redrawEl"]["style"]["display"]="";this["redrawN"]["parentNode"]["removeChild"](this["redrawN"]);};u8T["prototype"]["delayRedraw"]=function(){var L8y,l8y;L8y=this;if(!this["redrawing"])return;this["stopRedraw"]();l8y=function(){return L8y["forceRedraw"]();};setTimeout(l8y,+"40");};u8T["prototype"]["speedRender"]=function(){if(!this["speedDiv"])return;this["speedDiv"]["text"](".");};u8T["prototype"]["createSpeedDiv"]=function(){this["speedDiv"]=jQuery("<div>");this["speedDiv"]["css"]({'\x66\x6f\x6e\x74\x2d\x73\x69\x7a\x65':1,'\x70\x6f\x69\x6e\x74\x65\x72\x2d\x65\x76\x65\x6e\x74\x73':"none",'\x63\x6f\x6c\x6f\x72':"#010101",'\x7a\x2d\x69\x6e\x64\x65\x78':+"0"});this["speedDiv"]["appendTo"](this["holder"]);};u8T["prototype"]["fixHrefs"]=function(f8y){var Y8y,p8y,q8y;Y8y="0"-0;while(Y8y>="0"-0){Y8y=f8y["indexOf"]("href",Y8y);if(Y8y>=0){if(f8y["substring"](Y8y-1,Y8y)!=":"){p8y=f8y["substring"](Y8y-4,Y8y-"2"*1)["toLocaleLowerCase"]();q8y=f8y["slice"]("0"*1,Y8y)+"xlink:"+f8y["slice"](Y8y);f8y=q8y;Y8y=Y8y+ +"7";}else if(f8y["substring"](Y8y-4,Y8y-"2"*1)["toLocaleLowerCase"]()=="ns"){q8y=f8y["slice"](0,Y8y-("4"-0))+"xlink:"+f8y["slice"](Y8y);f8y=q8y;Y8y=Y8y+ +"4";}else{Y8y++;}}}Y8y=0;return f8y;};u8T["prototype"]["setLockProportions"]=function(u8y){if(u8y==this["lockProportions"])return;this["lockProportions"]=u8y;this["tracker"]["setLockProportions"](u8y);};u8T["prototype"]["processGraphicsStyle"]=function(F8y,b8y){var E8y,r8y,J8y,W8y,O3y,m3y;if(!F8y["multicolor"])return;E8y=this["getObjStyleNode"](F8y,b8y);if(!E8y)return;if(F8y["styleVO"]&&F8y["styleVO"]["skipParseStyles"]){F8y["styleVO"]["skipParseStyles"]=!1;F8y["styleVO"]["symbolId"]=b8y["attr"]("src");r8y=F8y["styleVO"];}else{r8y=new Y8T["VO"]["StyleVO"](E8y["text"](),b8y["attr"]("src"));F8y["styleVO"]=r8y;}J8y=r8y["toColorizeArray"]();if(!F8y["complexColor"]["colorizeInited"]){for(var w8y="0"-0;w8y<J8y["length"];w8y++){W8y=J8y[w8y];O3y=Y8T["Util"]["cleanUID"](W8y["id"]);m3y=Y8T["Util"]["arrayFind"](F8y["complexColor"]["colorizeList"],"id",O3y);if(m3y)m3y["value"]=W8y["value"];}}E8y["text"](F8y["styleVO"]["toString"]());F8y["complexColor"]["colorizeInited"]=!"";};u8T["prototype"]["getObjStyleNode"]=function(G3y,A3y){var C3y,z3y,I3y;if(!G3y)return null;if(!A3y)return null;if(G3y["type"]!=ObjectType["SVG"])return null;z3y=A3y["attr"]("src");I3y=this["defs"]["find"](z3y);C3y=I3y["find"]("style");return C3y;};u8T["prototype"]["colorizeObject"]=function(t3y){var X3y,K3y;if(!t3y)return;if(!t3y["complexColor"])return;X3y=t3y["complexColor"]["colorizeList"];K3y=this["getObjStyleNode"](t3y,t3y["elementLink"]);if(K3y&&t3y["styleVO"]){t3y["styleVO"]["fromColorizeArray"](X3y);K3y["text"](t3y["styleVO"]["toString"]());this["forceRedraw"]();}};u8T["prototype"]["extractLoadedGraphicsStyle"]=function(T3y){var y3y;if(!T3y)return;y3y=this["getObjStyleNode"](T3y,T3y["elementLink"]);if(y3y){T3y["styleVO"]=new Y8T["VO"]["StyleVO"](y3y["text"]());}this["processGraphicsStyle"](T3y,T3y["elementLink"]);};u8T["prototype"]["setZoom"]=function(R3y){var k3y,v3y,Q3y,o3y,D3y;if(!this["options"]["zoomEnabled"])return;if(R3y==this["viewPort"]["zoom"])return;k3y=this["rulerHolder"]?this["ruler"]["RULER_HEIGHT"]:+"0";v3y=this["canvas"]["width"]/(this["viewPort"]["zoom"]/+"100");Q3y=this["canvas"]["height"]/(this["viewPort"]["zoom"]/+"100");this["viewPort"]["zoom"]=R3y;o3y=this["canvas"]["width"]/(R3y/("100"*1));D3y=this["canvas"]["height"]/(R3y/("100"-0));this["viewPort"]["x"]+=(v3y-o3y)/("2"-0);this["viewPort"]["y"]+=(Q3y-D3y)/+"2";this["updateViewBox"]();};u8T["prototype"]["setDrag"]=function(g3y){if(g3y==this["drag"])return;this["drag"]=g3y;if(this["drag"]){this["svgHolder"]["css"]("cursor","move");}else{this["svgHolder"]["css"]("cursor","default");}};u8T["prototype"]["setViewPort"]=function(V3y){if(this["viewPort"]["x"]["toFixed"](+"8")==V3y["x"]["toFixed"](+"8")&&this["viewPort"]["y"]["toFixed"]("8"-0)==V3y["y"]["toFixed"](8)&&this["viewPort"]["zoom"]["toFixed"]("8"|0)==V3y["zoom"]["toFixed"](+"8"))return;this["viewPort"]["x"]=V3y["x"];this["viewPort"]["y"]=V3y["y"];this["viewPort"]["zoom"]=V3y["zoom"];this["updateViewBox"]();};u8T["prototype"]["getViewPort"]=function(){return this["viewPort"];};u8T["prototype"]["updateViewBox"]=function(){var P3y,H3y,B3y,M3y;this["trimViewPort"]();P3y=this["rulerHolder"]?this["ruler"]["RULER_HEIGHT"]:0;H3y=(this["canvas"]["width"]+P3y)/(this["viewPort"]["zoom"]/+"100");B3y=(this["canvas"]["height"]+P3y)/(this["viewPort"]["zoom"]/100);M3y=P3y/(this["viewPort"]["zoom"]/+"100");this["canvas"]["setViewBox"](this["viewPort"]["x"]-M3y,this["viewPort"]["y"]-M3y,H3y,B3y,!!{});if(this["backgroundCanvas"]){this["backgroundCanvas"]["setViewBox"](this["viewPort"]["x"]-M3y,this["viewPort"]["y"]-M3y,H3y,B3y,!![]);};if(this["referenceEl"]){this["referenceEl"]["attr"]({'\x78':this["viewPort"]["x"],'\x79':this["viewPort"]["y"]+B3y-this["options"]["referenceShift"]});}if(this["overlayCanvas"]){this["overlayCanvas"]["setViewBox"](this["viewPort"]["x"]-M3y,this["viewPort"]["y"]-M3y,H3y,B3y,!!1);};this["tracker"]["setZoom"](this["viewPort"]["zoom"]);this["speedRender"]();this["ruler"]["setViewPort"](this["viewPort"]);this["dispatchEvent"](new Y8T["Events"]["ViewPortChangedEvent"](this["viewPort"],this));};u8T["prototype"]["trimViewPort"]=function(){var i3y,d3y,N3y,j3y,x3y,c3y;if(this["viewPort"]["zoom"]>this["options"]["maxZoom"])this["viewPort"]["zoom"]=this["options"]["maxZoom"];if(this["viewPort"]["zoom"]<this["options"]["minZoom"])this["viewPort"]["zoom"]=this["options"]["minZoom"];i3y=this["canvas"]["width"]/(this["viewPort"]["zoom"]/+"100");d3y=this["canvas"]["height"]/(this["viewPort"]["zoom"]/("100"*1));if(this["viewPort"]["zoom"]<=("100"|0)){this["viewPort"]["x"]=(this["canvas"]["width"]-i3y)/2;this["viewPort"]["y"]=(this["canvas"]["height"]-d3y)/+"2";}else{N3y=+"0";if(this["viewPort"]["x"]<N3y)this["viewPort"]["x"]=N3y;j3y=this["canvas"]["width"]-i3y;if(this["viewPort"]["x"]>j3y)this["viewPort"]["x"]=j3y;x3y="0"|0;if(this["viewPort"]["y"]<x3y)this["viewPort"]["y"]=x3y;c3y=this["canvas"]["height"]-d3y;if(this["viewPort"]["y"]>c3y)this["viewPort"]["y"]=c3y;}};u8T["prototype"]["forceTrackerUpdate"]=function(Z3y){if(this["selected"]()==Z3y){this["tracker"]["track"](Z3y["elementLink"],!"");}};u8T["prototype"]["displayCutLines"]=function(a3y){var e3y,s3y;e3y=jQuery(this["backgroundCanvas"]["canvas"])["find"]("[la-cutline='true']");s3y=e3y["length"];if(a3y){e3y["css"]({'\x64\x69\x73\x70\x6c\x61\x79':"inline"});}else{e3y["css"]({'\x64\x69\x73\x70\x6c\x61\x79':"none"});}};u8T["prototype"]["updateTextElementTranformations"]=function(){var h3y,S3y;for(var n3y="0"-0;n3y<this["elements"]["length"];n3y++){if(this["elements"][n3y]["node"]["objectLink"]){h3y=this["elements"][n3y]["node"]["objectLink"];if(h3y["textElementLink"]){h3y["textElementLink"]["transform"](this["elements"][n3y]["transform"]());S3y=h3y["getBBox"](!!1);h3y["textElementLink"]["transform"]("...t"+S3y["width"]/("2"*1)+","+S3y["height"]/("2"|0));}}}};u8T["prototype"]["log"]=function(U3y,L3y){return;};u8T["prototype"]["setEnableSnapGuides"]=function(l3y){this["snapLinesManager"]["setEnableSnapGuides"](l3y);};u8T["prototype"]["getClipRectCoord"]=function(){return this["clipRectCoord"];};u8T["prototype"]["getPrintAreaCoord"]=function(){return this["printAreaCoord"];};u8T["prototype"]["showConstraints"]=function(Y3y){var f3y,q3y,p3y;if(!Y3y)return;if(Y3y["isConstraintsShown"]())return;f3y=Y3y["attr"]()["constraints"];if(!f3y||!f3y["length"]||f3y["length"]<+"4")return;Y3y["elementLinkBackup"]=Y3y["elementLink"];Y3y["elementIdBackup"]=Y3y["elementId"];q3y=this["canvas"]["rect"](f3y[+"0"],f3y[1],f3y["2"*1],f3y[3]);p3y=Y8T["Util"]["generateUID"]();q3y["attr"]({'\x66\x69\x78\x65\x64\x52\x6f\x74\x61\x74\x65':!!{},'\x73\x74\x72\x6f\x6b\x65':"none",'\x69\x64':p3y,'\x72\x65\x71\x75\x69\x72\x65\x64':!!1});Y3y["elementId"]=p3y;Y3y["elementLink"]=q3y;q3y["node"]["objectLink"]=Y3y;Y8T["Util"]["arrayRemove"](Y3y["elementLinkBackup"],this["elements"]);this["elements"]["push"](q3y);this["fixPrintAreaLayer"]();};u8T["prototype"]["hideConstraints"]=function(u3y){var F3y;if(!u3y)return;if(!u3y["isConstraintsShown"]())return;F3y=Y8T["Util"]["getBBox"](u3y["elementLink"]);u3y["elementLinkBackup"]["attr"]({'\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x73':[F3y["x"],F3y["y"],F3y["width"],F3y["height"]]});if(u3y["textElementLink"])u3y["textElementLink"]["attr"]({'\x63\x6f\x6e\x73\x74\x72\x61\x69\x6e\x74\x73':[F3y["x"],F3y["y"],F3y["width"],F3y["height"]]});Y8T["Util"]["arrayRemove"](u3y["elementLink"],this["elements"]);this["elements"]["push"](u3y["elementLinkBackup"]);u3y["elementLink"]["remove"]();u3y["elementId"]=u3y["elementIdBackup"];u3y["elementLink"]=u3y["elementLinkBackup"];u3y["elementIdBackup"]="";u3y["elementLinkBackup"]=null;if(u3y["isFitConstraints"]())u3y["checkConstraints"]();};u8T["prototype"]["hasColorArea"]=function(E3y){return jQuery(this["canvas"]["canvas"])["find"](E3y)["length"]>"0"*1||jQuery(this["backgroundCanvas"]["canvas"])["find"](E3y)["length"]>0;};return u8T;}(Y8T["Events"]["EventDispatcher"]);Y8T["LADesigner"]=p8T;(function(r3y){r3y["Move"]="move";r3y["Resize"]="resize";r3y["ResizeH"]="resizeH";r3y["ResizeV"]="resizeV";r3y["Rotate"]="rotate";r3y["Delete"]="delete";r3y["Lock"]="lock";r3y["Unlock"]="unlock";r3y["Drag"]="drag";}(f8T=Y8T["Action"]||(Y8T["Action"]={})));(function(w3y){w3y["Both"]="both";w3y["Horizontal"]="horizontal";w3y["Vertical"]="vertical";}(q8T=Y8T["ResizeKind"]||(Y8T["ResizeKind"]={})));}(LAJS||(LAJS={})));(function(b3y){var J3y;(function(W3y){var m1y;(function(G1y){var O1y;O1y=function(){A1y["prototype"]["doPost"]=function(z1y,I1y){var t1y;this["$"]["support"]["cors"]=!!{};t1y=this["$"]["ajax"](z1y,{'\x64\x61\x74\x61':JSON["stringify"](I1y),'\x64\x61\x74\x61\x54\x79\x70\x65':"json",'\x74\x79\x70\x65':"POST",'\x63\x6f\x6e\x74\x65\x6e\x74\x54\x79\x70\x65':"application/json;charset=utf-8"});return Promise["resolve"](t1y)["catch"](function(K1y){console["error"]("LiveArt ajax: fail to post %O to '%s'",I1y,z1y);throw new Error(K1y["statusText"]);});};function A1y(C1y){this["$"]=C1y;}return A1y;}();G1y["BaseAjaxService"]=O1y;}(m1y=W3y["Ajax"]||(W3y["Ajax"]={})));}(J3y=b3y["ExternalServices"]||(b3y["ExternalServices"]={})));}(LAJS||(LAJS={})));(function(X1y){var T1y;(function(y1y){var R1y;(function(v1y){var Q1y;Q1y=function(D1y){function o1y(g1y,V1y){var k1y;k1y=D1y["call"](this,g1y)||this;k1y["_configManager"]=V1y;return k1y;}__extends(o1y,D1y);o1y["prototype"]["calculate"]=function(B1y){var M1y;M1y=this["_configManager"]["config"];return this["doPost"](M1y["getQuoteUrl"],B1y);};return o1y;}(v1y["BaseAjaxService"]);v1y["QuoteService"]=Q1y;}(R1y=y1y["Ajax"]||(y1y["Ajax"]={})));}(T1y=X1y["ExternalServices"]||(X1y["ExternalServices"]={})));}(LAJS||(LAJS={})));NNViewModel=function(){P1y["extend"]=function(H1y){var i1y;i1y=H1y;i1y["namesNumberSizeQuantities"]=ko["computed"](function(){var d1y;d1y=new Array();ko["utils"]["arrayForEach"](H1y["namesNumbers"](),function(j1y){var x1y,N1y;x1y=j1y["size"]();N1y=ko["utils"]["arrayFirst"](d1y,function(c1y){return c1y["size"]()==x1y;});if(N1y==null){N1y=new SizeQuantityVO(j1y["size"](),+"0");d1y["push"](N1y);}if(H1y["isValidNameNumber"](j1y))N1y["quantity"](N1y["quantity"]()+("1"|0));});return d1y;});return i1y;};function P1y(){}return P1y;}();NNHelper=function(){Z1y["prototype"]["findSizeLineByName"]=function(n1y,s1y){var a1y;if(s1y===void+"0"){s1y=![];}a1y=ko["utils"]["arrayFirst"](this["model"]["quantities"](),function(h1y){return h1y["size"]()==n1y;});if(a1y==null&&s1y)a1y=this["model"]["addQuantityBaseOnSize"](n1y);return a1y;};function Z1y(e1y){this["model"]=e1y;}Z1y["prototype"]["findNameNumberQuantityByName"]=function(S1y){return ko["utils"]["arrayFirst"](this["model"]["namesNumberSizeQuantities"](),function(U1y){return U1y["size"]()==S1y;});};return Z1y;}();NNQuantitySynchronizer=function(){L1y["prototype"]["onNameNumberSizeChanged"]=function(Y1y){var f1y,q1y;this["model"]["namesNumbers"]["valueHasMutated"]();f1y="size"in Y1y&&Y1y["size"]!=null;q1y="prevSize"in Y1y&&Y1y["prevSize"]!=null;if(q1y)this["decreasePrevQuantityLine"](Y1y["prevSize"],f1y);if(!f1y)return;this["increaseOrCreateNewQuantityLine"](Y1y["size"]);};L1y["prototype"]["onRemovedNameNumberLine"]=function(u1y){var p1y;p1y={'\x70\x72\x65\x76\x53\x69\x7a\x65':u1y["size"](),'\x73\x69\x7a\x65':null};this["onNameNumberSizeChanged"](p1y);};L1y["prototype"]["onAddNameNumberLine"]=function(E1y){var F1y;F1y={'\x70\x72\x65\x76\x53\x69\x7a\x65':null,'\x73\x69\x7a\x65':E1y["size"]()};this["onNameNumberSizeChanged"](F1y);};L1y["prototype"]["getMinQuantity"]=function(b1y){var r1y,w1y;r1y="0"-0;w1y=this["nnHelper"]["findNameNumberQuantityByName"](b1y["size"]());if(w1y!=null)r1y=w1y["quantity"]();return r1y;};L1y["prototype"]["onNamesNumbersChanged"]=function(){var O6y,m6y,W1y,G6y,z6y,A6y,C6y,I6y;O6y=this["model"]["namesNumbers"]();m6y={};for(var J1y=+"0";J1y<O6y["length"];J1y++){W1y=O6y[J1y]["size"]()["toString"]();if(this["model"]["isValidNameNumber"](O6y[J1y])){if(m6y[W1y]){m6y[W1y]++;}else{m6y[W1y]=1;}}}G6y=Object["keys"](m6y);for(var J1y=0;J1y<G6y["length"];J1y++){W1y=G6y[J1y];z6y=m6y[W1y];A6y=this["nnHelper"]["findNameNumberQuantityByName"](W1y);C6y="0"*1;while(A6y&&A6y["quantity"]()+C6y<z6y){I6y=this["nnHelper"]["findSizeLineByName"](W1y,!![]);this["model"]["increaseQuantity"](I6y);C6y++;}}};L1y["prototype"]["decreasePrevQuantityLine"]=function(K6y,X6y){var t6y;t6y=this["nnHelper"]["findSizeLineByName"](K6y);if(t6y!=null)this["model"]["decreaseQuantity"](t6y,null,{'\x69\x67\x6e\x6f\x72\x65\x54\x6f\x74\x61\x6c':X6y,'\x72\x65\x6d\x6f\x76\x65\x5a\x65\x72\x6f':!!{}});};L1y["prototype"]["increaseOrCreateNewQuantityLine"]=function(y6y){var T6y,R6y,v6y;T6y=this["nnHelper"]["findSizeLineByName"](y6y,!!{});R6y=this["requireIncreaseByNameNumbers"](y6y,T6y);v6y=this["requireIncreaseByTotal"]();if(R6y||v6y){this["model"]["increaseQuantity"](T6y);}};L1y["prototype"]["requireIncreaseByNameNumbers"]=function(k6y,g6y){var Q6y,o6y,D6y;Q6y=this["nnHelper"]["findNameNumberQuantityByName"](k6y);o6y=Q6y["quantity"]();D6y=g6y["quantity"]();return o6y>D6y;};L1y["prototype"]["requireIncreaseByTotal"]=function(){var V6y,M6y;V6y=this["model"]["totalQuantity"]();M6y=this["model"]["restrictions"]()["minQuantity"]();return V6y<M6y;};function L1y(l1y){this["model"]=NNViewModel["extend"](controlsModel);this["nnHelper"]=new NNHelper(this["model"]);}return L1y;}();liveArt=new LAJS["LiveArtJS"]();(function(B6y){var P6y;(function(d6y){var i6y,H6y;i6y=function(){N6y["prototype"]["setSessionValue"]=function(j6y,x6y){this["setValue"](sessionStorage,j6y,x6y);};N6y["prototype"]["getSessionValue"]=function(c6y){return this["getValue"](sessionStorage,c6y);};N6y["prototype"]["setLocalValue"]=function(Z6y,e6y){this["setValue"](localStorage,Z6y,e6y);};N6y["prototype"]["getLocalValue"]=function(a6y){return this["getValue"](localStorage,a6y);};N6y["prototype"]["clearLocalStorage"]=function(){localStorage["removeItem"](H6y["OBJECT_KEY"]);};N6y["prototype"]["clearSessionStorage"]=function(){sessionStorage["removeItem"](H6y["OBJECT_KEY"]);};N6y["prototype"]["setValue"]=function(s6y,S6y,U6y,n6y){var h6y;if(n6y===void+"0"){n6y=![];}try{h6y=this["getStorageObject"](s6y);h6y[S6y]={'\x76\x61\x6c\x75\x65':U6y,'\x74\x69\x6d\x65':new Date()["getTime"]()};this["setStorageObject"](s6y,h6y);}catch(L6y){if(!n6y){this["clearStorage"](s6y);this["setValue"](s6y,S6y,U6y,!!{});}else{console["error"](L6y);}}};function N6y(){this["key"]=window["location"]["host"]+window["location"]["pathname"];}N6y["prototype"]["getValue"]=function(f6y,q6y){var Y6y,l6y;Y6y=this["getStorageObject"](f6y);l6y=Y6y[q6y];return l6y?l6y["value"]:null;};N6y["prototype"]["getStorage"]=function(u6y){var p6y;p6y={};try{p6y=u6y["getItem"](H6y["OBJECT_KEY"]);if(!p6y){p6y={};}else{p6y=JSON["parse"](p6y);}}catch(F6y){this["clearStorage"](u6y);p6y={};}return p6y;};N6y["prototype"]["getStorageObject"]=function(r6y){var E6y;E6y=this["getStorage"](r6y);return this["key"]in E6y?E6y[this["key"]]:{};};N6y["prototype"]["setStorageObject"]=function(b6y,J6y){var w6y;w6y=this["getStorage"](b6y);w6y[this["key"]]=J6y;try{b6y["setItem"](H6y["OBJECT_KEY"],JSON["stringify"](w6y));}catch(W6y){console["error"](W6y);}};N6y["prototype"]["clearStorage"]=function(m7y){try{m7y["setItem"](H6y["OBJECT_KEY"],"");}catch(O7y){console["error"](O7y);}};return N6y;}();d6y["BrowserStorageManager"]=i6y;(function(G7y){G7y["OBJECT_KEY"]="lajs";}(H6y||(H6y={})));}(P6y=B6y["Model"]||(B6y["Model"]={})));}(LAJS||(LAJS={})));(function(A7y){var C7y;(function(z7y){var I7y;I7y=function(){t7y["prototype"]["waitDialogResult"]=function(){var K7y;K7y=this;if(this["_modalDialogCallback"])throw new Error("Can't show two modal dialogs in same time");return new Promise(function(X7y,T7y){K7y["_modalDialogCallback"]=function(y7y){if(y7y["userCanceled"])T7y(y7y);else X7y(y7y);};});};t7y["prototype"]["tryProcessModalDialog"]=function(v7y){var R7y;if(this["_modalDialogCallback"]==null)return!!0;R7y=this["_modalDialogCallback"];this["_modalDialogCallback"]=null;R7y(v7y);return!0;};function t7y(){this["_modalDialogCallback"]=null;}t7y["prototype"]["showMessage"]=function(o7y){var Q7y;Q7y=new A7y["VO"]["AlertInfo"](o7y);z7y["controlsManager"]["addAlert"](Q7y);return Promise["resolve"]();};t7y["prototype"]["showSuccessMessage"]=function(k7y){var D7y;D7y=new A7y["VO"]["AlertInfo"](k7y,AlertLevels["SUCCESS"]);z7y["controlsManager"]["addAlert"](D7y);return Promise["resolve"]();};t7y["prototype"]["showErrorMessage"]=function(V7y){var g7y;g7y=new A7y["VO"]["AlertInfo"](V7y,AlertLevels["ERROR"]);z7y["controlsManager"]["addAlert"](g7y);return Promise["resolve"]();};t7y["prototype"]["showWarningMessage"]=function(B7y){var M7y;M7y=new A7y["VO"]["AlertInfo"](B7y,AlertLevels["WARNING"]);z7y["controlsManager"]["addAlert"](M7y);return Promise["resolve"]();};t7y["prototype"]["askDesignNotSupportedOnProductChange"]=function(){return __awaiter(this,void+"0",void+"0",function(){var P7y,H7y,i7y;return __generator(this,function(d7y){switch(d7y["label"]){case"0"|0:P7y=z7y["messageManager"]["continueOption"]();H7y=z7y["messageManager"]["cancelOption"]();return[+"4",A7y["Model"]["controlsManager"]["showActionDialog"](z7y["messageManager"]["loadProductTitle"](""),z7y["messageManager"]["designNotSupportedByProduct"](),[P7y,H7y])];case+"1":i7y=d7y["sent"]();return[2,i7y===P7y];}});});};t7y["prototype"]["askDesignNotSupportedOnTemplateChange"]=function(){return __awaiter(this,void+"0",void+"0",function(){var N7y,j7y,x7y;return __generator(this,function(c7y){switch(c7y["label"]){case"0"*1:N7y=z7y["messageManager"]["continueOption"]();j7y=z7y["messageManager"]["cancelOption"]();return["4"|0,A7y["Model"]["controlsManager"]["showActionDialog"](z7y["messageManager"]["loadTemplate"](),z7y["messageManager"]["designNotSupportedByTemplate"](),[N7y,j7y])];case 1:x7y=c7y["sent"]();return[+"2",x7y===N7y];}});});};return t7y;}();z7y["DialogManager"]=I7y;}(C7y=A7y["Model"]||(A7y["Model"]={})));}(LAJS||(LAJS={})));(function(Z7y){var e7y;(function(a7y){var s7y;s7y=function(){n7y["prototype"]["imageUploaded"]=function(S7y){this["imagesToCountColors"]["push"](S7y);if(a7y["configManager"]["config"]["colors"]&&a7y["configManager"]["config"]["colors"]["length"]!=="0"*1){this["processImageColors"]();}else{S7y["attr"]({'\x70\x72\x6f\x63\x65\x73\x73\x43\x6f\x6c\x6f\x72\x73':!0});}};n7y["prototype"]["processImageColors"]=function(){if(this["processingImageColors"])return;if(this["imagesToCountColors"]["length"]<="0"*1)return;this["processingImageColors"]=!![];a7y["controlsManager"]["showColorCountDialog"]();};n7y["prototype"]["imageColorCountSubmit"]=function(U7y){var L7y;L7y=this["imagesToCountColors"]["shift"]();if(!L7y)return;L7y["attr"]({'\x75\x70\x6c\x6f\x61\x64\x65\x64':!"1",'\x63\x6f\x6c\x6f\x72\x73\x4e\x75\x6d\x62\x65\x72':U7y["colorCount"],'\x70\x72\x6f\x63\x65\x73\x73\x43\x6f\x6c\x6f\x72\x73':U7y["processColors"],'\x63\x6f\x6c\x6f\x72\x73\x4c\x69\x73\x74':U7y["colorsList"]});this["model"]["dispatchEvent"](new Z7y["Events"]["Event"](LAEvents["DESIGNER_CHANGED_EVENT"],this));this["processingImageColors"]=!{};this["processImageColors"]();};function n7y(h7y){this["imagesToCountColors"]=[];this["processingImageColors"]=!!0;this["model"]=h7y;}return n7y;}();a7y["ImageColorsProcessor"]=s7y;}(e7y=Z7y["Model"]||(Z7y["Model"]={})));}(LAJS||(LAJS={})));SchemaNames=function(){function l7y(){}return l7y;}();SchemaNames["DESIGNS_LIST_RESPONSE"]="DesignsListResponse";SchemaNames["SAVE_DESIGN_RESPONSE"]="SaveDesignResponse";SchemaNames["LOAD_DESIGN_RESPONSE"]="LoadDesignResponse";SchemaNames["SAVE_TEMPLATE_RESPONSE"]="SaveTemplateResponse";SchemaNames["TEMPLATES_LIST_RESPONSE"]="TemplatesListResponse";SchemaValidator=function(){Y7y["prototype"]["validate"]=function(f7y,q7y){if(q7y==null)return!![];switch(q7y){case SchemaNames["DESIGNS_LIST_RESPONSE"]:if(!f7y["designs"])return!"1";break;case SchemaNames["SAVE_DESIGN_RESPONSE"]:if(!f7y["design"])return!{};if(!f7y["design"]["id"])return!{};break;case SchemaNames["LOAD_DESIGN_RESPONSE"]:if(!f7y["data"])return!{};break;case SchemaNames["SAVE_TEMPLATE_RESPONSE"]:if(!f7y["template"])return!!0;if(!f7y["template"]["id"])return![];break;case SchemaNames["TEMPLATES_LIST_RESPONSE"]:if(!f7y["templatesCategoriesList"]&&!f7y["templatesList"])return![];break;default:throw new Error("Unknown Schema  '"+q7y+"' ");}return!"";};Y7y["prototype"]["promiseValidated"]=function(p7y,u7y){if(this["validate"](p7y,u7y))return Promise["resolve"](p7y);else return Promise["reject"](new UserError("Response is invalid."));};function Y7y(){}return Y7y;}();schemaValidator=new SchemaValidator();(function(F7y){var E7y;(function(w7y){var r7y;r7y=function(){b7y["svgToGroup"]=function(J7y){J7y=J7y["replace"](new RegExp("<\\s*svg ","g"),"<g ");J7y=J7y["replace"](new RegExp("</\\s*svg","g"),"</g");return J7y;};b7y["buildTransformString"]=function(W7y,m4y,O4y,G4y){var A4y;if(W7y===void 0){W7y=1;}if(m4y===void+"0"){m4y=1;}if(O4y===void("0"-0)){O4y=+"0";}if(G4y===void("0"|0)){G4y="0"-0;}A4y="";if(W7y!==+"1"||m4y!==+"1"){A4y+="scale("+W7y+" "+m4y+")";}if(O4y!==0||G4y!==0){A4y+=" translate("+O4y+" "+G4y+")";}return A4y;};function b7y(){}b7y["parseSVG"]=function(I4y){var C4y,z4y;C4y=jQuery(jQuery["parseXML"](I4y));try{z4y=C4y["find"]("g")["eq"](+"0");}catch(t4y){}return z4y;};b7y["parseSVGDimensions"]=function(X4y){var Q4y,y4y,R4y,k4y,D4y,K4y,o4y,v4y,T4y;Q4y=X4y["attr"]("viewBox");if(!Q4y){try{Q4y=X4y["get"]("0"*1)["attributes"]["viewBox"]["value"];}catch(g4y){}}y4y=0;R4y="0"-0;k4y="0"*1;D4y=+"0";if(Q4y){K4y=F7y["Util"]["parseViewBox"](Q4y);if(K4y){if(K4y[0]!=0||K4y["1"*1]!="0"*1){o4y="translate("+-K4y[+"0"]+", "+-K4y[+"1"]+")";if(X4y["attr"]("transform")){o4y=X4y["attr"]("transform")+" "+o4y;}X4y["attr"]("transform",o4y);}k4y=K4y["0"*1];D4y=K4y["1"|0];y4y=K4y[2];R4y=K4y[+"3"];}}v4y=parseFloat(X4y["attr"]("width"));T4y=parseFloat(X4y["attr"]("height"));if(!v4y)v4y=y4y;if(!T4y)T4y=R4y;if(!y4y&&v4y)y4y=v4y;if(!R4y&&T4y)R4y=T4y;return{'\x76\x69\x65\x77\x42\x6f\x78\x59':D4y,'\x68\x65\x69\x67\x68\x74':T4y,'\x76\x69\x65\x77\x42\x6f\x78\x58':k4y,'\x76\x69\x65\x77\x42\x6f\x78\x57':y4y,'\x77\x69\x64\x74\x68':v4y,'\x76\x69\x65\x77\x42\x6f\x78\x48':R4y};};return b7y;}();w7y["ImageUtils"]=r7y;}(E7y=F7y["Utils"]||(F7y["Utils"]={})));}(LAJS||(LAJS={})));